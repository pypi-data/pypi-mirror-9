(function(c){c(document).ready(function(){c("body").append("<div id='divSmallBoxes'></div>").append("<div id='divMiniIcons'></div>").append("<div id='divBigBoxes'></div>")});function e(){c(".divMessageBox").fadeOut(300,function(){c(this).remove()});c(".LoadingBoxContainer").fadeOut(300,function(){c(this).remove()})}var a=0,b=0,d=0,i=0,f=0,h=0,g=0;MyAMS.notify={messageBox:function(v,u){var r,m,k=MyAMS.browser.isIE8orlower();var n={title:"",content:"",NormalButton:undefined,ActiveButton:undefined,buttons:undefined,input:undefined,placeholder:"",options:undefined,sound:undefined};var l=c.extend({},n,v);if(l.sound&&(k==0)){var t=document.createElement("audio");if(navigator.userAgent.match("Firefox/")){t.setAttribute("src",MyAMS.baseURL+"../sound/message.ogg")}else{t.setAttribute("src",MyAMS.baseURL+"../sound/message.mp3")}c.get();t.addEventListener("load",function(){t.play()},true);t.pause();t.play()}b=b+1;if(a==0){a=1;r="<div class='MessageBox animated fadeIn fast' id='MsgBoxBack'></div>";c("body").append(r);if(MyAMS.browser.isIE8orlower()==1){c("#MsgBoxBack").addClass("MessageIE")}}var o="";var s=0;var q="";var j=0;if(l.input!=undefined){s=1;l.input=l.input.toLowerCase();switch(l.input){case"text":o="<input class='form-control' type='"+l.input+"' id='txt"+b+"' placeholder='"+l.placeholder+"'/><br/><br/>";break;case"password":o="<input class='form-control' type='"+l.input+"' id='txt"+b+"' placeholder='"+l.placeholder+"'/><br/><br/>";break;case"select":if(l.options==undefined){alert("For this type of input, the options parameter is required.")}else{o="<select class='form-control' id='txt"+b+"'>";for(var p=0;p<=l.options.length-1;p++){if(l.options[p]=="["){q=""}else{if(l.options[p]=="]"){j=j+1;q="<option>"+q+"</option>";o+=q}else{q+=l.options[p]}}}o+="</select>"}break;default:alert("That type of input is not handled yet")}}m="<div class='MessageBoxContainer animated fadeIn fast' id='Msg"+b+"'>";m+="<div class='MessageBoxMiddle'>";m+="<span class='MsgTitle'>"+l.title+"</span class='MsgTitle'>";m+="<p class='pText'>"+l.content+"</p>";m+=o;m+="<div class='MessageBoxButtonSection'>";if(l.buttons==undefined){l.buttons="[Accept]"}l.buttons=c.trim(l.buttons);l.buttons=l.buttons.split("");if(l.NormalButton==undefined){l.NormalButton="#232323"}if(l.ActiveButton==undefined){l.ActiveButton="#ed145b"}for(var p=0;p<=l.buttons.length-1;p++){if(l.buttons[p]=="["){q=""}else{if(l.buttons[p]=="]"){j=j+1;q="<button id='bot"+j+"-Msg"+b+"' class='btn btn-default btn-sm botTempo'> "+q+"</button>";m+=q}else{q+=l.buttons[p]}}}m+="</div>";m+="</div>";m+="</div>";if(b>1){c(".MessageBoxContainer").hide();c(".MessageBoxContainer").css("z-index",99999)}c(".MessageBox").append(m);if(s==1){c("#txt"+b).focus()}c(".botTempo").hover(function(){var w=c(this).attr("id")},function(){var w=c(this).attr("id")});c(".botTempo").click(function(){var A=c(this).attr("id");var z=A.substr(A.indexOf("-")+1);var x=c.trim(c(this).text());if(s==1){if(typeof u=="function"){var y=z.replace("Msg","");var w=c("#txt"+y).val();if(u){u(x,w)}}}else{if(typeof u=="function"){if(u){u(x)}}}c("#"+z).addClass("animated fadeOut fast");b=b-1;if(b==0){c("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){a=0;c(this).remove()})}})},bigBox:function(j,q){var m,n;j=c.extend({title:"",content:"",icon:undefined,number:undefined,color:undefined,sound:true,timeout:undefined,colortime:1500,colors:undefined},j);if(j.sound===true){if(MyAMS.browser.isIE8orlower()==0){var p=document.createElement("audio");if(navigator.userAgent.match("Firefox/")){p.setAttribute("src",MyAMS.baseURL+"../snd/bigbox.ogg")}else{p.setAttribute("src",MyAMS.baseURL+"../snd/bigbox.mp3")}c.get();p.addEventListener("load",function(){p.play()},true);p.pause();p.play()}}i=i+1;m="<div id='bigBox"+i+"' class='BigBox animated fadeIn fast'><div id='bigBoxColor"+i+"'><i class='btnClose fa fa-times' id='btnClose"+i+"'></i>";if(j.icon==undefined){j.icon="fa fa-cloud"}m+="<span><i class='"+j.icon+"'></i>&nbsp; "+j.title+"</span>";m+="<p>"+j.content+"</p>";m+="<div class='bigboxnumber'>";if(j.number!=undefined){m+=j.number}m+="</div></div>";m+="</div>";c("#divBigBoxes").append(m);if(j.color==undefined){j.color="#004d60"}c("#bigBox"+i).css("background-color",j.color);c("#divMiniIcons").append("<div id='miniIcon"+i+"' class='cajita animated fadeIn' style='background-color: "+j.color+";'><i class='"+j.icon+"'/></i></div>");c("#miniIcon"+i).bind("click",function(){var v=c(this).attr("id");var u=v.replace("miniIcon","bigBox");var t=v.replace("miniIcon","bigBoxColor");c(".cajita").each(function(x){var w=c(this).attr("id");var y=w.replace("miniIcon","bigBox");c("#"+y).css("z-index",9998)});c("#"+u).css("z-index",9999);c("#"+t).removeClass("animated fadeIn").delay(1).queue(function(){c(this).show();c(this).addClass("animated fadeIn");c(this).clearQueue()})});var k=c("#btnClose"+i);var o=c("#bigBox"+i);var s=c("#miniIcon"+i);var r;if(j.colors!=undefined&&j.colors.length>0){k.attr("colorcount","0");r=setInterval(function(){var t=k.attr("colorcount");k.animate({backgroundColor:j.colors[t].color});o.animate({backgroundColor:j.colors[t].color});s.animate({backgroundColor:j.colors[t].color});if(t<j.colors.length-1){k.attr("colorcount",((t*1)+1))}else{k.attr("colorcount",0)}},j.colortime)}k.bind("click",function(){clearInterval(r);if(typeof q=="function"){if(q){q()}}var u=c(this).attr("id");var t=u.replace("btnClose","bigBox");var v=u.replace("btnClose","miniIcon");c("#"+t).removeClass("fadeIn fast");c("#"+t).addClass("fadeOut fast").delay(300).queue(function(){c(this).clearQueue();c(this).remove()});c("#"+v).removeClass("fadeIn fast");c("#"+v).addClass("fadeOut fast").delay(300).queue(function(){c(this).clearQueue();c(this).remove()})});if(j.timeout!=undefined){var l=i;setTimeout(function(){clearInterval(r);var u=c("#bigBox"+l);u.removeClass("fadeIn fast");u.addClass("fadeOut fast").delay(300).queue(function(){c(this).clearQueue();c(this).remove()});var t=c("#miniIcon"+l);t.removeClass("fadeIn fast");t.addClass("fadeOut fast").delay(300).queue(function(){c(this).clearQueue();c(this).remove()})},j.timeout)}},smallBox:function(k,q){var m,n;k=c.extend({title:"",content:"",icon:undefined,iconSmall:undefined,sound:true,color:undefined,timeout:undefined,colortime:1500,colors:undefined},k);if(k.sound===true){if(MyAMS.browser.isIE8orlower()==0){var o=document.createElement("audio");if(navigator.userAgent.match("Firefox/")){o.setAttribute("src",MyAMS.baseURL+"../snd/smallbox.ogg")}else{o.setAttribute("src",MyAMS.baseURL+"../snd/smallbox.mp3")}c.get();o.addEventListener("load",function(){o.play()},true);o.pause();o.play()}}f=f+1;m="";var l="",j="smallbox"+f;if(k.iconSmall==undefined){l="<div class='miniIcon'></div>"}else{l="<div class='miniIcon'><i class='miniPic "+k.iconSmall+"'></i></div>"}if(k.icon==undefined){m="<div id='smallbox"+f+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+k.title+"</span><p>"+k.content+"</p></div>"+l+"</div>"}else{m="<div id='smallbox"+f+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+k.icon+"'></i></div><div class='textoFoto'><span>"+k.title+"</span><p>"+k.content+"</p></div>"+l+"</div>"}if(f==1){c("#divSmallBoxes").append(m);g=c("#smallbox"+f).height()+40}else{var p=c(".SmallBox").size();if(p==0){c("#divSmallBoxes").append(m);g=c("#smallbox"+f).height()+40}else{c("#divSmallBoxes").append(m);c("#smallbox"+f).css("top",g);g=g+c("#smallbox"+f).height()+20;c(".SmallBox").each(function(t){if(t==0){c(this).css("top",20);heightPrev=c(this).height()+40;g=c(this).height()+40}else{c(this).css("top",heightPrev);heightPrev=heightPrev+c(this).height()+20;g=g+c(this).height()+20}})}}var s=c("#smallbox"+f);if(k.color==undefined){s.css("background-color","#004d60")}else{s.css("background-color",k.color)}var r;if(k.colors!=undefined&&k.colors.length>0){s.attr("colorcount","0");r=setInterval(function(){var t=s.attr("colorcount");s.animate({backgroundColor:k.colors[t].color});if(t<k.colors.length-1){s.attr("colorcount",((t*1)+1))}else{s.attr("colorcount",0)}},k.colortime)}if(k.timeout!=undefined){setTimeout(function(){clearInterval(r);var u=c(this).height()+20;var t=j;var v=c("#"+j).css("top");if(c("#"+j+":hover").length!=0){c("#"+j).on("mouseleave",function(){g=g-u;c("#"+j).remove();if(typeof q=="function"){if(q){q()}}var x=1;var w=0;c(".SmallBox").each(function(y){if(y==0){c(this).animate({top:20},300);w=c(this).height()+40;g=c(this).height()+40}else{c(this).animate({top:w},350);w=w+c(this).height()+20;g=g+c(this).height()+20}})})}else{clearInterval(r);g=g-u;if(typeof q=="function"){if(q){q()}}c("#"+j).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){c(this).remove();var x=1;var w=0;c(".SmallBox").each(function(y){if(y==0){c(this).animate({top:20},300);w=c(this).height()+40;g=c(this).height()+40}else{c(this).animate({top:w});w=w+c(this).height()+20;g=g+c(this).height()+20}})})}},k.timeout)}c("#smallbox"+f).bind("click",function(){clearInterval(r);if(typeof q=="function"){if(q){q()}}var u=c(this).height()+20;var t=c(this).attr("id");var v=c(this).css("top");g=g-u;c(this).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){c(this).remove();var x=1;var w=0;c(".SmallBox").each(function(y){if(y==0){c(this).animate({top:20},300);w=c(this).height()+40;g=c(this).height()+40}else{c(this).animate({top:w},350);w=w+c(this).height()+20;g=g+c(this).height()+20}})})})}}})(jQuery);
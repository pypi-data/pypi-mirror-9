(function(p){p(document).ready(function(){p("body").append("<div id='divSmallBoxes'></div>").append("<div id='divMiniIcons'></div>").append("<div id='divBigBoxes'></div>")});function n(){p(".divMessageBox").fadeOut(300,function(){p(this).remove()});p(".LoadingBoxContainer").fadeOut(300,function(){p(this).remove()})}var r=0,q=0,o=0,j=0,m=0,k=0,l=0;MyAMS.notify={messageBox:function(w,x){var a,g,i=MyAMS.browser.isIE8orlower();var f={title:"",content:"",NormalButton:undefined,ActiveButton:undefined,buttons:undefined,input:undefined,placeholder:"",options:undefined,sound:undefined};var h=p.extend({},f,w);if(h.sound&&(i==0)){var y=document.createElement("audio");if(navigator.userAgent.match("Firefox/")){y.setAttribute("src",MyAMS.baseURL+"../sound/message.ogg")}else{y.setAttribute("src",MyAMS.baseURL+"../sound/message.mp3")}p.get();y.addEventListener("load",function(){y.play()},true);y.pause();y.play()}q=q+1;if(r==0){r=1;a="<div class='MessageBox animated fadeIn fast' id='MsgBoxBack'></div>";p("body").append(a);if(MyAMS.browser.isIE8orlower()==1){p("#MsgBoxBack").addClass("MessageIE")}}var e="";var z=0;if(h.input!=undefined){z=1;h.input=h.input.toLowerCase();switch(h.input){case"text":e="<input class='form-control' type='"+h.input+"' id='txt"+q+"' placeholder='"+h.placeholder+"'/><br/><br/>";break;case"password":e="<input class='form-control' type='"+h.input+"' id='txt"+q+"' placeholder='"+h.placeholder+"'/><br/><br/>";break;case"select":if(h.options==undefined){alert("For this type of input, the options parameter is required.")}else{e="<select class='form-control' id='txt"+q+"'>";for(var b=0;b<=h.options.length-1;b++){if(h.options[b]=="["){c=""}else{if(h.options[b]=="]"){d=d+1;c="<option>"+c+"</option>";e+=c}else{c+=h.options[b]}}}e+="</select>"}break;default:alert("That type of input is not handled yet")}}g="<div class='MessageBoxContainer animated fadeIn fast' id='Msg"+q+"'>";g+="<div class='MessageBoxMiddle'>";g+="<span class='MsgTitle'>"+h.title+"</span class='MsgTitle'>";g+="<p class='pText'>"+h.content+"</p>";g+=e;g+="<div class='MessageBoxButtonSection'>";if(h.buttons==undefined){h.buttons="[Accept]"}h.buttons=p.trim(h.buttons);h.buttons=h.buttons.split("");var c="";var d=0;if(h.NormalButton==undefined){h.NormalButton="#232323"}if(h.ActiveButton==undefined){h.ActiveButton="#ed145b"}for(var b=0;b<=h.buttons.length-1;b++){if(h.buttons[b]=="["){c=""}else{if(h.buttons[b]=="]"){d=d+1;c="<button id='bot"+d+"-Msg"+q+"' class='btn btn-default btn-sm botTempo'> "+c+"</button>";g+=c}else{c+=h.buttons[b]}}}g+="</div>";g+="</div>";g+="</div>";if(q>1){p(".MessageBoxContainer").hide();p(".MessageBoxContainer").css("z-index",99999)}p(".MessageBox").append(g);if(z==1){p("#txt"+q).focus()}p(".botTempo").hover(function(){var s=p(this).attr("id")},function(){var s=p(this).attr("id")});p(".botTempo").click(function(){var t=p(this).attr("id");var v=t.substr(t.indexOf("-")+1);var s=p.trim(p(this).text());if(z==1){if(typeof x=="function"){var B=v.replace("Msg","");var u=p("#txt"+B).val();if(x){x(s,u)}}}else{if(typeof x=="function"){if(x){x(s)}}}p("#"+v).addClass("animated fadeOut fast");q=q-1;if(q==0){p("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){r=0;p(this).remove()})}})},bigBox:function(i,b){var f,e;i=p.extend({title:"",content:"",icon:undefined,number:undefined,color:undefined,sound:true,timeout:undefined,colortime:1500,colors:undefined},i);if(i.sound===true){if(MyAMS.browser.isIE8orlower()==0){var c=document.createElement("audio");if(navigator.userAgent.match("Firefox/")){c.setAttribute("src",MyAMS.baseURL+"../snd/bigbox.ogg")}else{c.setAttribute("src",MyAMS.baseURL+"../snd/bigbox.mp3")}p.get();c.addEventListener("load",function(){c.play()},true);c.pause();c.play()}}j=j+1;f="<div id='bigBox"+j+"' class='BigBox animated fadeIn fast'><div id='bigBoxColor"+j+"'><i class='btnClose fa fa-times' id='btnClose"+j+"'></i>";if(i.icon==undefined){i.icon="fa fa-cloud"}f+="<span><i class='"+i.icon+"'></i>&nbsp; "+i.title+"</span>";f+="<p>"+i.content+"</p>";f+="<div class='bigboxnumber'>";if(i.number!=undefined){f+=i.number}f+="</div></div>";f+="</div>";p("#divBigBoxes").append(f);if(i.color==undefined){i.color="#004d60"}p("#bigBox"+j).css("background-color",i.color);p("#divMiniIcons").append("<div id='miniIcon"+j+"' class='cajita animated fadeIn' style='background-color: "+i.color+";'><i class='"+i.icon+"'/></i></div>");p("#miniIcon"+j).bind("click",function(){var s=p(this).attr("id");var w=s.replace("miniIcon","bigBox");var x=s.replace("miniIcon","bigBoxColor");p(".cajita").each(function(u){var v=p(this).attr("id");var z=v.replace("miniIcon","bigBox");p("#"+z).css("z-index",9998)});p("#"+w).css("z-index",9999);p("#"+x).removeClass("animated fadeIn").delay(1).queue(function(){p(this).show();p(this).addClass("animated fadeIn");p(this).clearQueue()})});var h=p("#btnClose"+j);var d=p("#bigBox"+j);var t=p("#miniIcon"+j);var a;if(i.colors!=undefined&&i.colors.length>0){h.attr("colorcount","0");a=setInterval(function(){var s=h.attr("colorcount");h.animate({backgroundColor:i.colors[s].color});d.animate({backgroundColor:i.colors[s].color});t.animate({backgroundColor:i.colors[s].color});if(s<i.colors.length-1){h.attr("colorcount",((s*1)+1))}else{h.attr("colorcount",0)}},i.colortime)}h.bind("click",function(){clearInterval(a);if(typeof b=="function"){if(b){b()}}var w=p(this).attr("id");var x=w.replace("btnClose","bigBox");var s=w.replace("btnClose","miniIcon");p("#"+x).removeClass("fadeIn fast");p("#"+x).addClass("fadeOut fast").delay(300).queue(function(){p(this).clearQueue();p(this).remove()});p("#"+s).removeClass("fadeIn fast");p("#"+s).addClass("fadeOut fast").delay(300).queue(function(){p(this).clearQueue();p(this).remove()})});if(i.timeout!=undefined){var g=j;setTimeout(function(){clearInterval(a);p("#bigBox"+g).removeClass("fadeIn fast");p("#bigBox"+g).addClass("fadeOut fast").delay(300).queue(function(){p(this).clearQueue();p(this).remove()});p("#miniIcon"+g).removeClass("fadeIn fast");p("#miniIcon"+g).addClass("fadeOut fast").delay(300).queue(function(){p(this).clearQueue();p(this).remove()})},i.timeout)}},smallBox:function(h,b){var f,e;h=p.extend({title:"",content:"",icon:undefined,iconSmall:undefined,sound:true,color:undefined,timeout:undefined,colortime:1500,colors:undefined},h);if(h.sound===true){if(MyAMS.browser.isIE8orlower()==0){var d=document.createElement("audio");if(navigator.userAgent.match("Firefox/")){d.setAttribute("src",MyAMS.baseURL+"../snd/smallbox.ogg")}else{d.setAttribute("src",MyAMS.baseURL+"../snd/smallbox.mp3")}p.get();d.addEventListener("load",function(){d.play()},true);d.pause();d.play()}}m=m+1;f="";var g="",i="smallbox"+m;if(h.iconSmall==undefined){g="<div class='miniIcon'></div>"}else{g="<div class='miniIcon'><i class='miniPic "+h.iconSmall+"'></i></div>"}if(h.icon==undefined){f="<div id='smallbox"+m+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+h.title+"</span><p>"+h.content+"</p></div>"+g+"</div>"}else{f="<div id='smallbox"+m+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+h.icon+"'></i></div><div class='textoFoto'><span>"+h.title+"</span><p>"+h.content+"</p></div>"+g+"</div>"}if(m==1){p("#divSmallBoxes").append(f);l=p("#smallbox"+m).height()+40}else{var c=p(".SmallBox").size();if(c==0){p("#divSmallBoxes").append(f);l=p("#smallbox"+m).height()+40}else{p("#divSmallBoxes").append(f);p("#smallbox"+m).css("top",l);l=l+p("#smallbox"+m).height()+20;p(".SmallBox").each(function(s){if(s==0){p(this).css("top",20);heightPrev=p(this).height()+40;l=p(this).height()+40}else{p(this).css("top",heightPrev);heightPrev=heightPrev+p(this).height()+20;l=l+p(this).height()+20}})}}var t=p("#smallbox"+m);if(h.color==undefined){t.css("background-color","#004d60")}else{t.css("background-color",h.color)}var a;if(h.colors!=undefined&&h.colors.length>0){t.attr("colorcount","0");a=setInterval(function(){var s=t.attr("colorcount");t.animate({backgroundColor:h.colors[s].color});if(s<h.colors.length-1){t.attr("colorcount",((s*1)+1))}else{t.attr("colorcount",0)}},h.colortime)}if(h.timeout!=undefined){setTimeout(function(){clearInterval(a);var w=p(this).height()+20;var x=i;var s=p("#"+i).css("top");if(p("#"+i+":hover").length!=0){p("#"+i).on("mouseleave",function(){l=l-w;p("#"+i).remove();if(typeof b=="function"){if(b){b()}}var u=1;var v=0;p(".SmallBox").each(function(z){if(z==0){p(this).animate({top:20},300);v=p(this).height()+40;l=p(this).height()+40}else{p(this).animate({top:v},350);v=v+p(this).height()+20;l=l+p(this).height()+20}})})}else{clearInterval(a);l=l-w;if(typeof b=="function"){if(b){b()}}p("#"+i).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){p(this).remove();var u=1;var v=0;p(".SmallBox").each(function(z){if(z==0){p(this).animate({top:20},300);v=p(this).height()+40;l=p(this).height()+40}else{p(this).animate({top:v});v=v+p(this).height()+20;l=l+p(this).height()+20}})})}},h.timeout)}p("#smallbox"+m).bind("click",function(){clearInterval(a);if(typeof b=="function"){if(b){b()}}var w=p(this).height()+20;var x=p(this).attr("id");var s=p(this).css("top");l=l-w;p(this).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){p(this).remove();var u=1;var v=0;p(".SmallBox").each(function(z){if(z==0){p(this).animate({top:20},300);v=p(this).height()+40;l=p(this).height()+40}else{p(this).animate({top:v},350);v=v+p(this).height()+20;l=l+p(this).height()+20}})})})}}})(jQuery);
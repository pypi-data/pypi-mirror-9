<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">

  <xi:include href="master.html" />

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type" py:replace="''"/>
  <title>Your Cart</title>
  <script>
      function updateCart() {
          window.location.reload();
      }

      function del_from_cart(productId) {
          jQuery.getJSON('${h.stroller_url("/del_from_cart")}', {product:productId, qnt:1}, updateCart);
          return false;
      }

      function add_to_cart(productId) {
          jQuery.getJSON('${h.stroller_url("/add_to_cart")}', {product:productId, qnt:1}, updateCart);
          return false;
      }
  </script>
</head>

<body>
    <div id="stroller">
        <table id="confirm-products">
            <tr>
                <th>Product Name</th>
                <th>Quantity</th>
                <th>Total Price</th>
            </tr>
            <tr py:for="item in cart.items">
                <td class="stroller_cart_product_name">${item.product.name}</td>
                <td class="stroller_cart_count">
                    <span class="stroller_cart_count_value">${item.quantity}</span>
                    <span class="stroller_btn_addremove" onclick="return del_from_cart('${item.product.uid}');">-</span>
                    <span class="stroller_btn_addremove" onclick="return add_to_cart('${item.product.uid}');">+</span>
                </td>
                <td class="stroller_cart_total_price">
                    ${h.number.format_number(item.total)} ${tg.config.get('currency', 'EUR')}
                </td>
            </tr>
        </table>

        <div id="confirm-total">Total: ${cart.total_price}  ${tg.config.get('currency', 'EUR')}</div>
    </div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">

  <xi:include href="master.html" />

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type" py:replace="''"/>
  <title>Order Info</title>
  <style>
    #products_box table {
        text-align: center;
    }

    #orders_box .entry_name {
        text-align: right;
    }
  </style>
</head>

<body>
    <h1>Info of Order ${order.uid}</h1>
    <div id="orders_box">
        <h3>Order Info</h3>
        <table id="undispatched-orders">
            <tr>
                <td class="entry_name">First Name</td>
                <td>${order.get_data_string('first_name')}</td>
            </tr>
            <tr>
                <td class="entry_name">Last Name</td>
                <td>${order.get_data_string('last_name')}</td>
            </tr>
            <tr>
                <td class="entry_name">Email</td>
                <td>${order.get_data_string('email')}</td>
            </tr>
            <tr>
                <td class="entry_name">Ship Name</td>
                <td>${order.get_data_string('ship_name')}</td>
            </tr>
            <tr>
                <td class="entry_name">Ship Address</td>
                <td>${order.get_data_string('ship_address')}</td>
            </tr>
            <tr>
                <td class="entry_name">Ship Zip</td>
                <td>${order.get_data_string('ship_zip')}</td>
            </tr>
            <tr>
                <td class="entry_name">Ship City</td>
                <td>${order.get_data_string('ship_city')}</td>
            </tr>
            <tr>
                <td class="entry_name">Ship State</td>
                <td>${order.get_data_string('ship_state')}</td>
            </tr>
            <tr>
                <td class="entry_name">Ship Country</td>
                <td>${order.get_data_string('ship_country')}</td>
            </tr>
            <tr>
                <td class="entry_name"><strong>Total Price</strong></td>
                <td><strong>${order.total_price}</strong></td>
            </tr>
        </table>
    </div>

    <div id="products_box">
        <h3>Order Content</h3>
        <table>
            <tr>
                <th>Product</th>
                <th>Quantity</th>
                <th>Total Price</th>
            </tr>
            <tr py:for="entry in order.items">
                <td>${entry.product.name}</td>
                <td>${entry.quantity}</td>
                <td>${entry.total} ${tg.config.get('currency', 'EUR')}</td>
            </tr>
        </table>
    </div>

    <div py:if="not order.payed">
        <br/>
        <a href="${h.stroller_url('/manage/unconfirm_order', uid=order.uid)}"
           onclick="return confirm('Do you really want to delete the order?')">Mark order as unconfirmed</a>
        <span>(The order will disappear and after 1 week will be deleted)</span>
    </div>
</body>
</html>



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyfscache &mdash; pyfscache 0.9.12 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pyfscache 0.9.12 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">pyfscache 0.9.12 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pyfscache">
<h1>pyfscache<a class="headerlink" href="#pyfscache" title="Permalink to this headline">¶</a></h1>
<p>A simple filesystem cache for python.</p>
<div class="section" id="home-page-documentation-repository">
<h2>Home Page, Documentation, &amp; Repository<a class="headerlink" href="#home-page-documentation-repository" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Home Page</strong>: <a class="reference external" href="http://pyfscache.bravais.net">http://pyfscache.bravais.net</a></li>
<li><strong>Online Documentation</strong>: <a class="reference external" href="http://pythonhosted.org/pyfscache/">http://pythonhosted.org/pyfscache/</a></li>
<li><strong>Code Repository</strong>: <a class="reference external" href="https://github.com/jcstroud/pyfscache/">https://github.com/jcstroud/pyfscache/</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Pyfscache (python filesystem cache) is a filesystem cache
that is easy to use. The principal class is
<a class="reference internal" href="#pyfscache.FSCache" title="pyfscache.FSCache"><tt class="xref py py-class docutils literal"><span class="pre">pyfscache.FSCache</span></tt></a>,
instances of which may be used as decorators to create cached
functions with very little coding overhead:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pyfscache</span>
<span class="n">cache_it</span> <span class="o">=</span> <span class="n">pyfscache</span><span class="o">.</span><span class="n">FSCache</span><span class="p">(</span><span class="s">&#39;some/cache/directory&#39;</span><span class="p">,</span>
                             <span class="n">days</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="nd">@cache_it</span>
<span class="k">def</span> <span class="nf">cached_doit</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">]</span>
</pre></div>
</div>
<p>It&#8217;s that simple!</p>
<p>Now, every time the function <tt class="xref py py-func docutils literal"><span class="pre">cached_doit()</span></tt> is called with a
particular set of arguments, the cache <tt class="docutils literal"><span class="pre">cache_it</span></tt> is inspected
to see if an identical call has been made before. If it has, then
the return value is retrieved from the <tt class="docutils literal"><span class="pre">cache_it</span></tt> cache. If not,
the return value is calculated with <tt class="xref py py-func docutils literal"><span class="pre">cached_doit()</span></tt>, stored in
the cache, and then returned.</p>
</div>
<div class="section" id="expiration">
<h2>Expiration<a class="headerlink" href="#expiration" title="Permalink to this headline">¶</a></h2>
<p>In the code above, the expiration for <tt class="docutils literal"><span class="pre">cache_it</span></tt> is set to
1,137,750 seconds (13 days, 4 hours, and 2.5 minutes),
which means that every item created by <tt class="docutils literal"><span class="pre">cache_it</span></tt> has a lifetime
of 1,137,750 seconds, beginning when the item is made (<em>i.e</em> not
beginning when <tt class="docutils literal"><span class="pre">cache_it</span></tt> is made). Values specifying lifetime
may be provided with the keywords <tt class="docutils literal"><span class="pre">years</span></tt>, <tt class="docutils literal"><span class="pre">months</span></tt>, <tt class="docutils literal"><span class="pre">weeks</span></tt>,
<tt class="docutils literal"><span class="pre">days</span></tt>, <tt class="docutils literal"><span class="pre">hours</span></tt>, <tt class="docutils literal"><span class="pre">minutes</span></tt>, and <tt class="docutils literal"><span class="pre">seconds</span></tt>. The lifetime is
the total for all keywords.</p>
<p>If these optional keyword arguments are not included, then items
added by the <a class="reference internal" href="#pyfscache.FSCache" title="pyfscache.FSCache"><tt class="xref py py-class docutils literal"><span class="pre">pyfscache.FSCache</span></tt></a> object never expire:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">no_expiry_cache</span> <span class="o">=</span> <span class="n">pyfscache</span><span class="o">.</span><span class="n">FSCache</span><span class="p">(</span><span class="s">&#39;some/cache/directory&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Several instances of <a class="reference internal" href="#pyfscache.FSCache" title="pyfscache.FSCache"><tt class="xref py py-class docutils literal"><span class="pre">pyfscache.FSCache</span></tt></a> objects
can use the same cache directory. Each will honor
the expirations of the items therein. Thus, it is possible
to have a cache mixed with objects of many differening
lifetimes, made by many instances of
<a class="reference internal" href="#pyfscache.FSCache" title="pyfscache.FSCache"><tt class="xref py py-class docutils literal"><span class="pre">pyfscache.FSCache</span></tt></a>.</p>
</div>
</div>
<div class="section" id="works-like-a-map">
<h2>Works Like a Map<a class="headerlink" href="#works-like-a-map" title="Permalink to this headline">¶</a></h2>
<p>Instances of <tt class="xref py py-class docutils literal"><span class="pre">phyles.FSCache</span></tt> work like mapping objects,
supporting item getting and setting:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cache_it</span><span class="p">[(</span><span class="s">&#39;some&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">])]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;some&#39;</span><span class="p">:</span> <span class="s">&#39;value&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_it</span><span class="p">[(</span><span class="s">&#39;some&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">])]</span>
<span class="go">{&#39;some&#39;: &#39;value}</span>
</pre></div>
</div>
<p>However, deletion with the <tt class="docutils literal"><span class="pre">del</span></tt> statement only works on memory.
To erase an item in the cache directory, use
<tt class="xref py py-func docutils literal"><span class="pre">phyles.FSCache.expire()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cache_it</span><span class="o">.</span><span class="n">get_loaded</span><span class="p">()</span>
<span class="go">[&#39;LIlWpBZL68MBJaXouRjFBL3fzScyxh5q56hqSZ3DBK&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">cache_it</span><span class="p">[(</span><span class="s">&#39;some&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_it</span><span class="o">.</span><span class="n">get_loaded</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s">&#39;some&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">])</span> <span class="ow">in</span> <span class="n">cache_it</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_it</span><span class="p">[(</span><span class="s">&#39;some&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">])]</span>
<span class="go">{&#39;some&#39;: &#39;value}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_it</span><span class="o">.</span><span class="n">expire</span><span class="p">((</span><span class="s">&#39;some&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s">&#39;some&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;key&#39;</span><span class="p">])</span> <span class="ow">in</span> <span class="n">cache_it</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="decorators">
<h2>Decorators<a class="headerlink" href="#decorators" title="Permalink to this headline">¶</a></h2>
<p>What if you didn&#8217;t write the function you want to cache?
Although their convenience is manifest in the example above,
it is not necessary to use decorators:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pyfscache</span>
<span class="n">cache</span> <span class="o">=</span> <span class="n">pyfscache</span><span class="o">.</span><span class="n">FSCache</span><span class="p">(</span><span class="s">&#39;some/cache/directory&#39;</span><span class="p">,</span>
                          <span class="n">days</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">uncached_doit</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">]</span>

<span class="n">cached_doit</span> <span class="o">=</span> <span class="n">cache</span><span class="p">(</span><span class="n">uncached_doit</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="versatility">
<h2>Versatility<a class="headerlink" href="#versatility" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-class docutils literal"><span class="pre">phyles.FSCache</span></tt> objects should work on the vast
majority of python &#8220;callables&#8221;, including instance methods
and even built-ins:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># a cached built-in</span>
<span class="n">cached_list</span> <span class="o">=</span> <span class="n">cache_it</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

<span class="c"># a cached instance method</span>
<span class="k">class</span> <span class="nc">AClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="nd">@cahe_it</span>
  <span class="k">def</span> <span class="nf">some_cached_instance_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">g</span> <span class="o">*</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The rule of thumb is that if python&#8217;s <a class="reference external" href="http://docs.python.org/2/library/pickle.html#module-cPickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">cPickle</span></tt></a>
module can handle the expected arguments to the cached
function, then so can pyfscache.</p>
</div>
</div>
</div>
<div class="section" id="module-pyfscache">
<span id="api"></span><h1>API<a class="headerlink" href="#module-pyfscache" title="Permalink to this headline">¶</a></h1>
<p>pyfscache: A file system cache for python.
Copyright (c) 2013, James C. Stroud; All rights reserved.</p>
<dl class="class">
<dt id="pyfscache.FSCache">
<em class="property">class </em><tt class="descclassname">pyfscache.</tt><tt class="descname">FSCache</tt><big>(</big><em>path</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pyfscache.FSCache" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that manages a filesystem cache. Works like
a dictionary and can decorate functions to make them
cached.</p>
<p>A <a class="reference internal" href="#pyfscache.FSCache" title="pyfscache.FSCache"><tt class="xref py py-class docutils literal"><span class="pre">pyfscache.FSCache</span></tt></a> object is instantiated
with a <cite>path</cite> and optional lifetime keyword arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">FSCache</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<p>This command creates a new FSCache instance at the given
<cite>path</cite> (<tt class="docutils literal"><span class="pre">cache/dir</span></tt>). Each item added by this cache
has a lifetime of 7 days, starting when the item (not the cache)
is created. If the <cite>path</cite> doesn&#8217;t exist,
one is made. New items added to the cache are given a lifetime
expressed by the keyword arguments with potential keys of
<tt class="docutils literal"><span class="pre">years</span></tt>, <tt class="docutils literal"><span class="pre">months</span></tt>, <tt class="docutils literal"><span class="pre">weeks</span></tt>, <tt class="docutils literal"><span class="pre">days</span></tt>,
<tt class="docutils literal"><span class="pre">hours</span></tt>, <tt class="docutils literal"><span class="pre">minutes</span></tt>, <tt class="docutils literal"><span class="pre">seconds</span></tt> (see <a class="reference internal" href="#pyfscache.to_seconds" title="pyfscache.to_seconds"><tt class="xref py py-func docutils literal"><span class="pre">to_seconds()</span></tt></a>).
If no keyword arguments are given, then the
items added by the cache do not expire automatically.</p>
<p>Creating an <a class="reference internal" href="#pyfscache.FSCache" title="pyfscache.FSCache"><tt class="xref py py-class docutils literal"><span class="pre">pyfscache.FSCache</span></tt></a> object does not purge
the cache in <cite>path</cite> if the cache already exists. Instead,
the <a class="reference internal" href="#pyfscache.FSCache" title="pyfscache.FSCache"><tt class="xref py py-class docutils literal"><span class="pre">pyfscache.FSCache</span></tt></a> object will begin to use the
cache, loading items and storing items as necessary.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shutil</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyfscache</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">):</span>
<span class="gp">... </span>  <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">)</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">FSCache</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">&#39;some_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;some_value&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">&#39;some_key&#39;</span><span class="p">]</span>
<span class="go">&#39;some_value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">)</span>
<span class="go">[&#39;PXBZzwEy3XnbOweuMtoPj9j=PwkfAsTXexmW2v05JD&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">expire</span><span class="p">(</span><span class="s">&#39;some_key&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">&#39;some_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;some_value&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@c</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">doit</span><span class="p">(</span><span class="n">avalue</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span> <span class="s">&quot;had to call me!&quot;</span>
<span class="gp">... </span>  <span class="k">return</span> <span class="s">&quot;some other value&quot;</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doit</span><span class="p">(</span><span class="s">&#39;some input&#39;</span><span class="p">)</span>
<span class="go">had to call me!</span>
<span class="go">&#39;some other value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doit</span><span class="p">(</span><span class="s">&#39;some input&#39;</span><span class="p">)</span>
<span class="go">&#39;some other value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pyfscache.FSCache.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfscache.FSCache.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Unloads all loaded cache items from memory.
All cache items remain on the disk, however.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.expire">
<tt class="descname">expire</tt><big>(</big><em>k</em><big>)</big><a class="headerlink" href="#pyfscache.FSCache.expire" title="Permalink to this definition">¶</a></dt>
<dd><p>Use with care. This permanently removes the object keyed
by <cite>k</cite> from the cache, both in the memory and in the filesystem.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.expiry">
<tt class="descname">expiry</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfscache.FSCache.expiry" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an expiry for the cache in seconds as if the start
of the expiration period were the moment at which this
the method is called.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">FSCache</span><span class="p">(</span><span class="s">&#39;cache/dir&#39;</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">expiry</span><span class="p">()</span> <span class="o">-</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">60.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.get_lifetime">
<tt class="descname">get_lifetime</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfscache.FSCache.get_lifetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lifetime, in seconds, of new items in the cache.
If new items do not expire, then <tt class="docutils literal"><span class="pre">None</span></tt> is returned.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.get_loaded">
<tt class="descname">get_loaded</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfscache.FSCache.get_loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of keys for all objects that are loaded.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.get_names">
<tt class="descname">get_names</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfscache.FSCache.get_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the files in the cache on the
filesystem. These are not keys but one-way hashes
(or &#8220;digests&#8221;) of the keys created by <a class="reference internal" href="#pyfscache.make_digest" title="pyfscache.make_digest"><tt class="xref py py-func docutils literal"><span class="pre">make_digest()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.get_path">
<tt class="descname">get_path</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfscache.FSCache.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the absolute path to the file system cache represented
by the instance.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.is_loaded">
<tt class="descname">is_loaded</tt><big>(</big><em>k</em><big>)</big><a class="headerlink" href="#pyfscache.FSCache.is_loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if the item keyed by <cite>k</cite> has been loaded,
<tt class="docutils literal"><span class="pre">False</span></tt> if not.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyfscache.FSCache.lifetime">
<tt class="descname">lifetime</tt><a class="headerlink" href="#pyfscache.FSCache.lifetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lifetime, in seconds, of new items in the cache.
If new items do not expire, then <tt class="docutils literal"><span class="pre">None</span></tt> is returned.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.load">
<tt class="descname">load</tt><big>(</big><em>k</em><big>)</big><a class="headerlink" href="#pyfscache.FSCache.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes the object keyed by <cite>k</cite> to be loaded from the
file system and returned. It therefore causes this object
to reside in memory.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyfscache.FSCache.path">
<tt class="descname">path</tt><a class="headerlink" href="#pyfscache.FSCache.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the absolute path to the file system cache represented
by the instance.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.purge">
<tt class="descname">purge</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfscache.FSCache.purge" title="Permalink to this definition">¶</a></dt>
<dd><p>Be careful, this empties the cache from both the filesystem
and memory!</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.unload">
<tt class="descname">unload</tt><big>(</big><em>k</em><big>)</big><a class="headerlink" href="#pyfscache.FSCache.unload" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the object keyed by <cite>k</cite> from memory
but not from the filesystem. To remove it from both
memory and permanently from the filesystem, use <cite>expire</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pyfscache.FSCache.update_item">
<tt class="descname">update_item</tt><big>(</big><em>k</em>, <em>v</em><big>)</big><a class="headerlink" href="#pyfscache.FSCache.update_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Use with care. Updates, both in memory and on the filesystem,
the object for key <cite>k</cite> with the object <cite>v</cite>. If the key <cite>k</cite>
already exists with a stored object, it will be replaced.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyfscache.make_digest">
<tt class="descclassname">pyfscache.</tt><tt class="descname">make_digest</tt><big>(</big><em>k</em><big>)</big><a class="headerlink" href="#pyfscache.make_digest" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a digest suitable for use within an <tt class="xref py py-class docutils literal"><span class="pre">phyles.FSCache</span></tt>
object from the key object <cite>k</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">adict</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="s">&#39;b&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span> <span class="s">&#39;f&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">make_digest</span><span class="p">(</span><span class="n">adict</span><span class="p">)</span>
<span class="go">&#39;a2VKynHgDrUIm17r6BQ5QcA5XVmqpNBmiKbZ9kTu0A&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyfscache.auto_cache_function">
<tt class="descclassname">pyfscache.</tt><tt class="descname">auto_cache_function</tt><big>(</big><em>f</em>, <em>cache</em><big>)</big><a class="headerlink" href="#pyfscache.auto_cache_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a cached function from function <cite>f</cite>.
The <cite>cache</cite> can be any mapping object, such as <cite>FSCache</cite> objects.</p>
<p>The function arguments are expected to be well-behaved
for python&#8217;s <a class="reference external" href="http://docs.python.org/2/library/pickle.html#module-cPickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">cPickle</span></tt></a>. Or, in other words, 
the expected values for the parameters (the arguments) should
be instances new-style classes (i.e. inheriting from
<a class="reference external" href="http://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a>) or implement <tt class="xref py py-func docutils literal"><span class="pre">__getstate__()</span></tt> with
well-behaved results.</p>
<p>If the arguments to <cite>f</cite> are not expected to be well-behaved,
it is best to use <cite>cache_function</cite> instead and create a custom keyer.</p>
</dd></dl>

<dl class="function">
<dt id="pyfscache.cache_function">
<tt class="descclassname">pyfscache.</tt><tt class="descname">cache_function</tt><big>(</big><em>f</em>, <em>keyer</em>, <em>cache</em><big>)</big><a class="headerlink" href="#pyfscache.cache_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes any function <cite>f</cite> and a function that creates a key,
<cite>keyer</cite> and caches the result in <cite>cache</cite>.</p>
<p>The keys created by <cite>keyer</cite> should be well behaved for
python&#8217;s <a class="reference external" href="http://docs.python.org/2/library/pickle.html#module-cPickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">cPickle</span></tt></a>. See the documentation for
<tt class="xref py py-func docutils literal"><span class="pre">auto_cache_funtion()</span></tt> for details.</p>
<p>It is best to have a unique <cite>keyer</cite> for every function.</p>
</dd></dl>

<dl class="function">
<dt id="pyfscache.to_seconds">
<tt class="descclassname">pyfscache.</tt><tt class="descname">to_seconds</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#pyfscache.to_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts keyword arguments to seconds.</p>
<p>The the keyword arguments can have the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">years</span></tt> (31,556,900 seconds per year)</li>
<li><tt class="docutils literal"><span class="pre">months</span></tt> (2,629,740 seconds per month)</li>
<li><tt class="docutils literal"><span class="pre">weeks</span></tt> (604,800 seconds per week)</li>
<li><tt class="docutils literal"><span class="pre">days</span></tt> (86,400 seconds per day)</li>
<li><tt class="docutils literal"><span class="pre">hours</span></tt> (3600 seconds per hour)</li>
<li><tt class="docutils literal"><span class="pre">minutes</span></tt> (60 seconds per minute)</li>
<li><tt class="docutils literal"><span class="pre">seconds</span></tt></li>
</ul>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">to_seconds</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">1215.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_seconds</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mf">15.42</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">years</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">63150895.42</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pyfscache</a><ul>
<li><a class="reference internal" href="#home-page-documentation-repository">Home Page, Documentation, &amp; Repository</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#expiration">Expiration</a></li>
<li><a class="reference internal" href="#works-like-a-map">Works Like a Map</a></li>
<li><a class="reference internal" href="#decorators">Decorators</a></li>
<li><a class="reference internal" href="#versatility">Versatility</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyfscache">API</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">pyfscache 0.9.12 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright Copyright (c) 2013, James C. Stroud; All rights reserved..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>
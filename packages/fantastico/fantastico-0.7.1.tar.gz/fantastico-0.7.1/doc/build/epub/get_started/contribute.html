<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contribute</title>
    
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> 
  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dev_mode.html" title="Development mode"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="settings.html" title="Fantastico settings"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">fantastico 0.7.0-b141 documentation</a> &raquo;</li>
          <li><a href="getting_started.html" accesskey="U">Getting started</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="contribute">
<h1>Contribute</h1>
<p>Fantastico framework is open source so every contribution is welcome. For the moment we are looking for more developers willing to
contribute.</p>
<div class="section" id="code-contribution">
<h2>Code contribution</h2>
<p>If you want to contribute with code to fantastico framework there are a simple set of rules that you must follow:</p>
<blockquote>
<div><ul class="simple">
<li>Write unit tests (for the code / feature you are contributing).</li>
<li>Write integration tests (for the code / feature you are contributing).</li>
<li>Make sure your code is rated above 9.5 by pylint tool.</li>
<li>In addition integration tests and unit tests must cover 95% of your code.</li>
</ul>
</div></blockquote>
<p>In order for each build to remain stable the following hard limits are imposed:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Unit tests must cover &gt;= 95% of the code.</li>
<li>Integration tests must cover &gt;= 95% of the code.</li>
<li>Code must be rated above 9.5 by pylint.</li>
<li>Everything must pass.</li>
</ol>
</div></blockquote>
<p>When you push on master a set of jobs are cascaded executed:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Run all unit tests job.</li>
<li>Run all integration tests job (only if unit tests succeeds).</li>
<li>Generate documentation and publish it (only if integration tests job succeeds).</li>
</ol>
</div></blockquote>
<p>You can follow the above build process by visiting
<a class="reference external" href="http://jenkins.scrum-expert.ro:8080/job/fantastico-framework/">Jenkins build</a><span class="link-target"> [http://jenkins.scrum-expert.ro:8080/job/fantastico-framework/]</span>. Login with your github account and everything
should work smoothly.</p>
<p>In the end do not forget that in Fantastico framework we love to develop against a <strong>stable</strong> base. We really think code will have
high quality and zero bugs.</p>
<div class="section" id="writing-unit-tests">
<h3>Writing unit tests</h3>
<p>For better understanding how to write unit tests see the documentation below:</p>
<dl class="class">
<dt id="fantastico.tests.base_case.FantasticoUnitTestsCase">
<em class="property">class </em><tt class="descclassname">fantastico.tests.base_case.</tt><tt class="descname">FantasticoUnitTestsCase</tt><big>(</big><em>methodName='runTest'</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoUnitTestsCase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This is the base class that must be inherited by each unit test written for fantastico.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">SimpleUnitTest</span><span class="p">(</span><span class="n">FantasticoUnitTestsCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_msg</span> <span class="o">=</span> <span class="s">&quot;Hello world&quot;</span>

    <span class="k">def</span> <span class="nf">test_simple_flow_ok</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_msg</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoUnitTestsCase._get_class_root_folder">
<tt class="descname">_get_class_root_folder</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoUnitTestsCase._get_class_root_folder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This methods determines the root folder under which the test is executed.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoUnitTestsCase._get_root_folder">
<tt class="descname">_get_root_folder</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoUnitTestsCase._get_root_folder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method determines the root folder under which core is executed.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoUnitTestsCase.check_original_methods">
<tt class="descname">check_original_methods</tt><big>(</big><em>cls_obj</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoUnitTestsCase.check_original_methods"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method ensures that for a given class only original non decorated methods will be invoked. Extremely useful
when you want to make sure &#64;Controller decorator does not break your tests. It is strongly recommended to invoke
this method on all classes which might contain &#64;Controller decorator. It ease your when committing on CI environment.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fantastico.tests.base_case.FantasticoUnitTestsCase.setup_once">
<em class="property">classmethod </em><tt class="descname">setup_once</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoUnitTestsCase.setup_once"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method is overriden in order to correctly mock some dependencies:</p>
<ul class="simple">
<li><a class="reference internal" href="../features/mvc.html#fantastico.mvc.controller_decorators.Controller" title="fantastico.mvc.controller_decorators.Controller"><tt class="xref py py-class docutils literal"><span class="pre">fantastico.mvc.controller_decorators.Controller</span></tt></a></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="writing-integration-tests">
<h3>Writing integration tests</h3>
<p>For better understanding how to write integration tests see the documentation below:</p>
<dl class="class">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase">
<em class="property">class </em><tt class="descclassname">fantastico.tests.base_case.</tt><tt class="descname">FantasticoIntegrationTestCase</tt><big>(</big><em>methodName='runTest'</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This is the base class that must be inherited by each integration test written for fantastico.
If you used this class you don&#8217;t have to mind about restoring call methods from each middleware once they are wrapped
by fantastico app. This is a must because otherwise you will crash other tests.</p>
<dl class="attribute">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._envs">
<tt class="descname">_envs</tt><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._envs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Private property that holds the environments against which we run the integration tests.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._get_db_conn">
<tt class="descname">_get_db_conn</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._get_db_conn"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method opens a db connection and returns it to for usage.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._get_oauth2_logintoken">
<tt class="descname">_get_oauth2_logintoken</tt><big>(</big><em>client_id</em>, <em>user_id</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._get_oauth2_logintoken"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This methods generates an oauth2 login token which can be used in integration tests.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._get_oauth2_token">
<tt class="descname">_get_oauth2_token</tt><big>(</big><em>client_id</em>, <em>user_id</em>, <em>scopes</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._get_oauth2_token"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method generates an oauth2 access token which can be used in integration tests.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._get_token">
<tt class="descname">_get_token</tt><big>(</big><em>token_type</em>, <em>token_desc</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._get_token"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method provides a generic token generation method which can be used in integration tests.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._invalidate_encrypted_token">
<tt class="descname">_invalidate_encrypted_token</tt><big>(</big><em>encrypted_token</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._invalidate_encrypted_token"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method invalidates a given encrypted token using tokens service implementation.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._invalidate_oauth2_token">
<tt class="descname">_invalidate_oauth2_token</tt><big>(</big><em>token</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._invalidate_oauth2_token"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method invalidates the given token automatically.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._restore_call_methods">
<tt class="descname">_restore_call_methods</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._restore_call_methods"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method restore original call methods to all affected middlewares.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase._save_call_methods">
<tt class="descname">_save_call_methods</tt><big>(</big><em>middlewares</em><big>)</big><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase._save_call_methods"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method save all call methods for each listed middleware so that later on they can be restored.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.tests.base_case.FantasticoIntegrationTestCase.fantastico_cfg_os_key">
<tt class="descname">fantastico_cfg_os_key</tt><a class="reference internal" href="../_modules/fantastico/tests/base_case.html#FantasticoIntegrationTestCase.fantastico_cfg_os_key"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property holds the name of os environment variable used for setting up active fantastico configuration.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fantastico.server.tests.itest_dev_server.DevServerIntegration">
<em class="property">class </em><tt class="descclassname">fantastico.server.tests.itest_dev_server.</tt><tt class="descname">DevServerIntegration</tt><big>(</big><em>methodName='runTest'</em><big>)</big><a class="reference internal" href="../_modules/fantastico/server/tests/itest_dev_server.html#DevServerIntegration"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class provides the foundation for writing integration tests that do http requests against a fantastico server.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">DummyLoaderIntegration</span><span class="p">(</span><span class="n">DevServerIntegration</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_exception</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">test_server_runs_ok</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">request_logic</span><span class="p">(</span><span class="n">server</span><span class="p">):</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_server_base_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">DummyRouteLoader</span><span class="o">.</span><span class="n">DUMMY_ROUTE</span><span class="p">))</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">HTTPError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
                <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_exception</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">exception</span>

        <span class="k">def</span> <span class="nf">assert_logic</span><span class="p">(</span><span class="n">server</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exception</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&quot;Hello world.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exception</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_run_test_against_dev_server</span><span class="p">(</span><span class="n">request_logic</span><span class="p">,</span> <span class="n">assert_logic</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see from above listed code, when you write a new integration test against Fantastico server you only need
to provide the request logic and assert logic functions. Request logic is executed while the server is up and running.
Assert logic is executed after the server has stopped.</p>
<dl class="method">
<dt id="fantastico.server.tests.itest_dev_server.DevServerIntegration._check_server_started">
<tt class="descname">_check_server_started</tt><big>(</big><em>server</em><big>)</big><a class="reference internal" href="../_modules/fantastico/server/tests/itest_dev_server.html#DevServerIntegration._check_server_started"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method holds the sanity checks to ensure a server is started correctly.</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.server.tests.itest_dev_server.DevServerIntegration._get_server_base_url">
<tt class="descname">_get_server_base_url</tt><big>(</big><em>server</em>, <em>route</em><big>)</big><a class="reference internal" href="../_modules/fantastico/server/tests/itest_dev_server.html#DevServerIntegration._get_server_base_url"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method returns the absolute url for a given relative url (route).</p>
</dd></dl>

<dl class="method">
<dt id="fantastico.server.tests.itest_dev_server.DevServerIntegration._run_test_against_dev_server">
<tt class="descname">_run_test_against_dev_server</tt><big>(</big><em>request_logic</em>, <em>assert_logic=None</em><big>)</big><a class="reference internal" href="../_modules/fantastico/server/tests/itest_dev_server.html#DevServerIntegration._run_test_against_dev_server"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This method provides a template for writing integration tests that requires a development server being active.
It accepts a request logic (code that actually do the http request) and an assert logic for making sure
code is correct.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer">
        &copy; Copyright 2013, Radu Viorel Cosnita.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42788125-1', 'rcosnita.github.io');
  ga('send', 'pageview');
</script>

  </body>
</html>
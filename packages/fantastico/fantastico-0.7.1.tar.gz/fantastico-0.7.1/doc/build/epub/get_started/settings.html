<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Fantastico settings</title>
    
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> 
  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="contribute.html" title="Contribute"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation manual"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">fantastico 0.7.0-b141 documentation</a> &raquo;</li>
          <li><a href="getting_started.html" accesskey="U">Getting started</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="fantastico-settings">
<h1>Fantastico settings</h1>
<p>Fantastico is configured using a plain settings file. This file is located in the root of fantastico framework or in the root
folder of your project. Before we dig further into configuration options lets see a very simple settings file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">BasicSettings</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
   <span class="nd">@property</span>
   <span class="k">def</span> <span class="nf">installed_middleware</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="p">[</span><span class="s">&quot;fantastico.middleware.request_middleware.RequestMiddleware&quot;</span><span class="p">,</span>
             <span class="s">&quot;fantastico.middleware.routing_middleware.RoutingMiddleware&quot;</span><span class="p">]</span>

   <span class="nd">@property</span>
   <span class="k">def</span> <span class="nf">supported_languages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="p">[</span><span class="s">&quot;en_us&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>The above code sample represent the minimum required configuration for fantastico framework to run. The order in which middlewares
are listed is the order in which they are executed when an http request is made.</p>
<div class="section" id="settings-api">
<h2>Settings API</h2>
<p>Below you can find technical information about settings.</p>
<dl class="class">
<dt id="fantastico.settings.BasicSettings">
<em class="property">class </em><tt class="descclassname">fantastico.settings.</tt><tt class="descname">BasicSettings</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This is the core class that describes all available settings of fantastico framework. For convenience all options
have default values that ensure minimum functionality of the framework. Below you can find an example of three possible
configuration: Dev / Stage / Production.</p>
<img alt="../_images/settings.png" src="../_images/settings.png" />
<p>As you can see, if you want to overwrite basic configuration you simply have to extend the class and set new values
for the attributes you want to overwrite.</p>
<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.access_token_validity">
<tt class="descname">access_token_validity</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.access_token_validity"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property defines the validity of an access token in seconds. By default, this property is set
to 1h = 3600 seconds.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.database_config">
<tt class="descname">database_config</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.database_config"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property holds the configuration of database. It is recommended to have all environment configured the same.
An exception can be done for host but the rest must remain the same. Below you can find an example of functional
configuration:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;drivername&quot;</span><span class="p">:</span> <span class="s">&quot;mysql+mysqlconnector&quot;</span><span class="p">,</span>
            <span class="s">&quot;username&quot;</span><span class="p">:</span> <span class="s">&quot;fantastico&quot;</span><span class="p">,</span>
            <span class="s">&quot;password&quot;</span><span class="p">:</span> <span class="s">&quot;12345&quot;</span><span class="p">,</span>
            <span class="s">&quot;port&quot;</span><span class="p">:</span> <span class="mi">3306</span><span class="p">,</span>
            <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="s">&quot;localhost&quot;</span><span class="p">,</span>
            <span class="s">&quot;database&quot;</span><span class="p">:</span> <span class="s">&quot;fantastico&quot;</span><span class="p">,</span>
            <span class="s">&quot;additional_params&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;charset&quot;</span><span class="p">:</span> <span class="s">&quot;utf8&quot;</span><span class="p">},</span>
            <span class="s">&quot;show_sql&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s">&quot;additional_engine_settings&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;pool_size&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
                <span class="s">&quot;pool_recycle&quot;</span><span class="p">:</span> <span class="mi">600</span><span class="p">}</span>
          <span class="p">}</span>
</pre></div>
</div>
<p>As you can see, in your configuration you can influence many attributes used when configuring the driver / database.
<strong>show_sql</strong> key tells orm engine from <strong>Fantastico</strong> to display all generated queries.</p>
<p>Moreover, by default <strong>Fantastico</strong> holds connections opened for 10 minutes. After 10 minutes it refreshes the connection
and ensures no thread is using that connection till is completely refreshed.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.dev_server_host">
<tt class="descname">dev_server_host</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.dev_server_host"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property holds development server hostname. By default this is localhost.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.dev_server_port">
<tt class="descname">dev_server_port</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.dev_server_port"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property holds development server port. By default this is 12000.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.doc_base">
<tt class="descname">doc_base</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.doc_base"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property defines public location of <strong>Fantastico</strong> documentation.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.global_response_headers">
<tt class="descname">global_response_headers</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.global_response_headers"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property defines the headers which must be appended to every response. You can use this property in order
to globally enable cors.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">return</span> <span class="p">{</span><span class="s">&quot;Access-Control-Allow-Origin&quot;</span><span class="p">:</span> <span class="s">&quot;*&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>By default, no global header is appended to response.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.installed_middleware">
<tt class="descname">installed_middleware</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.installed_middleware"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Property that holds all installed middlewares.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.mvc_additional_paths">
<tt class="descname">mvc_additional_paths</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.mvc_additional_paths"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property defines additional packages which must be scanned for controllers. You can use this in order to specify
custom mvc controllers location which are not found in custom components. For instance, OAuth2 controller resides
in core packages of Fantastico.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.oauth2_idp">
<tt class="descname">oauth2_idp</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.oauth2_idp"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property holds the configuration for Fantastico default Identity Provider. In most cases you will change the
template applied to login screen in order to customize it to your needs. If you want to change
the template for login screen make sure your provide relative path to your components root folder
(e.g /components/frontend/views/custom_login.html). Moreover, you can also specify the login token validity period (in
seconds). It is recommended to set a high value (e.g 2 weeks).</p>
<p>Additionaly, you can control default idp index page. Usually, Fantastico OAuth2 identity provider login page should be
good enough.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">return</span> <span class="p">{</span><span class="s">&quot;client_id&quot;</span><span class="p">:</span> <span class="s">&quot;11111111-1111-1111-1111-111111111111&quot;</span><span class="p">,</span>
        <span class="s">&quot;template&quot;</span><span class="p">:</span> <span class="s">&quot;/components/frontend/views/custom_login.html&quot;</span><span class="p">,</span>
        <span class="s">&quot;expires_in&quot;</span><span class="p">:</span> <span class="mi">1209600</span><span class="p">,</span>
        <span class="s">&quot;idp_index&quot;</span><span class="p">:</span> <span class="s">&quot;/oauth/idp/ui/login&quot;</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.roa_api">
<tt class="descname">roa_api</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.roa_api"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property defines the url for mapping ROA resources api. By default is <strong>/api</strong>. Read more about ROA on
<a class="reference internal" href="../features/components/roa_discovery/roa_discovery.html"><em>ROA Auto discovery</em></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.routes_loaders">
<tt class="descname">routes_loaders</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.routes_loaders"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property holds all routes loaders available.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.supported_languages">
<tt class="descname">supported_languages</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.supported_languages"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Property that holds all supported languages by this fantastico instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="fantastico.settings.BasicSettings.templates_config">
<tt class="descname">templates_config</tt><a class="reference internal" href="../_modules/fantastico/settings.html#BasicSettings.templates_config"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This property holds configuration of templates rendering engine. For the moment this influence how
<a class="reference external" href="http://jinja.pocoo.org/docs/">Jinja2</a><span class="link-target"> [http://jinja.pocoo.org/docs/]</span> acts.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="create-dev-configuration">
<h2>Create Dev configuration</h2>
<p>Let&#8217;s imagine you want to create a custom dev configuration for your project. Below you can find the code for this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">DevSettings</span><span class="p">(</span><span class="n">BasicSettings</span><span class="p">):</span>
   <span class="nd">@property</span>
   <span class="k">def</span> <span class="nf">supported_languages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="p">[</span><span class="s">&quot;en_us&quot;</span><span class="p">,</span> <span class="s">&quot;ro_ro&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>The above configuration actually overwrites supported languages. This mean that only en_us is relevant for <strong>Dev</strong> environment.
You can do the same for <strong>Stage</strong>, <strong>Prod</strong> or any other custom configuration.</p>
</div>
<div class="section" id="using-a-specifc-configuration">
<h2>Using a specifc configuration</h2>
<dl class="class">
<dt id="fantastico.settings.SettingsFacade">
<em class="property">class </em><tt class="descclassname">fantastico.settings.</tt><tt class="descname">SettingsFacade</tt><big>(</big><em>environ=None</em><big>)</big><a class="reference internal" href="../_modules/fantastico/settings.html#SettingsFacade"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>For using a specific fantastico configuration you need to do two simple steps:</p>
<ul>
<li><p class="first">Set <strong>FANTASTICO_ACTIVE_CONFIG</strong> environment variable to the fully python qualified class name you want to use. E.g: <a class="reference internal" href="#fantastico.settings.BasicSettings" title="fantastico.settings.BasicSettings"><tt class="xref py py-class docutils literal"><span class="pre">fantastico.settings.BasicSettings</span></tt></a></p>
</li>
<li><p class="first">In your code, you can use the following snippet to access a specific setting:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">fantastico.settings</span> <span class="kn">import</span> <span class="n">SettingsFacade</span>

<span class="k">print</span><span class="p">(</span><span class="n">SettingsFacade</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;installed_middleware&quot;</span><span class="p">))</span>
</pre></div>
</div>
</li>
</ul>
<p>If no active configuration is set in the <a class="reference internal" href="#fantastico.settings.BasicSettings" title="fantastico.settings.BasicSettings"><tt class="xref py py-class docutils literal"><span class="pre">fantastico.settings.BasicSettings</span></tt></a> will be used.</p>
<dl class="method">
<dt id="fantastico.settings.SettingsFacade.get">
<tt class="descname">get</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="../_modules/fantastico/settings.html#SettingsFacade.get"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Method used to retrieve a setting value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Setting name.</li>
<li><strong>type</strong> &#8211; string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The setting value.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fantastico.settings.SettingsFacade.get_config">
<tt class="descname">get_config</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fantastico/settings.html#SettingsFacade.get_config"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Method used to return the active configuration which is used by this facade.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#fantastico.settings.BasicSettings" title="fantastico.settings.BasicSettings"><tt class="xref py py-class docutils literal"><span class="pre">fantastico.settings.BasicSettings</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Active configuration currently used.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fantastico.settings.SettingsFacade.get_root_folder">
<tt class="descname">get_root_folder</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fantastico/settings.html#SettingsFacade.get_root_folder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Method used to return the root folder of the current fantastico project (detected starting from settings)
profile used.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer">
        &copy; Copyright 2013, Radu Viorel Cosnita.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42788125-1', 'rcosnita.github.io');
  ga('send', 'pageview');
</script>

  </body>
</html>
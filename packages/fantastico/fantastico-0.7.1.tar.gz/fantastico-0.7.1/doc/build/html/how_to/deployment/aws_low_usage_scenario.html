<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Low usage AWS &mdash; fantastico 0.7.0-b141 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.0.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.7.0-b141',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="fantastico 0.7.0-b141 documentation" href="../../index.html" />
    <link rel="up" title="Deployment how to" href="../deployment_how_to.html" />
    <link rel="next" title="Static assets" href="../static_assets.html" />
    <link rel="prev" title="Low usage (simplest scenario)" href="low_usage_scenario.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          Fantastico framework</a>
        <span class="navbar-text navbar-version pull-left"><b>0.7.0-b141</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="../../index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Fantastico <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#why-another-python-framework">Why another python framework?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#fantastico-s-initial-ideas">Fantastico&#8217;s initial ideas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../get_started/getting_started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../get_started/installation.html">Installation manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get_started/settings.html">Fantastico settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get_started/contribute.html">Contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get_started/dev_mode.html">Development mode</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../how_to.html">How to articles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../new_project_how_to.html">Creating a new project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../todo/index.html">Creating a simple TODO application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mvc_how_to.html">MVC How to</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../deployment_how_to.html">Deployment how to</a></li>
<li class="toctree-l2"><a class="reference internal" href="../static_assets.html">Static assets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../features/features.html">Fantastico features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../features/exceptions.html">Exceptions hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/request_response.html">Request lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/routing_engine.html">Routing engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/mvc.html">Model View Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/cors.html">CORS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/roa.html">ROA (Resource Oriented Architecture)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/oauth2.html">OAUTH2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/sdk.html">SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/component_model.html">Component model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/component_reusage.html">Component reusage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/components_builtin.html">Built in components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">Changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changes.html#feedback">Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes.html#versions">Versions</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Low usage AWS</a><ul>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#optimization">Optimization</a></li>
<li><a class="reference internal" href="#setup-with-s3">Setup with S3</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="low_usage_scenario.html" title="Previous Chapter: Low usage (simplest scenario)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Low usage (simpl...</span>
    </a>
  </li>
  <li>
    <a href="../static_assets.html" title="Next Chapter: Static assets"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Static assets &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../_sources/how_to/deployment/aws_low_usage_scenario.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="low-usage-aws">
<h1>Low usage AWS<a class="headerlink" href="#low-usage-aws" title="Permalink to this headline">Â¶</a></h1>
<img alt="../../_images/low_usage_aws.png" src="../../_images/low_usage_aws.png" />
<p>This scenario is a little bit more complex than <a class="reference internal" href="low_usage_scenario.html"><em>Low usage (simplest scenario)</em></a> but it provides some
advantages:</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Advantages</th>
<th class="head">Disadvantages</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Can be autoscaled.</td>
<td>Requires AWS EC2 instances</td>
</tr>
<tr class="row-odd"><td>Easier crash recovery</td>
<td>Requires manual configuration</td>
</tr>
<tr class="row-even"><td>Very easy monitoring support (CloudWatch)</td>
<td>Requires AWS EBS.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>Requires some AWS know how.</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>Static files are not served from a cdn.</td>
</tr>
</tbody>
</table>
<p>This scenario is recommended if you want to rollout you application on AWS infrastructure. Usually it is non expensive
to do this as it requires micro instances and low cost storage. For more information about AWS required components
read:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference external" href="http://aws.amazon.com/ec2/instance-types/">AWS Instance types</a>.</li>
<li><a class="reference external" href="http://aws.amazon.com/ebs/">AWS EBS</a>.</li>
</ol>
</div></blockquote>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">Â¶</a></h2>
<ol class="arabic simple">
<li>Create an AWS account. (<a class="reference external" href="http://aws.amazon.com/documentation/gettingstarted/">AWS Getting Started</a>).</li>
<li>Create an EC2 instance from AWS Management Console (<a class="reference external" href="http://www.youtube.com/watch?v=WBro0TEAd7g">EC2 setup</a>).</li>
<li>SSH on EC2 instance.</li>
<li>Install Fantastico framework on the production machine (<a class="reference internal" href="../../get_started/installation.html"><em>Installation manual</em></a>.).</li>
<li>Goto $FANTASTICO_ROOT</li>
<li>fantastico_setup_low_usage_&lt;os_distribution).sh (e.g fantastico_setup_low_usage_ubuntu.sh)</li>
<li>Done.</li>
</ol>
</div>
<div class="section" id="optimization">
<h2>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline">Â¶</a></h2>
<p>This scenario can be easily optimized by using <strong>AWS S3</strong> buckets for static files. This ensures faileover for static
files and very easy horizontal scaling for sites. Below you can find the new diagram:</p>
<img alt="../../_images/low_usage_s3_aws.png" src="../../_images/low_usage_s3_aws.png" />
<p>You can read more about <strong>AWS S3</strong> storage on <a class="reference external" href="http://aws.amazon.com/s3/">http://aws.amazon.com/s3/</a>. In this version of fantastico there is no
way to sync static module files with S3 buckets. This feature is going to be implemented in upcoming <strong>Fantastico</strong>
features. As a workaround you can easily copy <strong>static</strong> folder content from each module on S3 using the tool
provided from AWS Management Console.</p>
<p>You can see how to use AWS Management Console S3 tool on <a class="reference external" href="http://www.youtube.com/watch?v=1qrjFb0ZTm8">http://www.youtube.com/watch?v=1qrjFb0ZTm8</a></p>
</div>
<div class="section" id="setup-with-s3">
<h2>Setup with S3<a class="headerlink" href="#setup-with-s3" title="Permalink to this headline">Â¶</a></h2>
<ol class="arabic simple">
<li>export ROOT_PASSWD=&lt;your root password&gt;</li>
<li>Create an AWS account. (<a class="reference external" href="http://aws.amazon.com/documentation/gettingstarted/">AWS Getting Started</a>).</li>
<li>Create an EC2 instance from AWS Management Console (<a class="reference external" href="http://www.youtube.com/watch?v=WBro0TEAd7g">EC2 setup</a>).</li>
<li>SSH on EC2 instance.</li>
<li>Install Fantastico framework on the production machine (<a class="reference internal" href="../../get_started/installation.html"><em>Installation manual</em></a>.).</li>
<li>Goto $FANTASTICO_ROOT/deployment</li>
<li>fantastico_setup_low_usage_s3_&lt;os_distribution).sh &#8211;ipaddress &lt;desired_ip&gt; &#8211;vhost-name &lt;desired_vhost&gt; &#8211;uwsgi-port &lt;uwsgi port&gt; &#8211;root-folder &lt;desired root folder&gt; &#8211;modules-folder &lt;desired modules folder&gt; (e.g fantastico_setup_low_usage_s3_ubuntu.sh &#8211;ipaddress 127.0.0.1 &#8211;vhost-name fantastico-framework.com &#8211;uwsgi-port 12090 &#8211;root-folder `pwd` &#8211;modules-folder /fantastico/samples)</li>
<li>Done.</li>
</ol>
<p>It is usually a good idea to change the number of parallel connections supported by your linux kernel:</p>
<ol class="arabic simple">
<li>sudo nano /etc/sysctl.conf</li>
<li>Search for <strong>net.core.somaxconn</strong>.</li>
<li>If it does not exist you can add net.core.somaxconn = 8192 to the bottom of the file.</li>
<li>Restart the os.</li>
</ol>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Radu Viorel Cosnita.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b1.<br/>
    </p>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42788125-1', 'rcosnita.github.io');
  ga('send', 'pageview');
</script>

  </body>
</html>
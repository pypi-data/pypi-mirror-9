<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Navigation &mdash; django cms 3.1.0.b1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0.b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="django cms 3.1.0.b1 documentation" href="../index.html" />
    <link rel="up" title="Reference" href="index.html" />
    <link rel="next" title="Plugins" href="plugins.html" />
    <link rel="prev" title="Configuration" href="configuration.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plugins.html" title="Plugins"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">django cms 3.1.0.b1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="navigation">
<h1>Navigation<a class="headerlink" href="#navigation" title="Permalink to this headline">¶</a></h1>
<p>There are four template tags for use in the templates that are connected to the
menu:</p>
<ul class="simple">
<li><a class="reference internal" href="#std:templatetag-show_menu"><tt class="xref std std-ttag docutils literal"><span class="pre">show_menu</span></tt></a></li>
<li><tt class="xref std std-ttag docutils literal"><span class="pre">show_menu_below_id</span></tt></li>
<li><a class="reference internal" href="#std:templatetag-show_sub_menu"><tt class="xref std std-ttag docutils literal"><span class="pre">show_sub_menu</span></tt></a></li>
<li><tt class="xref std std-ttag docutils literal"><span class="pre">show_breadcrumb</span></tt></li>
</ul>
<p>To use any of these templatetags, you need to have <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">load</span> <span class="pre">menu_tags</span> <span class="pre">%}</span></tt> in
your template before the line on which you call the templatetag.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that menus live in the <tt class="xref py py-mod docutils literal"><span class="pre">menus</span></tt> application, which though
tightly coupled to the <tt class="xref py py-mod docutils literal"><span class="pre">cms</span></tt> application exists independently of it.
Menus are usable by any application, not just by django CMS.</p>
</div>
<div class="section" id="show-menu">
<span id="std:templatetag-show_menu"></span><h2>show_menu<a class="headerlink" href="#show-menu" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">show_menu</span></tt> tag renders the navigation of the current page.
You can overwrite the appearance and the HTML if you add a <tt class="docutils literal"><span class="pre">menu/menu.html</span></tt>
template to your project or edit the one provided with django CMS.
<tt class="docutils literal"><span class="pre">show_menu</span></tt> takes four optional parameters: <tt class="docutils literal"><span class="pre">start_level</span></tt>, <tt class="docutils literal"><span class="pre">end_level</span></tt>,
<tt class="docutils literal"><span class="pre">extra_inactive</span></tt>, and <tt class="docutils literal"><span class="pre">extra_active</span></tt>.</p>
<p>The first two parameters, <tt class="docutils literal"><span class="pre">start_level</span></tt> (default=0) and <tt class="docutils literal"><span class="pre">end_level</span></tt>
(default=100) specify from which level the navigation should be rendered and at
which level it should stop. If you have home as a root node (i.e. level 0) and
don&#8217;t want to display the root node(s), set <tt class="docutils literal"><span class="pre">start_level</span></tt> to 1.</p>
<p>The third parameter, <tt class="docutils literal"><span class="pre">extra_inactive</span></tt> (default=0), specifies how many levels
of navigation should be displayed if a node is not a direct ancestor or
descendant of the current active node.</p>
<p>The fourth parameter, <tt class="docutils literal"><span class="pre">extra_active</span></tt> (default=100), specifies how
many levels of descendants of the currently active node should be displayed.</p>
<p>You can supply a <tt class="docutils literal"><span class="pre">template</span></tt> parameter to the tag.</p>
<div class="section" id="some-examples">
<h3>Some Examples<a class="headerlink" href="#some-examples" title="Permalink to this headline">¶</a></h3>
<p>Complete navigation (as a nested list):</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">menu_tags</span> <span class="cp">%}</span>
<span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_menu</span> <span class="m">0</span> <span class="m">100</span> <span class="m">100</span> <span class="m">100</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Navigation with active tree (as a nested list):</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_menu</span> <span class="m">0</span> <span class="m">100</span> <span class="m">0</span> <span class="m">100</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Navigation with only one active extra level:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_menu</span> <span class="m">0</span> <span class="m">100</span> <span class="m">0</span> <span class="m">1</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Level 1 navigation (as a nested list):</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_menu</span> <span class="m">1</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Navigation with a custom template:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_menu</span> <span class="m">0</span> <span class="m">100</span> <span class="m">100</span> <span class="m">100</span> <span class="s2">&quot;myapp/menu.html&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="show-menu-below-id">
<h2>show_menu_below_id<a class="headerlink" href="#show-menu-below-id" title="Permalink to this headline">¶</a></h2>
<p>If you have set an id in the advanced settings of a page, you can display the
submenu of this page with a template tag. For example, we have a page called
meta that is not displayed in the navigation and that has the id &#8220;meta&#8221;:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_menu_below_id</span> <span class="s2">&quot;meta&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>You can give it the same optional parameters as <tt class="docutils literal"><span class="pre">show_menu</span></tt>:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_menu_below_id</span> <span class="s2">&quot;meta&quot;</span> <span class="m">0</span> <span class="m">100</span> <span class="m">100</span> <span class="m">100</span> <span class="s2">&quot;myapp/menu.html&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Note that soft roots will not affect the menu when
using <tt class="docutils literal"><span class="pre">show_menu_below_id</span></tt>.</p>
</div>
<div class="section" id="show-sub-menu">
<span id="std:templatetag-show_sub_menu"></span><h2>show_sub_menu<a class="headerlink" href="#show-sub-menu" title="Permalink to this headline">¶</a></h2>
<p>Displays the sub menu of the current page (as a nested list).</p>
<p>The first argument, <tt class="docutils literal"><span class="pre">levels</span></tt> (default=100), specifies how many levels deep
the sub menu should be displayed.</p>
<p>The second argument, <tt class="docutils literal"><span class="pre">root_level</span></tt> (default=None), specifies at what level, if
any, the menu should have its root. For example, if root_level is 0 the menu
will start at that level regardless of what level the current page is on.</p>
<p>The third argument, <tt class="docutils literal"><span class="pre">nephews</span></tt> (default=100), specifies how many levels of
nephews (children of siblings) are shown.</p>
<p>Fourth argument, <tt class="docutils literal"><span class="pre">template</span></tt> (default=menu/sub_menu.html), is the template
used by the tag; if you want to use a different template you <strong>must</strong> supply
default values for <tt class="docutils literal"><span class="pre">root_level</span></tt> and <tt class="docutils literal"><span class="pre">nephews</span></tt>.</p>
<p>Examples:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_sub_menu</span> <span class="m">1</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Rooted at level 0:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_sub_menu</span> <span class="m">1</span> <span class="m">0</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Or with a custom template:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">show_sub_menu</span> <span class="m">1</span> <span class="kp">None</span> <span class="m">100</span> <span class="s2">&quot;myapp/submenu.html&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="show-breadcrumb">
<h2>show_breadcrumb<a class="headerlink" href="#show-breadcrumb" title="Permalink to this headline">¶</a></h2>
<p>Show the breadcrumb navigation of the current page. The template for the HTML
can be found at <tt class="docutils literal"><span class="pre">menu/breadcrumb.html</span></tt>.:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_breadcrumb</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Or with a custom template and only display level 2 or higher:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_breadcrumb</span> <span class="m">2</span> <span class="s2">&quot;myapp/breadcrumb.html&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Usually, only pages visible in the navigation are shown in the
breadcrumb. To include <em>all</em> pages in the breadcrumb, write:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_breadcrumb</span> <span class="m">0</span> <span class="s2">&quot;menu/breadcrumb.html&quot;</span> <span class="m">0</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If the current URL is not handled by the CMS or by a navigation extender,
the current menu node can not be determined.
In this case you may need to provide your own breadcrumb via the template.
This is mostly needed for pages like login, logout and third-party apps.
This can easily be accomplished by a block you overwrite in your templates.</p>
<p>For example in your base.html:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">breadcrumb</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">show_breadcrumb</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="nt">&lt;ul&gt;</span>
</pre></div>
</div>
<p>And then in your app template:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">breadcrumb</span> <span class="cp">%}</span>
<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>My current page<span class="nt">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="properties-of-navigation-nodes-in-templates">
<span id="extending-the-menu"></span><h2>Properties of Navigation Nodes in templates<a class="headerlink" href="#properties-of-navigation-nodes-in-templates" title="Permalink to this headline">¶</a></h2>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.is_leaf_node</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>Is it the last in the tree? If true it doesn&#8217;t have any children.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.level</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>The level of the node. Starts at 0.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.menu_level</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>The level of the node from the root node of the menu. Starts at 0.
If your menu starts at level 1 or you have a &#8220;soft root&#8221; (described
in the next section) the first node would still have 0 as its <tt class="docutils literal"><span class="pre">menu_level</span></tt>.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.get_absolute_url</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>The absolute URL of the node, without any protocol, domain or port.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.title</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>The title in the current language of the node.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.selected</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>If true this node is the current one selected/active at this URL.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.ancestor</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>If true this node is an ancestor of the current selected node.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.sibling</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>If true this node is a sibling of the current selected node.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.descendant</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>If true this node is a descendant of the current selected node.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">node.soft_root</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>If true this node is a <a class="reference internal" href="../topics/menu_system.html#soft-root"><em>soft root</em></a>. A page can be marked as a <em>soft root</em>
in its &#8216;Advanced Settings&#8217;.</p>
</div>
<div class="section" id="modifying-extending-the-menu">
<h2>Modifying &amp; Extending the menu<a class="headerlink" href="#modifying-extending-the-menu" title="Permalink to this headline">¶</a></h2>
<p>Please refer to the <a class="reference internal" href="../how_to/menus.html"><em>Customising navigation menus</em></a> documentation</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Navigation</a><ul>
<li><a class="reference internal" href="#show-menu">show_menu</a><ul>
<li><a class="reference internal" href="#some-examples">Some Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#show-menu-below-id">show_menu_below_id</a></li>
<li><a class="reference internal" href="#show-sub-menu">show_sub_menu</a></li>
<li><a class="reference internal" href="#show-breadcrumb">show_breadcrumb</a></li>
<li><a class="reference internal" href="#properties-of-navigation-nodes-in-templates">Properties of Navigation Nodes in templates</a></li>
<li><a class="reference internal" href="#modifying-extending-the-menu">Modifying &amp; Extending the menu</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="previous chapter">Configuration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plugins.html"
                        title="next chapter">Plugins</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/reference/navigation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plugins.html" title="Plugins"
             >next</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             >previous</a> |</li>
        <li><a href="../index.html">django cms 3.1.0.b1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Patrick Lauber.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Template Tags &mdash; django cms 3.1.0.b1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0.b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="django cms 3.1.0.b1 documentation" href="../index.html" />
    <link rel="up" title="Reference" href="index.html" />
    <link rel="next" title="Command Line Interface" href="cli.html" />
    <link rel="prev" title="Form and model fields" href="fields.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cli.html" title="Command Line Interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fields.html" title="Form and model fields"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">django cms 3.1.0.b1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="template-tags">
<h1>Template Tags<a class="headerlink" href="#template-tags" title="Permalink to this headline">¶</a></h1>
<div class="section" id="cms-templatetags">
<h2>CMS templatetags<a class="headerlink" href="#cms-templatetags" title="Permalink to this headline">¶</a></h2>
<p>To use any of the following templatetags you first need to load them at the
top of your template:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="section" id="placeholder">
<span id="std:templatetag-placeholder"></span><h3>placeholder<a class="headerlink" href="#placeholder" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.1: </span>The placeholder name became case sensitive.</p>
</div>
<p>The <tt class="docutils literal"><span class="pre">placeholder</span></tt> templatetag defines a placeholder on a page. All
placeholders in a template will be auto-detected and can be filled with
plugins when editing a page that is using said template. When rendering, the
content of these plugins will appear where the <tt class="docutils literal"><span class="pre">placeholder</span></tt> tag was.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;content&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If you want additional content to be displayed in case the placeholder is
empty, use the <tt class="docutils literal"><span class="pre">or</span></tt> argument and an additional <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">endplaceholder</span> <span class="pre">%}</span></tt>
closing tag. Everything between <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">placeholder</span> <span class="pre">&quot;...&quot;</span> <span class="pre">or</span> <span class="pre">%}</span></tt> and <tt class="docutils literal"><span class="pre">{%</span>
<span class="pre">endplaceholder</span> <span class="pre">%}</span></tt> is rendered in the event that the placeholder has no plugins or
the plugins do not generate any output.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;content&quot;</span> <span class="k">or</span> <span class="cp">%}</span>There is no content.<span class="cp">{%</span> <span class="k">endplaceholder</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If you want to add extra variables to the context of the placeholder, you
should use Django&#8217;s <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/templates/builtins.html#std:templatetag-with" title="(in Django v1.9)"><tt class="xref std std-ttag docutils literal"><span class="pre">with</span></tt></a> tag. For instance, if you want to resize images
from your templates according to a context variable called <tt class="docutils literal"><span class="pre">width</span></tt>, you can
pass it as follows:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">with</span> <span class="m">320</span> <span class="k">as</span> <span class="nv">width</span> <span class="cp">%}{%</span> <span class="k">placeholder</span> <span class="s2">&quot;content&quot;</span> <span class="cp">%}{%</span> <span class="k">endwith</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If you want the placeholder to inherit the content of a placeholder with the
same name on parent pages, simply pass the <tt class="docutils literal"><span class="pre">inherit</span></tt> argument:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;content&quot;</span> <span class="nv">inherit</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>This will walk up the page tree up until the root page and will show the first
placeholder it can find with content.</p>
<p>It&#8217;s also possible to combine this with the <tt class="docutils literal"><span class="pre">or</span></tt> argument to show an
ultimate fallback if the placeholder and none of the placeholders on parent
pages have plugins that generate content:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;content&quot;</span> <span class="nv">inherit</span> <span class="k">or</span> <span class="cp">%}</span>There is no spoon.<span class="cp">{%</span> <span class="k">endplaceholder</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>See also the <a class="reference internal" href="configuration.html#std:setting-CMS_PLACEHOLDER_CONF"><tt class="xref std std-setting docutils literal"><span class="pre">CMS_PLACEHOLDER_CONF</span></tt></a> setting where you can also add extra
context variables and change some other placeholder behavior.</p>
</div>
<div class="section" id="static-placeholder">
<span id="std:templatetag-static_placeholder"></span><h3>static_placeholder<a class="headerlink" href="#static-placeholder" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
<p>The static_placeholder templatetag can be used anywhere in any template and is not bound to any page or model.
It needs a name and it will create a placeholder that you can fill with plugins afterwards.
The static_placeholder tag is normally used to display the same content on
multiple locations or inside of apphooks or other 3rd party apps. Static_placeholder need to be published
to show up on live pages.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">static_placeholder</span> <span class="s2">&quot;footer&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Static_placeholders are not included in the undo/redo and page history pages</p>
</div>
<p>If you want additional content to be displayed in case the static placeholder is
empty, use the <tt class="docutils literal"><span class="pre">or</span></tt> argument and an additional <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">endstatic_placeholder</span> <span class="pre">%}</span></tt>
closing tag. Everything between <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">static_placeholder</span> <span class="pre">&quot;...&quot;</span> <span class="pre">or</span> <span class="pre">%}</span></tt> and <tt class="docutils literal"><span class="pre">{%</span>
<span class="pre">endstatic_placeholder</span> <span class="pre">%}</span></tt> is rendered in the event that the placeholder has no plugins or
the plugins do not generate any output.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">static_placeholder</span> <span class="s2">&quot;footer&quot;</span> <span class="k">or</span> <span class="cp">%}</span>There is no content.<span class="cp">{%</span> <span class="k">endstatic_placeholder</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If you want to make your static placeholder site specific (<tt class="docutils literal"><span class="pre">django.contrib.sites</span></tt>) you can add
<tt class="docutils literal"><span class="pre">site</span></tt> to the templatetag to achieve this.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">static_placeholder</span> <span class="s2">&quot;footer&quot;</span> <span class="nv">site</span> <span class="k">or</span> <span class="cp">%}</span>There is no content.<span class="cp">{%</span> <span class="k">endstatic_placeholder</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="render-placeholder">
<span id="std:templatetag-render_placeholder"></span><h3>render_placeholder<a class="headerlink" href="#render-placeholder" title="Permalink to this headline">¶</a></h3>
<p><cite>{% render_placeholder %}</cite> is used if you have a PlaceholderField in your own model and want
to render it in the template.</p>
<p>The <a class="reference internal" href="#std:templatetag-render_placeholder"><tt class="xref std std-ttag docutils literal"><span class="pre">render_placeholder</span></tt></a> tag takes the following parameters:</p>
<ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">PlaceholderField</span></tt> instance</li>
<li><tt class="docutils literal"><span class="pre">width</span></tt> parameter for context sensitive plugins (optional)</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> keyword plus <tt class="docutils literal"><span class="pre">language-code</span></tt> string to render content in the
specified language (optional)</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> keyword plus <tt class="docutils literal"><span class="pre">language-code</span></tt> string to render content in the
specified language (optional)</li>
<li><tt class="docutils literal"><span class="pre">as</span></tt> keyword followed by <tt class="docutils literal"><span class="pre">varname</span></tt> (optional): the templatetag output can
be saved as a context variable for later use.</li>
</ul>
<p>The following example renders the my_placeholder field from the mymodel_instance and will render
only the english plugins:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">render_placeholder</span> <span class="nv">mymodel_instance.my_placeholder</span> <span class="nv">language</span> <span class="s1">&#39;en&#39;</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.2: </span>This template tag supports the <tt class="docutils literal"><span class="pre">as</span></tt> argument. With this you can assign the result
of the template tag to a new variable that you can use elsewhere in the template.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">render_placeholder</span> <span class="nv">mymodel_instance.my_placeholder</span> <span class="k">as</span> <span class="nv">placeholder_content</span> <span class="cp">%}</span>
<span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">placeholder_content</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
<p>When used in this manner, the placeholder will not be displayed for
editing when the CMS is in edit mode.</p>
</div>
</div>
<div class="section" id="render-uncached-placeholder">
<span id="std:templatetag-render_uncached_placeholder"></span><h3>render_uncached_placeholder<a class="headerlink" href="#render-uncached-placeholder" title="Permalink to this headline">¶</a></h3>
<p>The same as <a class="reference internal" href="#std:templatetag-render_placeholder"><tt class="xref std std-ttag docutils literal"><span class="pre">render_placeholder</span></tt></a>, but the placeholder contents will not be
cached or taken from the cache.</p>
<p>Arguments:</p>
<ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">PlaceholderField</span></tt> instance</li>
<li><tt class="docutils literal"><span class="pre">width</span></tt> parameter for context sensitive plugins (optional)</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> keyword plus <tt class="docutils literal"><span class="pre">language-code</span></tt> string to render content in the
specified language (optional)</li>
<li><tt class="docutils literal"><span class="pre">as</span></tt> keyword followed by <tt class="docutils literal"><span class="pre">varname</span></tt> (optional): the templatetag output can
be saved as a context variable for later use.</li>
</ul>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">render_uncached_placeholder</span> <span class="nv">mymodel_instance.my_placeholder</span> <span class="nv">language</span> <span class="s1">&#39;en&#39;</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="show-placeholder">
<span id="std:templatetag-show_placeholder"></span><h3>show_placeholder<a class="headerlink" href="#show-placeholder" title="Permalink to this headline">¶</a></h3>
<p>Displays a specific placeholder from a given page. This is useful if you want
to have some more or less static content that is shared among many pages, such
as a footer.</p>
<p>Arguments:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">placeholder_name</span></tt></li>
<li><tt class="docutils literal"><span class="pre">page_lookup</span></tt> (see <a class="reference internal" href="#page-lookup">page_lookup</a> for more information)</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional)</li>
<li><tt class="docutils literal"><span class="pre">site</span></tt> (optional)</li>
</ul>
<p>Examples:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_placeholder</span> <span class="s2">&quot;footer&quot;</span> <span class="s2">&quot;footer_container_page&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">show_placeholder</span> <span class="s2">&quot;content&quot;</span> <span class="nv">request.current_page.parent_id</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">show_placeholder</span> <span class="s2">&quot;teaser&quot;</span> <span class="nv">request.current_page.get_root</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="show-uncached-placeholder">
<span id="std:templatetag-show_uncached_placeholder"></span><h3>show_uncached_placeholder<a class="headerlink" href="#show-uncached-placeholder" title="Permalink to this headline">¶</a></h3>
<p>The same as <a class="reference internal" href="#std:templatetag-show_placeholder"><tt class="xref std std-ttag docutils literal"><span class="pre">show_placeholder</span></tt></a>, but the placeholder contents will not be
cached or taken from the cache.</p>
<p>Arguments:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">placeholder_name</span></tt></li>
<li><tt class="docutils literal"><span class="pre">page_lookup</span></tt> (see <a class="reference internal" href="#page-lookup">page_lookup</a> for more information)</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional)</li>
<li><tt class="docutils literal"><span class="pre">site</span></tt> (optional)</li>
</ul>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_uncached_placeholder</span> <span class="s2">&quot;footer&quot;</span> <span class="s2">&quot;footer_container_page&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="page-lookup">
<span id="std:templatetag-page_lookup"></span><h3>page_lookup<a class="headerlink" href="#page-lookup" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">page_lookup</span></tt> argument, passed to several templatetags to retrieve a
page, can be of any of the following types:</p>
<ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">str</span></tt>: interpreted as the <tt class="docutils literal"><span class="pre">reverse_id</span></tt> field of the desired page, which
can be set in the &#8220;Advanced&#8221; section when editing a page.</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">int</span></tt>: interpreted as the primary key (<tt class="docutils literal"><span class="pre">pk</span></tt> field) of the desired page</li>
<li><a class="reference external" href="http://docs.python.org/2.6/library/stdtypes.html#dict" title="(in Python v2.6)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a>: a dictionary containing keyword arguments to find the desired page
(for instance: <tt class="docutils literal"><span class="pre">{'pk':</span> <span class="pre">1}</span></tt>)</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">Page</span></tt>: you can also pass a page object directly, in which case there will
be no database lookup.</li>
</ul>
<p>If you know the exact page you are referring to, it is a good idea to use a
<tt class="docutils literal"><span class="pre">reverse_id</span></tt> (a string used to uniquely name a page) rather than a
hard-coded numeric ID in your template. For example, you might have a help
page that you want to link to or display parts of on all pages. To do this,
you would first open the help page in the admin interface and enter an ID
(such as <tt class="docutils literal"><span class="pre">help</span></tt>) under the &#8216;Advanced&#8217; tab of the form. Then you could use
that <tt class="docutils literal"><span class="pre">reverse_id</span></tt> with the appropriate templatetags:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_placeholder</span> <span class="s2">&quot;right-column&quot;</span> <span class="s2">&quot;help&quot;</span> <span class="cp">%}</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">page_url</span> <span class="s2">&quot;help&quot;</span> <span class="cp">%}</span><span class="s">&quot;</span><span class="nt">&gt;</span>Help page<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
<p>If you are referring to a page <cite>relative</cite> to the current page, you&#8217;ll probably
have to use a numeric page ID or a page object. For instance, if you want the
content of the parent page to display on the current page, you can use:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">show_placeholder</span> <span class="s2">&quot;content&quot;</span> <span class="nv">request.current_page.parent_id</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Or, suppose you have a placeholder called <tt class="docutils literal"><span class="pre">teaser</span></tt> on a page that, unless a
content editor has filled it with content specific to the current page, should
inherit the content of its root-level ancestor:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;teaser&quot;</span> <span class="k">or</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">show_placeholder</span> <span class="s2">&quot;teaser&quot;</span> <span class="nv">request.current_page.get_root</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endplaceholder</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="page-url">
<span id="std:templatetag-page_url"></span><h3>page_url<a class="headerlink" href="#page-url" title="Permalink to this headline">¶</a></h3>
<p>Displays the URL of a page in the current language.</p>
<p>Arguments:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">page_lookup</span></tt> (see <a class="reference internal" href="#page-lookup">page_lookup</a> for more information)</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional)</li>
<li><tt class="docutils literal"><span class="pre">site</span></tt> (optional)</li>
<li><tt class="docutils literal"><span class="pre">as</span> <span class="pre">var_name</span></tt> (version 3.0 or later, optional; page_url can now be used to assign the resulting
URL to a context variable <tt class="docutils literal"><span class="pre">var_name</span></tt>)</li>
</ul>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">page_url</span> <span class="s2">&quot;help&quot;</span> <span class="cp">%}</span><span class="s">&quot;</span><span class="nt">&gt;</span>Help page<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">page_url</span> <span class="nv">request.current_page.parent</span> <span class="cp">%}</span><span class="s">&quot;</span><span class="nt">&gt;</span>Parent page<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
<p>If a matching page isn&#8217;t found and <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-DEBUG" title="(in Django v1.9)"><tt class="docutils literal"><span class="pre">DEBUG</span></tt></a> is <tt class="docutils literal"><span class="pre">True</span></tt>, an
exception will be raised. However, if <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-DEBUG" title="(in Django v1.9)"><tt class="docutils literal"><span class="pre">DEBUG</span></tt></a> is <tt class="docutils literal"><span class="pre">False</span></tt>, an
exception will not be raised. Additionally, if
<tt class="xref std std-setting docutils literal"><span class="pre">SEND_BROKEN_LINK_EMAILS</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> and you have specified
some addresses in <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-MANAGERS" title="(in Django v1.9)"><tt class="docutils literal"><span class="pre">MANAGERS</span></tt></a>, an email will be sent to those
addresses to inform them of the broken link.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0: </span>page_url now supports the <tt class="docutils literal"><span class="pre">as</span></tt> argument. When used this way, the tag
emits nothing, but sets a variable in the context with the specified name
to the resulting value.</p>
<p>When using the <tt class="docutils literal"><span class="pre">as</span></tt> argument PageNotFound exceptions are always
suppressed, regardless of the setting of <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-DEBUG" title="(in Django v1.9)"><tt class="docutils literal"><span class="pre">DEBUG</span></tt></a> and the
tag will simply emit an empty string in these cases.</p>
</div>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="c">{# Emit a &#39;canonical&#39; tag when the page is displayed on an alternate url #}</span>
<span class="cp">{%</span> <span class="k">page_url</span> <span class="nv">request.current_page</span> <span class="k">as</span> <span class="nv">current_url</span> <span class="cp">%}{%</span> <span class="k">if</span> <span class="nv">current_url</span> <span class="k">and</span> <span class="nv">current_url</span> <span class="p">!</span><span class="o">=</span> <span class="nv">request.get_full_path</span> <span class="cp">%}</span><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;canonical&quot;</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">page_url</span> <span class="nv">request.current_page</span> <span class="cp">%}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="page-attribute">
<span id="std:templatetag-page_attribute"></span><h3>page_attribute<a class="headerlink" href="#page-attribute" title="Permalink to this headline">¶</a></h3>
<p>This templatetag is used to display an attribute of the current page in the
current language.</p>
<p>Arguments:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">attribute_name</span></tt></li>
<li><tt class="docutils literal"><span class="pre">page_lookup</span></tt> (optional; see <a class="reference internal" href="#page-lookup">page_lookup</a> for more
information)</li>
</ul>
<p>Possible values for <tt class="docutils literal"><span class="pre">attribute_name</span></tt> are: <tt class="docutils literal"><span class="pre">&quot;title&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;menu_title&quot;</span></tt>,
<tt class="docutils literal"><span class="pre">&quot;page_title&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;slug&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;meta_description&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;changed_date&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;changed_by&quot;</span></tt>
(note that you can also supply that argument without quotes, but this is
deprecated because the argument might also be a template variable).</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">page_attribute</span> <span class="s2">&quot;page_title&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If you supply the optional <tt class="docutils literal"><span class="pre">page_lookup</span></tt> argument, you will get the page
attribute from the page found by that argument.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">page_attribute</span> <span class="s2">&quot;page_title&quot;</span> <span class="s2">&quot;my_page_reverse_id&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">page_attribute</span> <span class="s2">&quot;page_title&quot;</span> <span class="nv">request.current_page.parent_id</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">page_attribute</span> <span class="s2">&quot;slug&quot;</span> <span class="nv">request.current_page.get_root</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.2: </span>This template tag supports the <tt class="docutils literal"><span class="pre">as</span></tt> argument. With this you can assign the result
of the template tag to a new variable that you can use elsewhere in the template.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">page_attribute</span> <span class="s2">&quot;page_title&quot;</span> <span class="k">as</span> <span class="nv">title</span> <span class="cp">%}</span>
<span class="nt">&lt;title&gt;</span><span class="cp">{{</span> <span class="nv">title</span> <span class="cp">}}</span><span class="nt">&lt;/title&gt;</span>
</pre></div>
</div>
<p>It even can be used in combination with the <tt class="docutils literal"><span class="pre">page_lookup</span></tt> argument.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">page_attribute</span> <span class="s2">&quot;page_title&quot;</span> <span class="s2">&quot;my_page_reverse_id&quot;</span> <span class="k">as</span> <span class="nv">title</span> <span class="cp">%}</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/mypage/&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">title</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</div>
<div class="versionadded" id="std:templatetag-render_plugin">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
</div>
<div class="section" id="render-plugin">
<h3>render_plugin<a class="headerlink" href="#render-plugin" title="Permalink to this headline">¶</a></h3>
<p>This templatetag is used to render child plugins of the current plugin and should be used inside plugin templates.</p>
<p>Arguments:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">plugin</span></tt></li>
</ul>
<p>Plugin needs to be an instance of a plugin model.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="cp">%}</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;multicolumn&quot;</span><span class="nt">&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">plugin</span> <span class="k">in</span> <span class="nv">instance.child_plugin_instances</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;width: </span><span class="cp">{{</span> <span class="nv">plugin.width</span> <span class="cp">}}</span><span class="s">00px;&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{%</span> <span class="k">render_plugin</span> <span class="nv">plugin</span> <span class="cp">%}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Normally the children of plugins can be accessed via the <tt class="docutils literal"><span class="pre">child_plugins</span></tt> attribute of plugins.
Plugins need the <tt class="docutils literal"><span class="pre">allow_children</span></tt> attribute to set to <cite>True</cite> for this to be enabled.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</div>
<div class="section" id="render-plugin-block">
<span id="std:templatetag-render_plugin_block"></span><h3>render_plugin_block<a class="headerlink" href="#render-plugin-block" title="Permalink to this headline">¶</a></h3>
<p>This templatetag acts like the templatetag &#8216;render_model_block&#8217; but with a
plugin instead of a model as its target. This is used to link from a block of
markup to a plugin&#8217;s changeform in edit/preview mode.</p>
<p>This is useful for user interfaces that have some plugins hidden from display
in edit/preview mode, but the CMS author needs to expose a way to edit them.
It is also useful for just making duplicate or alternate means of triggering
the change form for a plugin.</p>
<p>This would typically be used inside a parent-plugin’s render template. In this
example code below, there is a parent container plugin which renders a list of
child plugins inside a NAV block, then the actual plugin contents inside a
DIV.contentgroup-items block. In this example, the nav block is always shown,
but the items are only shown once the corresponding navigation element is
clicked. Adding this render_plugin_block makes it significantly more intuitive
to edit a child plugins content, by double-clicking its nav item in edit mode.</p>
<p>Arguments:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">plugin</span></tt></li>
</ul>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="nv">l10n</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">section_content</span> <span class="cp">%}</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;contentgroup-container&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">&quot;contentgroup&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;inner&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;contentgroup-items&quot;</span><span class="nt">&gt;</span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">child</span> <span class="k">in</span> <span class="nv">children</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">if</span> <span class="nv">child.enabled</span> <span class="cp">%}</span>
        <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;item</span><span class="cp">{{</span> <span class="nb">forloop</span><span class="nv">.counter0</span><span class="o">|</span><span class="nf">unlocalize</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
          <span class="cp">{%</span> <span class="k">render_plugin_block</span> <span class="nv">child</span> <span class="cp">%}</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#item</span><span class="cp">{{</span> <span class="nv">child.id</span><span class="o">|</span><span class="nf">unlocalize</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">child.title</span><span class="o">|</span><span class="nf">safe</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span>
          <span class="cp">{%</span> <span class="k">endrender_plugin_block</span> <span class="cp">%}</span>
        <span class="nt">&lt;/li&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
      <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;contentgroup-items&quot;</span><span class="nt">&gt;</span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">child</span> <span class="k">in</span> <span class="nv">children</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;contentgroup-item item</span><span class="cp">{{</span> <span class="nv">child.id</span><span class="o">|</span><span class="nf">unlocalize</span> <span class="cp">}}{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nb">forloop</span><span class="nv">.counter0</span> <span class="cp">%}</span><span class="s"> active</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
      <span class="cp">{%</span> <span class="k">render_plugin</span> <span class="nv">child</span>  <span class="cp">%}</span>
    <span class="nt">&lt;/div&gt;</span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="versionadded" id="std:templatetag-render_model">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</div>
<div class="section" id="render-model">
<h3>render_model<a class="headerlink" href="#render-model" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><tt class="docutils literal"><span class="pre">render_model</span></tt> marks as safe the content of the rendered model
attribute. This may be a security risk if used on fields which may contains
non-trusted content. Be aware, and use the templatetag accordingly.</p>
</div>
<p><tt class="docutils literal"><span class="pre">render_model</span></tt> is the way to add frontend editing to any Django model.
It both render the content of the given attribute of the model instance and
makes it clickable to edit the related model.</p>
<p>If the toolbar is not enabled, the value of the attribute is rendered in the
template without further action.</p>
<p>If the toolbar is enabled, click to call frontend editing code is added.</p>
<p>By using this templatetag you can show and edit page titles as well as fields in
standard django models, see <a class="reference internal" href="../how_to/frontend_models.html#frontend-editable-fields"><em>Frontend editing for Page and Django models</em></a> for examples and
further documentation.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span><span class="cp">{%</span> <span class="k">render_model</span> <span class="nv">my_model</span> <span class="s2">&quot;title&quot;</span> <span class="s2">&quot;title,abstract&quot;</span> <span class="cp">%}</span><span class="nt">&lt;/h1&gt;</span>
</pre></div>
</div>
<p>This will render to:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="c">&lt;!-- The content of the H1 is the active area that triggers the frontend editor --&gt;</span>
<span class="nt">&lt;h1&gt;&lt;div</span> <span class="na">class=</span><span class="s">&quot;cms_plugin cms_plugin-myapp-mymodel-title-1&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">my_model.title</span> <span class="cp">}}</span><span class="nt">&lt;/div&gt;&lt;/h1&gt;</span>
</pre></div>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">instance</span></tt>: instance of your model in the template</li>
<li><tt class="docutils literal"><span class="pre">attribute</span></tt>: the name of the attribute you want to show in the template; it
can be a context variable name; it&#8217;s possible to target field, property or
callable for the specified model; when used on a page object this argument
accepts the special <tt class="docutils literal"><span class="pre">titles</span></tt> value which will show the page <strong>title</strong>
field, while allowing editing <strong>title</strong>, <strong>menu title</strong> and <strong>page title</strong>
fields in the same form;</li>
<li><tt class="docutils literal"><span class="pre">edit_fields</span></tt> (optional): a comma separated list of fields editable in the
popup editor; when templatetag is used on a page object this argument
accepts the special <tt class="docutils literal"><span class="pre">changelist</span></tt> value which allows editing the pages
<strong>changelist</strong> (items list);</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional): the admin language tab to be linked. Useful only for
<a class="reference external" href="https://github.com/kristianoellegaard/django-hvad">django-hvad</a> enabled models.</li>
<li><tt class="docutils literal"><span class="pre">filters</span></tt> (optional): a string containing chained filters to apply to the
output content; works the same way as <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/templates/builtins.html#std:templatetag-filter" title="(in Django v1.9)"><tt class="docutils literal"><span class="pre">filter</span></tt></a> templatetag;</li>
<li><tt class="docutils literal"><span class="pre">view_url</span></tt> (optional): the name of a url that will be reversed using the
instance <tt class="docutils literal"><span class="pre">pk</span></tt> and the <tt class="docutils literal"><span class="pre">language</span></tt> as arguments;</li>
<li><tt class="docutils literal"><span class="pre">view_method</span></tt> (optional): a method name that will return a URL to a view;
the method must accept <tt class="docutils literal"><span class="pre">request</span></tt> as first parameter.</li>
<li><tt class="docutils literal"><span class="pre">varname</span></tt> (optional): the templatetag output can be saved as a context
variable for later use.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><tt class="docutils literal"><span class="pre">render_model</span></tt> is only partially compatible with django-hvad: using
it with hvad-translated fields
(say {% render_model object &#8216;translated_field&#8217; %} return error if the
hvad-enabled object does not exists in the current language.
As a workaround <tt class="docutils literal"><span class="pre">render_model_icon</span></tt> can be used instead.</p>
</div>
<div class="versionadded" id="std:templatetag-render_model_block">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</div>
<div class="section" id="render-model-block">
<h3>render_model_block<a class="headerlink" href="#render-model-block" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">render_model_block</span></tt> is the block-level equivalent of <tt class="docutils literal"><span class="pre">render_model</span></tt>:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">render_model_block</span> <span class="nv">my_model</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">instance.title</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;body&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">instance.date</span><span class="o">|</span><span class="nf">date</span><span class="s2">:&quot;d F Y&quot;</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">instance.text</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endrender_model_block</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>This will render to:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="c">&lt;!-- This whole block is the active area that triggers the frontend editor --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;cms_plugin cms_plugin-myapp-mymodel-1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">my_model.title</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;body&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">my_model.date</span><span class="o">|</span><span class="nf">date</span><span class="s2">:&quot;d F Y&quot;</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">my_model.text</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>In the block the <tt class="docutils literal"><span class="pre">my_model</span></tt> is aliased as <tt class="docutils literal"><span class="pre">instance</span></tt> and every attribute and
method is available; also templatetags and filters are available in the block.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">instance</span></tt>: instance of your model in the template</li>
<li><tt class="docutils literal"><span class="pre">edit_fields</span></tt> (optional): a comma separated list of fields editable in the
popup editor; when templatetag is used on a page object this argument
accepts the special <tt class="docutils literal"><span class="pre">changelist</span></tt> value which allows editing the pages
<strong>changelist</strong> (items list);</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional): the admin language tab to be linked. Useful only for
<a class="reference external" href="https://github.com/kristianoellegaard/django-hvad">django-hvad</a> enabled models.</li>
<li><tt class="docutils literal"><span class="pre">view_url</span></tt> (optional): the name of a url that will be reversed using the
instance <tt class="docutils literal"><span class="pre">pk</span></tt> and the <tt class="docutils literal"><span class="pre">language</span></tt> as arguments;</li>
<li><tt class="docutils literal"><span class="pre">view_method</span></tt> (optional): a method name that will return a URL to a view;
the method must accept <tt class="docutils literal"><span class="pre">request</span></tt> as first parameter.</li>
<li><tt class="docutils literal"><span class="pre">varname</span></tt> (optional): the templatetag output can be saved as a context
variable for later use.</li>
</ul>
<div class="versionadded" id="std:templatetag-render_model_icon">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</div>
<div class="section" id="render-model-icon">
<h3>render_model_icon<a class="headerlink" href="#render-model-icon" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">render_model_icon</span></tt> is intended for use where the relevant object attribute
is not available for user interaction (for example, already has a link on it,
think of a title in a list of items and the titles are linked to the object
detail view); when in edit mode, it renders an <strong>edit</strong> icon, which will trigger
the editing changeform for the provided fields.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;h3&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_model.get_absolute_url</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">my_model.title</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span> <span class="cp">{%</span> <span class="k">render_model_icon</span> <span class="nv">my_model</span> <span class="cp">%}</span><span class="nt">&lt;/h3&gt;</span>
</pre></div>
</div>
<p>It will render to something like:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;h3&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_model.get_absolute_url</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">my_model.title</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;cms_plugin cms_plugin-myapp-mymodel-1 cms_render_model_icon&quot;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- The image below is the active area that triggers the frontend editor --&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;/static/cms/img/toolbar/render_model_placeholder.png&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/h3&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Icon and position can be customized via CSS by setting a background
to the <tt class="docutils literal"><span class="pre">.cms_render_model_icon</span> <span class="pre">img</span></tt> selector.</p>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">instance</span></tt>: instance of your model in the template</li>
<li><tt class="docutils literal"><span class="pre">edit_fields</span></tt> (optional): a comma separated list of fields editable in the
popup editor; when templatetag is used on a page object this argument
accepts the special <tt class="docutils literal"><span class="pre">changelist</span></tt> value which allows editing the pages
<strong>changelist</strong> (items list);</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional): the admin language tab to be linked. Useful only for
<a class="reference external" href="https://github.com/kristianoellegaard/django-hvad">django-hvad</a> enabled models.</li>
<li><tt class="docutils literal"><span class="pre">view_url</span></tt> (optional): the name of a url that will be reversed using the
instance <tt class="docutils literal"><span class="pre">pk</span></tt> and the <tt class="docutils literal"><span class="pre">language</span></tt> as arguments;</li>
<li><tt class="docutils literal"><span class="pre">view_method</span></tt> (optional): a method name that will return a URL to a view;
the method must accept <tt class="docutils literal"><span class="pre">request</span></tt> as first parameter.</li>
<li><tt class="docutils literal"><span class="pre">varname</span></tt> (optional): the templatetag output can be saved as a context
variable for later use.</li>
</ul>
<div class="versionadded" id="std:templatetag-render_model_add">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</div>
<div class="section" id="render-model-add">
<h3>render_model_add<a class="headerlink" href="#render-model-add" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">render_model_add</span></tt> is similar to <tt class="docutils literal"><span class="pre">render_model_icon</span></tt> but it will enable to
create instances of the given instance class; when in edit mode, it renders an
<strong>add</strong> icon, which will trigger the editing addform for the provided model.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;h3&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_model.get_absolute_url</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">my_model.title</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span> <span class="cp">{%</span> <span class="k">render_model_add</span> <span class="nv">my_model</span> <span class="cp">%}</span><span class="nt">&lt;/h3&gt;</span>
</pre></div>
</div>
<p>It will render to something like:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;h3&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_model.get_absolute_url</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">my_model.title</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;cms_plugin cms_plugin-myapp-mymodel-1 cms_render_model_add&quot;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- The image below is the active area that triggers the frontend editor --&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;/static/cms/img/toolbar/render_model_placeholder.png&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/h3&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Icon and position can be customized via CSS by setting a background
to the <tt class="docutils literal"><span class="pre">.cms_render_model_add</span> <span class="pre">img</span></tt> selector.</p>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">instance</span></tt>: instance of your model, or model class to be added</li>
<li><tt class="docutils literal"><span class="pre">edit_fields</span></tt> (optional): a comma separated list of fields editable in the
popup editor;</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional): the admin language tab to be linked. Useful only for
<a class="reference external" href="https://github.com/kristianoellegaard/django-hvad">django-hvad</a> enabled models.</li>
<li><tt class="docutils literal"><span class="pre">view_url</span></tt> (optional): the name of a url that will be reversed using the
instance <tt class="docutils literal"><span class="pre">pk</span></tt> and the <tt class="docutils literal"><span class="pre">language</span></tt> as arguments;</li>
<li><tt class="docutils literal"><span class="pre">view_method</span></tt> (optional): a method name that will return a URL to a view;
the method must accept <tt class="docutils literal"><span class="pre">request</span></tt> as first parameter.</li>
<li><tt class="docutils literal"><span class="pre">varname</span></tt> (optional): the templatetag output can be saved as a context
variable for later use.</li>
</ul>
<p>..warning:</p>
<div class="highlight-html+django"><div class="highlight"><pre>If passing a class, instead of an instance, and using ``view_method``,
please bear in mind that the method will be called over an **empty instance**
of the class, so attributes are all empty, and the instance does not
exists on the database.
</pre></div>
</div>
<div class="versionadded" id="std:templatetag-render_model_add_block">
<p><span class="versionmodified">New in version 3.1.</span></p>
</div>
</div>
<div class="section" id="render-model-add-block">
<h3>render_model_add_block<a class="headerlink" href="#render-model-add-block" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">render_model_add_block</span></tt> is similar to <tt class="docutils literal"><span class="pre">render_model_add</span></tt> but instead of
emitting an icon that is linked to the add model form in a modal dialog, it
wraps arbitrary markup with the same &#8220;link&#8221;. This allows the developer to create
front-end editing experiences better suited to the project.</p>
<p>All arguments are identical to <tt class="docutils literal"><span class="pre">render_model_add</span></tt>, but the templatetag is used
in two parts to wrap the markup that should be wrapped.</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">render_model_add_block</span> <span class="nv">my_model_instance</span> <span class="cp">%}</span><span class="nt">&lt;div&gt;</span>New Object<span class="nt">&lt;/div&gt;</span><span class="cp">{%</span> <span class="k">endrender_model_add_block</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>It will render to something like:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;cms_plugin cms_plugin-myapp-mymodel-1 cms_render_model_add&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span>New Object<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You <strong>must</strong> pass an <em>instance</em> of your model as instance parameter. The
instance passed could be an existing models instance, or one newly created
in your view/plugin. It does not even have to be saved, it is introspected
by the templatetag to determine the desired model class.</p>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">instance</span></tt>: instance of your model in the template</li>
<li><tt class="docutils literal"><span class="pre">edit_fields</span></tt> (optional): a comma separated list of fields editable in the
popup editor;</li>
<li><tt class="docutils literal"><span class="pre">language</span></tt> (optional): the admin language tab to be linked. Useful only for
<a class="reference external" href="https://github.com/kristianoellegaard/django-hvad">django-hvad</a> enabled models.</li>
<li><tt class="docutils literal"><span class="pre">view_url</span></tt> (optional): the name of a url that will be reversed using the
instance <tt class="docutils literal"><span class="pre">pk</span></tt> and the <tt class="docutils literal"><span class="pre">language</span></tt> as arguments;</li>
<li><tt class="docutils literal"><span class="pre">view_method</span></tt> (optional): a method name that will return a URL to a view;
the method must accept <tt class="docutils literal"><span class="pre">request</span></tt> as first parameter.</li>
<li><tt class="docutils literal"><span class="pre">varname</span></tt> (optional): the templatetag output can be saved as a context
variable for later use.</li>
</ul>
</div>
<div class="section" id="page-language-url">
<span id="std:templatetag-page_language_url"></span><h3>page_language_url<a class="headerlink" href="#page-language-url" title="Permalink to this headline">¶</a></h3>
<p>Returns the url of the current page in an other language:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">page_language_url</span> <span class="nv">de</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">page_language_url</span> <span class="nv">fr</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">page_language_url</span> <span class="nv">en</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If the current url has no cms-page and is handled by a navigation extender and
the url changes based on the language, you will need to set a language_changer
function with the set_language_changer function in cms.utils.</p>
<p>For more information, see <a class="reference internal" href="../topics/i18n.html"><em>Internationalisation</em></a>.</p>
</div>
<div class="section" id="language-chooser">
<span id="std:templatetag-language_chooser"></span><h3>language_chooser<a class="headerlink" href="#language-chooser" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">language_chooser</span></tt> template tag will display a language chooser for the
current page. You can modify the template in <tt class="docutils literal"><span class="pre">menu/language_chooser.html</span></tt> or
provide your own template if necessary.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">language_chooser</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>or with custom template:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">language_chooser</span> <span class="s2">&quot;myapp/language_chooser.html&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>The language_chooser has three different modes in which it will display the
languages you can choose from: &#8220;raw&#8221; (default), &#8220;native&#8221;, &#8220;current&#8221; and &#8220;short&#8221;.
It can be passed as the last argument to the <tt class="docutils literal"><span class="pre">language_chooser</span> <span class="pre">tag</span></tt> as a string.
In &#8220;raw&#8221; mode, the language will be displayed like its verbose name in the
settings. In &#8220;native&#8221; mode the languages are displayed in their actual language
(eg. German will be displayed &#8220;Deutsch&#8221;, Japanese as &#8220;日本語&#8221; etc). In &#8220;current&#8221;
mode the languages are translated into the current language the user is seeing
the site in (eg. if the site is displayed in German, Japanese will be displayed
as &#8220;Japanisch&#8221;). &#8220;Short&#8221; mode takes the language code (eg. &#8220;en&#8221;) to display.</p>
<p>If the current url has no cms-page and is handled by a navigation extender and
the url changes based on the language, you will need to set a language_changer
function with the set_language_changer function in menus.utils.</p>
<p>For more information, see <a class="reference internal" href="../topics/i18n.html"><em>Internationalisation</em></a>.</p>
</div>
</div>
<div class="section" id="toolbar-templatetags">
<h2>Toolbar Templatetags<a class="headerlink" href="#toolbar-templatetags" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">cms_toolbar</span></tt> templatetag is included in the <tt class="docutils literal"><span class="pre">cms_tags</span></tt> library and will add the
required css and javascript to the sekizai blocks in the base template. The templatetag
has to be placed after the <tt class="docutils literal"><span class="pre">&lt;body&gt;</span></tt> tag and before any <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">cms_placeholder</span> <span class="pre">%}</span></tt> occurrences
within your HTML.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="nt">&lt;body&gt;</span>
<span class="cp">{%</span> <span class="k">cms_toolbar</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">placeholder</span> <span class="s2">&quot;home&quot;</span> <span class="cp">%}</span>
...
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Be aware that you can not surround the cms_toolbar tag with block tags.
The toolbar tag will render everything below it to collect all plugins and placeholders, before
it renders itself. Block tags interfere with this.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Template Tags</a><ul>
<li><a class="reference internal" href="#cms-templatetags">CMS templatetags</a><ul>
<li><a class="reference internal" href="#placeholder">placeholder</a></li>
<li><a class="reference internal" href="#static-placeholder">static_placeholder</a></li>
<li><a class="reference internal" href="#render-placeholder">render_placeholder</a></li>
<li><a class="reference internal" href="#render-uncached-placeholder">render_uncached_placeholder</a></li>
<li><a class="reference internal" href="#show-placeholder">show_placeholder</a></li>
<li><a class="reference internal" href="#show-uncached-placeholder">show_uncached_placeholder</a></li>
<li><a class="reference internal" href="#page-lookup">page_lookup</a></li>
<li><a class="reference internal" href="#page-url">page_url</a></li>
<li><a class="reference internal" href="#page-attribute">page_attribute</a></li>
<li><a class="reference internal" href="#render-plugin">render_plugin</a></li>
<li><a class="reference internal" href="#render-plugin-block">render_plugin_block</a></li>
<li><a class="reference internal" href="#render-model">render_model</a></li>
<li><a class="reference internal" href="#render-model-block">render_model_block</a></li>
<li><a class="reference internal" href="#render-model-icon">render_model_icon</a></li>
<li><a class="reference internal" href="#render-model-add">render_model_add</a></li>
<li><a class="reference internal" href="#render-model-add-block">render_model_add_block</a></li>
<li><a class="reference internal" href="#page-language-url">page_language_url</a></li>
<li><a class="reference internal" href="#language-chooser">language_chooser</a></li>
</ul>
</li>
<li><a class="reference internal" href="#toolbar-templatetags">Toolbar Templatetags</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="fields.html"
                        title="previous chapter">Form and model fields</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cli.html"
                        title="next chapter">Command Line Interface</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/reference/templatetags.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cli.html" title="Command Line Interface"
             >next</a> |</li>
        <li class="right" >
          <a href="fields.html" title="Form and model fields"
             >previous</a> |</li>
        <li><a href="../index.html">django cms 3.1.0.b1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Patrick Lauber.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
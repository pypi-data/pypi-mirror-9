<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Permissions &mdash; django cms 3.0.10 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0.10',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="django cms 3.0.10 documentation" href="../index.html" />
    <link rel="up" title="Key topics" href="index.html" />
    <link rel="next" title="Some commonly-used plugins" href="commonly_used_plugins.html" />
    <link rel="prev" title="Internationalisation" href="i18n.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="commonly_used_plugins.html" title="Some commonly-used plugins"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="i18n.html" title="Internationalisation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">django cms 3.0.10 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Key topics</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="permissions">
<h1>Permissions<a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h1>
<p>In django CMS you can set two types of permissions:</p>
<ol class="arabic simple">
<li>View restrictions for restricting front-end view access to users</li>
<li>Page permissions for allowing staff users to only have rights on certain sections of certain sites</li>
</ol>
<p>To enable these features, <tt class="docutils literal"><span class="pre">settings.py</span></tt> requires:</p>
<blockquote>
<div>CMS_PERMISSION = True</div></blockquote>
<div class="section" id="view-restrictions">
<h2>View restrictions<a class="headerlink" href="#view-restrictions" title="Permalink to this headline">¶</a></h2>
<p>View restrictions can be set-up from the <em>View restrictions</em> formset on any cms page.
Once a page has at least one view restriction installed, only users with granted access will be able to see that page.
Mind that this restriction is for viewing the page as an end-user (front-end view), not viewing the page in the admin interface!</p>
<p>View restrictions are also controlled by the <tt class="docutils literal"><span class="pre">CMS_PUBLIC_FOR</span></tt> setting. Possible values are <tt class="docutils literal"><span class="pre">all</span></tt> and <tt class="docutils literal"><span class="pre">staff</span></tt>.
This setting decides if pages without any view restrictions are:</p>
<ul class="simple">
<li>viewable by everyone &#8211; including anonymous users (<em>all</em>)</li>
<li>viewable by staff users only (<em>staff</em>)</li>
</ul>
</div>
<div class="section" id="page-permissions">
<h2>Page permissions<a class="headerlink" href="#page-permissions" title="Permalink to this headline">¶</a></h2>
<p>After setting <tt class="docutils literal"><span class="pre">CMS_PERMISSION</span> <span class="pre">=</span> <span class="pre">True</span></tt> you will have three new models in the admin index:</p>
<ol class="arabic simple">
<li>Users (page)</li>
<li>User groups (page)</li>
<li>Pages global permissions</li>
</ol>
<div class="section" id="users-page-user-groups-page">
<span id="users-page-permissions"></span><h3>Users (page) / User groups (page)<a class="headerlink" href="#users-page-user-groups-page" title="Permalink to this headline">¶</a></h3>
<p>Using <em>Users (page)</em> you can easily add users with permissions over CMS pages.</p>
<p>You would be able to create a user with the same set of permissions using the usual <em>Auth.User</em> model, but using <em>Users (page)</em> is more convenient.</p>
<p>A new user created using <em>Users (page)</em> with given page add/edit/delete rights will not be able to make any changes to pages straight away.
The user must first be assigned to a set of pages over which he may exercise these rights.
This is done using the <a class="reference internal" href="#id1"><em>Page permissions</em></a>. formset on any page or by using <a class="reference internal" href="#pages-global-permissions"><em>Pages global permissions</em></a>.</p>
<p><em>User groups (page)</em> manages the same feature on the group level.</p>
</div>
<div class="section" id="id1">
<span id="id2"></span><h3>Page permissions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The <em>Page permission</em> formset has multiple checkboxes defining different permissions: can edit, can add, can delete, can change advanced settings, can publish, can move and can change permission.
These define what kind of actions the user/group can do on the pages on which the permissions are being granted through the <em>Grant on</em> drop-down.</p>
<p><em>Can change permission</em> refers to whether the user can change the permissions of his subordinate users. Bob is the subordinate of Alice if one of:</p>
<ul class="simple">
<li>Bob was created by Alice</li>
<li>Bob has at least one page permission set on one of the pages on which Alice has the <em>Can change permissions</em> right</li>
</ul>
<p><strong>Note:</strong> Mind that even though a new user has permissions to change a page, that doesn&#8217;t give him permissions to add a plugin within that page.
In order to be able to add/change/delete plugins on any page, you will need to go through the usual <em>Auth.User</em> model and give the new user permissions to each plugin you want him to have access to.
Example: if you want the new user to be able to use the text plugin, you will need to give him the following rights: <tt class="docutils literal"><span class="pre">text</span> <span class="pre">|</span> <span class="pre">text</span> <span class="pre">|</span> <span class="pre">Can</span> <span class="pre">add</span> <span class="pre">text</span></tt>, <tt class="docutils literal"><span class="pre">text</span> <span class="pre">|</span> <span class="pre">text</span> <span class="pre">|</span> <span class="pre">Can</span> <span class="pre">change</span> <span class="pre">text</span></tt>, <tt class="docutils literal"><span class="pre">text</span> <span class="pre">|</span> <span class="pre">text</span> <span class="pre">|</span> <span class="pre">Can</span> <span class="pre">delete</span> <span class="pre">text</span></tt>.</p>
</div>
<div class="section" id="pages-global-permissions">
<span id="id3"></span><h3>Pages global permissions<a class="headerlink" href="#pages-global-permissions" title="Permalink to this headline">¶</a></h3>
<p>Using the <em>Pages global permissions</em> model you can give a set of permissions to all pages in a set of sites.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You always <strong>must</strong> set the sites managed py the global permissions, even if you only have one site.</p>
</div>
</div>
<div class="section" id="file-permissions">
<h3>File Permissions<a class="headerlink" href="#file-permissions" title="Permalink to this headline">¶</a></h3>
<p>django CMS does not take care of and no responsibility for controlling access to files. Please make sure to use either
a prebuilt solution (like <a class="reference external" href="https://github.com/stefanfoulis/django-filer">django-filer</a>) or to roll your own.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Permissions</a><ul>
<li><a class="reference internal" href="#view-restrictions">View restrictions</a></li>
<li><a class="reference internal" href="#page-permissions">Page permissions</a><ul>
<li><a class="reference internal" href="#users-page-user-groups-page">Users (page) / User groups (page)</a></li>
<li><a class="reference internal" href="#id1">Page permissions</a></li>
<li><a class="reference internal" href="#pages-global-permissions">Pages global permissions</a></li>
<li><a class="reference internal" href="#file-permissions">File Permissions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="i18n.html"
                        title="previous chapter">Internationalisation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="commonly_used_plugins.html"
                        title="next chapter">Some commonly-used plugins</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/topics/permissions.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="commonly_used_plugins.html" title="Some commonly-used plugins"
             >next</a> |</li>
        <li class="right" >
          <a href="i18n.html" title="Internationalisation"
             >previous</a> |</li>
        <li><a href="../index.html">django cms 3.0.10 documentation</a> &raquo;</li>
          <li><a href="index.html" >Key topics</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Patrick Lauber.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
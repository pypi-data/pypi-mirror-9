<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.2 release notes &mdash; django cms 3.0.12 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0.12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="django cms 3.0.12 documentation" href="../index.html" />
    <link rel="up" title="Release notes &amp; upgrade information" href="index.html" />
    <link rel="next" title="Upgrading from 2.1.x and Django 1.2.x" href="2.1.html" />
    <link rel="prev" title="2.3 release notes" href="2.3.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="2.1.html" title="Upgrading from 2.1.x and Django 1.2.x"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="2.3.html" title="2.3 release notes"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">django cms 3.0.12 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Release notes &amp; upgrade information</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="release-notes">
<h1>2.2 release notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-s-new-in-2-2">
<h2>What&#8217;s new in 2.2<a class="headerlink" href="#what-s-new-in-2-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="django-mptt-now-a-proper-dependency">
<h3><tt class="docutils literal"><span class="pre">django-mptt</span></tt> now a proper dependency<a class="headerlink" href="#django-mptt-now-a-proper-dependency" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/django-mptt/django-mptt/">django-mptt</a> is now used as a
proper dependency and is no longer shipped with the django CMS. This solves the
version conflict issues many people were experiencing when trying to use the django CMS
together with other Django apps that require django-mptt. django CMS 2.2
requires django-mptt 0.5.1.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please remove the old <tt class="docutils literal"><span class="pre">mptt</span></tt> package from your Python site-packages
directory before upgrading. The <tt class="docutils literal"><span class="pre">setup.py</span></tt> file will install the
<a class="reference external" href="https://github.com/django-mptt/django-mptt/">django-mptt</a> package as an external dependency!</p>
</div>
</div>
<div class="section" id="django-1-3-support">
<h3>Django 1.3 support<a class="headerlink" href="#django-1-3-support" title="Permalink to this headline">¶</a></h3>
<p>The django CMS 2.2 supports both Django 1.2.5 and Django 1.3.</p>
</div>
<div class="section" id="view-permissions">
<h3>View permissions<a class="headerlink" href="#view-permissions" title="Permalink to this headline">¶</a></h3>
<p>You can now give view permissions for django CMS pages to groups and users.</p>
</div>
</div>
<div class="section" id="backwards-incompatible-changes">
<span id="id1"></span><h2>Backwards incompatible changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="django-sekizai-instead-of-pluginmedia">
<h3><tt class="docutils literal"><span class="pre">django-sekizai</span></tt> instead of PluginMedia<a class="headerlink" href="#django-sekizai-instead-of-pluginmedia" title="Permalink to this headline">¶</a></h3>
<p>Due to the sorry state of the old plugin media framework, it has been dropped in
favor of the more stable and more flexible django-sekizai, which is a new
dependency for the django CMS 2.2.</p>
<p>The following methods and properties of <tt class="xref py py-class docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase</span></tt>
are affected:</p>
<ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase.PluginMedia</span></tt></li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase.pluginmedia</span></tt></li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase.get_plugin_media()</span></tt></li>
</ul>
<p>Accessing those attributes or methods will raise a
<tt class="xref py py-exc docutils literal"><span class="pre">cms.exceptions.Deprecated</span></tt> error.</p>
<p>The <tt class="xref py py-class docutils literal"><span class="pre">cms.middleware.media.PlaceholderMediaMiddleware</span></tt> middleware was also
removed in this process and is therefore no longer required. However you are now
required to have the <tt class="docutils literal"><span class="pre">'sekizai.context_processors.sekizai'</span></tt> context processor
in your <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-TEMPLATE_CONTEXT_PROCESSORS" title="(in Django v1.9)"><tt class="docutils literal"><span class="pre">TEMPLATE_CONTEXT_PROCESSORS</span></tt></a> setting.</p>
<p>All templates in <a class="reference internal" href="../reference/configuration.html#std:setting-CMS_TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">CMS_TEMPLATES</span></tt></a> must at least contain the <tt class="docutils literal"><span class="pre">js</span></tt> and
<tt class="docutils literal"><span class="pre">css</span></tt> sekizai namespaces.</p>
<p>Please refer to the documentation on <a class="reference internal" href="../how_to/custom_plugins.html#custom-plugins-handling-media"><em>Handling media</em></a> in
custom CMS plugins and the
<a class="reference external" href="http://django-sekizai.readthedocs.org/">django-sekizai documentation</a> for
more information.</p>
</div>
<div class="section" id="toolbar-must-be-enabled-explicitly-in-templates">
<h3>Toolbar must be enabled explicitly in templates<a class="headerlink" href="#toolbar-must-be-enabled-explicitly-in-templates" title="Permalink to this headline">¶</a></h3>
<p>The toolbar no longer hacks itself into responses in the middleware, but rather
has to be enabled explicitly using the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">cms_toolbar</span> <span class="pre">%}</span></tt> template tag from
the <tt class="docutils literal"><span class="pre">cms_tags</span></tt> template tag library in your templates. The template tag
should be placed somewhere within the body of the HTML (within <tt class="docutils literal"><span class="pre">&lt;body&gt;...&lt;/body&gt;</span></tt>).</p>
<p>This solves issues people were having with the toolbar showing up in places it
shouldn&#8217;t have.</p>
</div>
<div class="section" id="static-files-moved-to-static">
<h3>Static files moved to /static/<a class="headerlink" href="#static-files-moved-to-static" title="Permalink to this headline">¶</a></h3>
<p>The static files (css/javascript/images) were moved from <tt class="docutils literal"><span class="pre">/media/</span></tt> to
<tt class="docutils literal"><span class="pre">/static/</span></tt> to work with the new <tt class="docutils literal"><span class="pre">django.contrib.staticfiles</span></tt> app in Django
1.3. This means you will have to make sure you serve static files as well as
media files on your server.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you use Django 1.2.x you will not have a <tt class="docutils literal"><span class="pre">django.contrib.staticfiles</span></tt>
app. Instead you need the <a class="reference external" href="http://pypi.python.org/pypi/django-staticfiles/">django-staticfiles</a> backport.</p>
</div>
</div>
</div>
<div class="section" id="features-deprecated-in-2-2">
<h2>Features deprecated in 2.2<a class="headerlink" href="#features-deprecated-in-2-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="django-dbgettext-support">
<h3><tt class="docutils literal"><span class="pre">django-dbgettext</span></tt> support<a class="headerlink" href="#django-dbgettext-support" title="Permalink to this headline">¶</a></h3>
<p>The django-dbgettext support has been fully dropped in 2.2 in favor of the
built-in mechanisms to achieve multilinguality.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2.2 release notes</a><ul>
<li><a class="reference internal" href="#what-s-new-in-2-2">What&#8217;s new in 2.2</a><ul>
<li><a class="reference internal" href="#django-mptt-now-a-proper-dependency"><tt class="docutils literal"><span class="pre">django-mptt</span></tt> now a proper dependency</a></li>
<li><a class="reference internal" href="#django-1-3-support">Django 1.3 support</a></li>
<li><a class="reference internal" href="#view-permissions">View permissions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-incompatible-changes">Backwards incompatible changes</a><ul>
<li><a class="reference internal" href="#django-sekizai-instead-of-pluginmedia"><tt class="docutils literal"><span class="pre">django-sekizai</span></tt> instead of PluginMedia</a></li>
<li><a class="reference internal" href="#toolbar-must-be-enabled-explicitly-in-templates">Toolbar must be enabled explicitly in templates</a></li>
<li><a class="reference internal" href="#static-files-moved-to-static">Static files moved to /static/</a></li>
</ul>
</li>
<li><a class="reference internal" href="#features-deprecated-in-2-2">Features deprecated in 2.2</a><ul>
<li><a class="reference internal" href="#django-dbgettext-support"><tt class="docutils literal"><span class="pre">django-dbgettext</span></tt> support</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="2.3.html"
                        title="previous chapter">2.3 release notes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="2.1.html"
                        title="next chapter">Upgrading from 2.1.x and Django 1.2.x</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/upgrade/2.2.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="2.1.html" title="Upgrading from 2.1.x and Django 1.2.x"
             >next</a> |</li>
        <li class="right" >
          <a href="2.3.html" title="2.3 release notes"
             >previous</a> |</li>
        <li><a href="../index.html">django cms 3.0.12 documentation</a> &raquo;</li>
          <li><a href="index.html" >Release notes &amp; upgrade information</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Patrick Lauber.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
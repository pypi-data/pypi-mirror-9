

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started with Aglyph &mdash; Aglyph 2.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Aglyph 2.1.0 documentation" href="index.html"/>
        <link rel="next" title="Aglyph cookbook" href="cookbook.html"/>
        <link rel="prev" title="What’s new in release 2.1.0?" href="whats-new.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> Aglyph</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What&#8217;s new in release 2.1.0?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="whats-new.html#previous-releases-of-aglyph">Previous releases of Aglyph</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Getting started with Aglyph</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#download-and-install-aglyph">1. Download and install Aglyph</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download-extract-and-run-the-movielisterapp-application">2. Download, extract, and run the <em>movielisterapp</em> application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-very-brief-introduction-to-dependency-injection">3. A <em>(very)</em> brief introduction to Dependency Injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#make-some-general-improvements-to-the-movielisterapp-application">4. Make some general improvements to the <em>movielisterapp</em> application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-dependency-injection-support-to-the-movielisterapp-application">5. Add Dependency Injection support to the <em>movielisterapp</em> application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#make-changes-to-the-movielisterapp-application">6. Make changes to the <em>movielisterapp</em> application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#suggested-next-steps">Suggested next steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Aglyph cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cookbook-understanding.html">Understand the general features of Aglyph</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook-configuration.html">Choose a configuration approach for Aglyph</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook-common.html">Common usage scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook-templating.html">Component inheritance using templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook-notable.html">Other notable usage scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook-integration.html">Integrating Aglyph</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-ref.html">Aglyph API reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aglyph.html"><tt class="docutils literal"><span class="pre">aglyph</span></tt> &#8212; Dependency Injection for Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.assembler.html"><tt class="docutils literal"><span class="pre">aglyph.assembler</span></tt> &#8212; The Aglyph component assembler</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.binder.html"><tt class="docutils literal"><span class="pre">aglyph.binder</span></tt> &#8212; The Aglyph component binder</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.cache.html"><tt class="docutils literal"><span class="pre">aglyph.cache</span></tt> &#8212; Simple object caching support for Aglyph</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.compat.html"><tt class="docutils literal"><span class="pre">aglyph.compat</span></tt> &#8212; Python version/variant compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.compat.ipyetree.html"><tt class="docutils literal"><span class="pre">aglyph.compat.ipyetree</span></tt> &#8212; an <em>ElementTree</em> parser for <em>IronPython</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.component.html"><tt class="docutils literal"><span class="pre">aglyph.component</span></tt> &#8212; Defining components and their dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.context.html"><tt class="docutils literal"><span class="pre">aglyph.context</span></tt> &#8212; Defining component contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.integration.cherrypy.html"><tt class="docutils literal"><span class="pre">aglyph.integration.cherrypy</span></tt> &#8212; Integrating Aglyph with CherryPy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Aglyph 2.1.0 testing summary</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing.html#id1">CPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html#id2">PyPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html#id3">Stackless Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html#id4">IronPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html#id5">Jython</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html#previous-releases-of-aglyph">Previous releases of Aglyph</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap for future releases</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Aglyph</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Getting started with Aglyph</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/get-started.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="getting-started-with-aglyph">
<h1>Getting started with Aglyph<a class="headerlink" href="#getting-started-with-aglyph" title="Permalink to this headline">¶</a></h1>
<p>During this brief tutorial, you will download and install Aglyph, build a
simple Python application based on the <em>MovieLister</em> component discussed in
<a class="reference external" href="http://martinfowler.com/articles/injection.html">Inversion of Control Containers and the Dependency Injection pattern</a>, then modify the
application to take advantage of Aglyph dependency injection. This process will
allow you understand the Dependency Injection pattern in general, as well as
the Aglyph approach to Dependency Injection.</p>
<p>This tutorial is a &#8220;whirlwind tour&#8221; of Aglyph that covers only the basics. Once
you have completed the steps, read the <a class="reference internal" href="cookbook.html"><em>Aglyph cookbook</em></a> for additional
guidelines and examples. Also review the <a class="reference internal" href="api-ref.html"><em>Aglyph API reference</em></a> and the
<a class="reference download internal" href="_downloads/aglyph-context.dtd"><tt class="xref download docutils literal"><span class="pre">Aglyph</span> <span class="pre">context</span> <span class="pre">DTD</span></tt></a> to
understand the details.</p>
<p>The tutorial assumes that you are familiar with Python development in general,
and that Python 2.7+ is already installed on your system:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.python.org/download/">Download Python</a></li>
<li>Browse <a class="reference external" href="http://diveintopython.net/">Dive Into Python 2</a> and/or
<a class="reference external" href="http://docs.python.org/2/tutorial/index.html">The Python 2 Tutorial</a></li>
<li>Browse <a class="reference external" href="http://diveintopython3.net/">Dive Into Python 3</a> and/or
<a class="reference external" href="http://docs.python.org/3/tutorial/index.html">The Python 3 Tutorial</a></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended, but not required, that you read the <a class="reference external" href="http://martinfowler.com/articles/injection.html">Inversion of
Control Containers and the Dependency Injection pattern</a> and <a class="reference external" href="http://www.aleax.it/yt_pydi.pdf">Python Dependency
Injection [PDF]</a> articles before
beginning this tutorial.</p>
</div>
<div class="section" id="download-and-install-aglyph">
<span id="download-and-install"></span><h2>1. Download and install Aglyph<a class="headerlink" href="#download-and-install-aglyph" title="Permalink to this headline">¶</a></h2>
<p>There are several options for downloading and installing Aglyph. Choose the
method that best suits your needs or preferences.</p>
<div class="section" id="download-and-install-a-source-or-built-distribution-from-sourcesource">
<h3>Download and install a source or built distribution from SourceSource<a class="headerlink" href="#download-and-install-a-source-or-built-distribution-from-sourcesource" title="Permalink to this headline">¶</a></h3>
<p>If you use Windows, a source ZIP distribution and EXE and MSI installers are
available from the <a class="reference external" href="http://sourceforge.net/projects/aglyph/files/aglyph/">Aglyph SourceForge project</a>.</p>
<p>Run the EXE or MSI installer after downloading, or unpack the ZIP distribution
and run the following command from within the distribution directory:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="download-and-install-a-source-distribution-from-pypi">
<h3>Download and install a source distribution from PyPI<a class="headerlink" href="#download-and-install-a-source-distribution-from-pypi" title="Permalink to this headline">¶</a></h3>
<p>The Aglyph source distribution can be downloaded from the
<a class="reference external" href="https://pypi.python.org/pypi/Aglyph">Aglyph Python Package Index page</a>.</p>
<p>Unpack the archive and run the following command from with the distribution
directory:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="clone-the-aglyph-mercurial-repository-from-bitbucket">
<h3>Clone the Aglyph Mercurial repository from BitBucket<a class="headerlink" href="#clone-the-aglyph-mercurial-repository-from-bitbucket" title="Permalink to this headline">¶</a></h3>
<p>To install from a clone of the <a class="reference external" href="https://bitbucket.org/mzipay/aglyph">Aglyph Mercurial repository from BitBucket</a>, execute the following commands from a
shell:</p>
<div class="highlight-python"><div class="highlight"><pre>hg clone https://bitbucket.org/mzipay/aglyph
cd aglyph
hg pull &amp;&amp; hg update release-2.1.0
python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="install-into-a-virtual-environment">
<h3>Install into a virtual environment<a class="headerlink" href="#install-into-a-virtual-environment" title="Permalink to this headline">¶</a></h3>
<p>You can also create a <a class="reference external" href="http://www.virtualenv.org/">virtualenv</a> (details not
covered here) and install Aglyph into it by running the following commands from
a shell (assumes the virtual environment is active):</p>
<div class="highlight-python"><div class="highlight"><pre>pip install Aglyph
</pre></div>
</div>
<p>Regardless of installation method, verify that the installation was successful
by importing the <a class="reference internal" href="aglyph.html#module-aglyph" title="aglyph"><tt class="xref py py-mod docutils literal"><span class="pre">aglyph</span></tt></a> module from a Python interpreter. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python
Python 3.4.2 (default, Nov 12 2014, 18:23:59)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.54)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import aglyph
&gt;&gt;&gt; aglyph.__version__
&#39;2.1.0&#39;
</pre></div>
</div>
</div>
</div>
<div class="section" id="download-extract-and-run-the-movielisterapp-application">
<h2>2. Download, extract, and run the <em>movielisterapp</em> application<a class="headerlink" href="#download-extract-and-run-the-movielisterapp-application" title="Permalink to this headline">¶</a></h2>
<p>The sample code for this tutorial can be downloaded
<a class="reference download internal" href="_downloads/movielisterapp-basic.zip"><tt class="xref download docutils literal"><span class="pre">here</span> <span class="pre">(movielisterapp-basic.zip)</span></tt></a>. If you don&#8217;t feel like typing
everything out by hand and would prefer to just &#8220;follow along,&#8221; you can also
download <a class="reference download internal" href="_downloads/movielisterapp-aglyph.zip"><tt class="xref download docutils literal"><span class="pre">movielisterapp-aglyph.zip</span></tt></a>, which contains the completed
tutorial source code (including the already-populated SQLite database).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Both ZIP files are also available under the <em>examples/</em> directory if you
cloned the <a class="reference external" href="https://bitbucket.org/mzipay/aglyph">Aglyph Mercurial repository from BitBucket</a>).</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Jython users will not be able to run the tutorial code because the standard
Python <a class="reference external" href="http://docs.python.org/3/library/sqlite3.html#module-sqlite3" title="(in Python v3.4)"><tt class="xref py py-mod docutils literal"><span class="pre">sqlite3</span></tt></a> module (which Jython does not support) is used by the
example code.</p>
</div>
<p>To begin the tutorial, extract the ZIP archive to a temporary location and
navigate into the application directory:</p>
<div class="highlight-python"><div class="highlight"><pre>$ unzip movielisterapp-basic.zip
...
$ cd movielisterapp-basic
</pre></div>
</div>
<p>The <em>movies.txt</em> file is a simple colon-delimited text file that contains a
number of <em>title:director</em> records, one per line:</p>
<div class="highlight-python"><div class="highlight"><pre>The Colossus of Rhodes:Sergio Leone
Once Upon a Time in the West:Sergio Leone
THX 1138:George Lucas
American Graffiti:George Lucas
Once Upon a Time in America:Sergio Leone
Sixteen Candles:John Hughes
The Breakfast Club:John Hughes
Weird Science:John Hughes
Ferris Bueller&#39;s Day Off:John Hughes
</pre></div>
</div>
<p>This data file is read by a particular implementation of the <tt class="docutils literal"><span class="pre">MovieFinder</span></tt>
class (<tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt>), both of which can be found in the
<em>movies/finder.py</em> module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">movies.movie</span> <span class="kn">import</span> <span class="n">Movie</span>


<span class="k">class</span> <span class="nc">MovieFinder</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">ColonDelimitedMovieFinder</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="n">movies</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">)</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)</span>
            <span class="n">movies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Movie</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">))</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_movies</span> <span class="o">=</span> <span class="n">movies</span>

    <span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_movies</span>
</pre></div>
</div>
<p>As you can see, each record is processed as a simple <tt class="docutils literal"><span class="pre">Movie</span></tt> data holder
object. The <em>movies/movie.py</em> module holds the <tt class="docutils literal"><span class="pre">Movie</span></tt> class definition:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Movie</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">director</span> <span class="o">=</span> <span class="n">director</span>
</pre></div>
</div>
<p>Finally, we have a <tt class="docutils literal"><span class="pre">MovieLister</span></tt> class (defined in the <em>movies/lister.py</em>
module), which uses a <tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt> to find the movies directed
by a particular director:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">movies.finder</span> <span class="kn">import</span> <span class="n">ColonDelimitedMovieFinder</span>


<span class="k">class</span> <span class="nc">MovieLister</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finder</span> <span class="o">=</span> <span class="n">ColonDelimitedMovieFinder</span><span class="p">(</span><span class="s">&quot;movies.txt&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">movies_directed_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">director</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finder</span><span class="o">.</span><span class="n">find_all</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">director</span> <span class="o">==</span> <span class="n">director</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">movie</span>
</pre></div>
</div>
<p>The application can be executed using the <em>app.py</em> script, which simply asks
a <tt class="docutils literal"><span class="pre">MovieLister</span></tt> for all movies directed by Sergio Leone:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python app.py
The Colossus of Rhodes
Once Upon a Time in the West
Once Upon a Time in America
</pre></div>
</div>
</div>
<div class="section" id="a-very-brief-introduction-to-dependency-injection">
<span id="intro-to-di"></span><h2>3. A <em>(very)</em> brief introduction to Dependency Injection<a class="headerlink" href="#a-very-brief-introduction-to-dependency-injection" title="Permalink to this headline">¶</a></h2>
<p>Examine the <tt class="docutils literal"><span class="pre">MovieLister</span></tt> class (in the <em>movies/lister.py</em> module) again.
There are three things to note:</p>
<ol class="arabic simple">
<li>The <tt class="docutils literal"><span class="pre">MovieLister</span></tt> class depends on a concrete implementation of
<tt class="docutils literal"><span class="pre">MovieFinder</span></tt>.</li>
<li>The <tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt> class depends on a filename.</li>
<li>The <tt class="docutils literal"><span class="pre">MovieLister</span></tt> is responsible for resolving <em>both</em> dependencies.</li>
</ol>
<p>As a consequence of (3), neither the concrete <tt class="docutils literal"><span class="pre">MovieFinder</span></tt> implementation
nor the name/location of the data file can be changed without modifying
<tt class="docutils literal"><span class="pre">MovieLister</span></tt>.</p>
<p>In other words, it is <tt class="docutils literal"><span class="pre">MovieLister</span></tt> that controls dependency
resolution. It is this aspect of control that is being inverted (&#8220;Inversion of
Control&#8221;) when we talk about <strong>Dependency Injection</strong>. Rather than having
<tt class="docutils literal"><span class="pre">MovieLister</span></tt> be responsible for <em>resolving</em> its dependencies, we instead
give control to some other object (an &#8220;assembler&#8221;), which has the
responsibility of <em>injecting</em> dependencies into <tt class="docutils literal"><span class="pre">MovieLister</span></tt>.</p>
<p>The dependency injection approach provides several benefits:</p>
<ul class="simple">
<li>easier testing (&#8220;mock&#8221; or &#8220;stub&#8221; objects for testing are easier to manage)</li>
<li>lower general maintenance cost (e.g. the manner in which application/domain
objects get initialized and connected to one another is &#8220;homogenized&#8221; in the
assembler&#8217;s configuration, which makes application-wide changes easier to
apply and test)</li>
<li>the separation of object <em>configuration</em> from object <em>use</em> means generally
smaller and simpler application code that is focused on object behavior</li>
</ul>
<p>Aglyph can inject dependencies using initializers &#8211; <tt class="docutils literal"><span class="pre">__init__</span></tt> methods &#8211; or
&#8220;factory&#8221; functions (type 2 &#8220;constructor&#8221; injection); or member variables,
setter methods, and properties (type 3 &#8220;setter&#8221; injection).</p>
<p>In order to take advantage of type 2 &#8220;constructor&#8221; injection, the <tt class="docutils literal"><span class="pre">__init__</span></tt>
method or &#8220;factory&#8221; function must <em>accept</em> dependencies, which means we need
to make some simple changes to <em>movielisterapp</em>...</p>
</div>
<div class="section" id="make-some-general-improvements-to-the-movielisterapp-application">
<span id="app-changes-to-support-di"></span><h2>4. Make some general improvements to the <em>movielisterapp</em> application<a class="headerlink" href="#make-some-general-improvements-to-the-movielisterapp-application" title="Permalink to this headline">¶</a></h2>
<p>As written, the basic application is somewhat change-resistant. For example, if
we wish to support another implementation of <tt class="docutils literal"><span class="pre">MovieFinder</span></tt> (e.g. one that
connects to a database to retrieve movie information), then we would also need
to change the <tt class="docutils literal"><span class="pre">MovieLister</span></tt> implementation.</p>
<p>A simple solution to this problem is to change <tt class="docutils literal"><span class="pre">MovieLister</span></tt> so that it can
<em>accept</em> a <tt class="docutils literal"><span class="pre">MovieFinder</span></tt> at initialization time:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MovieLister</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">finder</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finder</span> <span class="o">=</span> <span class="n">finder</span>

    <span class="k">def</span> <span class="nf">movies_directed_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">director</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finder</span><span class="o">.</span><span class="n">find_all</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">director</span> <span class="o">==</span> <span class="n">director</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">movie</span>
</pre></div>
</div>
<p>Next, we&#8217;ll add a <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt> class definition to the
<em>movies/finder.py</em> module. This new implementation will use the standard
Python <a class="reference external" href="http://docs.python.org/3/library/sqlite3.html#module-sqlite3" title="(in Python v3.4)"><tt class="xref py py-mod docutils literal"><span class="pre">sqlite3</span></tt></a> module to connect to a SQLite database which stores the
movies information:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="kn">from</span> <span class="nn">movies.movie</span> <span class="kn">import</span> <span class="n">Movie</span>


<span class="k">class</span> <span class="nc">MovieFinder</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">ColonDelimitedMovieFinder</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="n">movies</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">)</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)</span>
            <span class="n">movies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Movie</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">))</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_movies</span> <span class="o">=</span> <span class="n">movies</span>

    <span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_movies</span>


<span class="k">class</span> <span class="nc">SQLMovieFinder</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dbname</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_db</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">dbname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">movies</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;select title, director from Movies&quot;</span><span class="p">):</span>
                <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">)</span> <span class="o">=</span> <span class="n">row</span>
                <span class="n">movies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Movie</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">))</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">movies</span>

    <span class="k">def</span> <span class="nf">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">SQLVMovieFinder</span></tt> expects a database name (a filename, or <em>&#8221;:memory:&#8221;</em>
for an in-memory database). We&#8217;ll create a <em>movies.db</em> file so that it contains
the same records as the original <em>movies.txt</em> file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;movies.db&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;create table Movies (title text, director text)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">movie_fields</span> <span class="ow">in</span> <span class="p">[(</span><span class="s">&quot;The Colossus of Rhodes&quot;</span><span class="p">,</span> <span class="s">&quot;Sergio Leone&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;Once Upon a Time in the West&quot;</span><span class="p">,</span> <span class="s">&quot;Sergio Leone&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;THX 1138&quot;</span><span class="p">,</span> <span class="s">&quot;George Lucas&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;American Graffiti&quot;</span><span class="p">,</span> <span class="s">&quot;George Lucas&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;Once Upon a Time in America&quot;</span><span class="p">,</span> <span class="s">&quot;Sergio Leone&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;Sixteen Candles&quot;</span><span class="p">,</span> <span class="s">&quot;John Hughes&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;The Breakfast Club&quot;</span><span class="p">,</span> <span class="s">&quot;John Hughes&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;Weird Science&quot;</span><span class="p">,</span> <span class="s">&quot;John Hughes&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">(</span><span class="s">&quot;Ferris Bueller&#39;s Day Off&quot;</span><span class="p">,</span> <span class="s">&quot;John Hughes&quot;</span><span class="p">)]:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;insert into Movies values (?, ?)&quot;</span><span class="p">,</span> <span class="n">movie_fields</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Finally, we&#8217;ll change <em>app.py</em> so that the new <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt> is used to
initialize a <tt class="docutils literal"><span class="pre">MovieLister</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">movies.finder</span> <span class="kn">import</span> <span class="n">SQLMovieFinder</span>
<span class="kn">from</span> <span class="nn">movies.lister</span> <span class="kn">import</span> <span class="n">MovieLister</span>

<span class="n">lister</span> <span class="o">=</span> <span class="n">MovieLister</span><span class="p">(</span><span class="n">SQLMovieFinder</span><span class="p">(</span><span class="s">&quot;movies.db&quot;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="n">lister</span><span class="o">.</span><span class="n">movies_directed_by</span><span class="p">(</span><span class="s">&quot;Sergio Leone&quot;</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">movie</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>Running the application again should give us the same results:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python app.py
The Colossus of Rhodes
Once Upon a Time in the West
Once Upon a Time in America
</pre></div>
</div>
<p>The basic application is now more flexible: we can change the <tt class="docutils literal"><span class="pre">MovieFinder</span></tt>
implementation without having to modify the <tt class="docutils literal"><span class="pre">MovieLister</span></tt> class definition.
However, we are still required to modify <em>app.py</em> if we decide to change the
<tt class="docutils literal"><span class="pre">MovieFinder</span></tt> implementation!</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>An important aspect of Aglyph is that it is <strong>non-intrusive</strong>, meaning that
it requires only minimal changes to your existing application code in order
to provide dependency injection capabilities.</p>
<p class="last">Notice that the changes made in this section, while adding flexibility to
the application, did not require the use of Aglyph. In fact, as we add
Aglyph dependency injection support in the next two sections, <strong>no further
changes</strong> to the <em>movies/lister.py</em>, <em>movies/finder.py</em>, and
<em>movies/movie.py</em> modules need to be made.</p>
</div>
</div>
<div class="section" id="add-dependency-injection-support-to-the-movielisterapp-application">
<h2>5. Add Dependency Injection support to the <em>movielisterapp</em> application<a class="headerlink" href="#add-dependency-injection-support-to-the-movielisterapp-application" title="Permalink to this headline">¶</a></h2>
<p>Recall that Dependency Injection gives reponsibility for injecting dependencies
to an an external object (called an &#8220;assembler&#8221;). In Aglyph, this &#8220;assembler&#8221;
is an instance of the <a class="reference internal" href="aglyph.assembler.html#aglyph.assembler.Assembler" title="aglyph.assembler.Assembler"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.assembler.Assembler</span></tt></a> class.</p>
<p>An <a class="reference internal" href="aglyph.assembler.html#aglyph.assembler.Assembler" title="aglyph.assembler.Assembler"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.assembler.Assembler</span></tt></a> requires a &#8220;context,&#8221; which is a
collection of component definitions. A <em>component</em>
(<a class="reference internal" href="aglyph.component.html#aglyph.component.Component" title="aglyph.component.Component"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.component.Component</span></tt></a>) is simply a description of some object,
including how it is created/acquired and its dependencies. Any component can
itself be a dependency of any other component(s).</p>
<p>In Aglyph, a context is defined by the <a class="reference internal" href="aglyph.context.html#aglyph.context.Context" title="aglyph.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.context.Context</span></tt></a> class. A
specialized subclass, <a class="reference internal" href="aglyph.context.html#aglyph.context.XMLContext" title="aglyph.context.XMLContext"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.context.XMLContext</span></tt></a>, is provided to allow a
context to be defined declaratively in an XML document. Such XML documents
must conform to the <a class="reference download internal" href="_downloads/aglyph-context.dtd"><tt class="xref download docutils literal"><span class="pre">Aglyph</span> <span class="pre">context</span> <span class="pre">DTD</span></tt></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.0: </span>The <a class="reference internal" href="aglyph.binder.html#aglyph.binder.Binder" title="aglyph.binder.Binder"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.binder.Binder</span></tt></a> class offers a &#8220;programmatic
configuration&#8221; option for Aglyph. Use an instance of this class to both
define and assemble your application components.</p>
</div>
<p>In this section, we will create a declarative XML context <strong>and</strong> an Aglyph
binder for <em>movielisterapp</em>, in order to demonstrate each approach.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In practice, you should choose <strong>either</strong> <a class="reference internal" href="aglyph.context.html#aglyph.context.XMLContext" title="aglyph.context.XMLContext"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.context.XMLContext</span></tt></a>
or <a class="reference internal" href="aglyph.binder.html#aglyph.binder.Binder" title="aglyph.binder.Binder"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.binder.Binder</span></tt></a> for configuring Aglyph.</p>
</div>
<p>First, we&#8217;ll create the XML context document as <em>movies-context.xml</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;context id=&quot;movies-context&quot;&gt;
    &lt;component id=&quot;delim-finder&quot;
               dotted-name=&quot;movies.finder.ColonDelimitedMovieFinder&quot;&gt;
        &lt;init&gt;
            &lt;arg&gt;&lt;str&gt;movies.txt&lt;/str&gt;&lt;/arg&gt;
        &lt;/init&gt;
    &lt;/component&gt;
    &lt;component id=&quot;movies.finder.MovieFinder&quot;
               dotted-name=&quot;movies.finder.SQLMovieFinder&quot;&gt;
        &lt;init&gt;
            &lt;arg&gt;&lt;str&gt;movies.db&lt;/str&gt;&lt;/arg&gt;
        &lt;/init&gt;
    &lt;/component&gt;
    &lt;component id=&quot;movies.lister.MovieLister&quot;&gt;
        &lt;init&gt;
            &lt;arg reference=&quot;movies.finder.MovieFinder&quot; /&gt;
        &lt;/init&gt;
    &lt;/component&gt;
&lt;/context&gt;
</pre></div>
</div>
<p>Some interesting things to note here:</p>
<ul class="simple">
<li>A <tt class="docutils literal"><span class="pre">&lt;context&gt;</span></tt> requires an <tt class="docutils literal"><span class="pre">id</span></tt> attribute, which should uniquely identify
the context.</li>
<li>A <tt class="docutils literal"><span class="pre">&lt;component&gt;</span></tt> requires an <tt class="docutils literal"><span class="pre">id</span></tt> attribute, and has an optional
<tt class="docutils literal"><span class="pre">dotted-name</span></tt> attribute. If <tt class="docutils literal"><span class="pre">dotted-name</span></tt> is not provided, then the
<tt class="docutils literal"><span class="pre">id</span></tt> attribute is assumed to be a dotted name; otherwise, the <tt class="docutils literal"><span class="pre">id</span></tt> can
be a user-defined identifier and the <tt class="docutils literal"><span class="pre">dotted-name</span></tt> <strong>must</strong> be provided
(this is useful when describing multiple components of the same class, for
example). A dotted name is a string that represents an <strong>importable</strong> module,
class, or function.</li>
<li>Initialization arguments are provided as <tt class="docutils literal"><span class="pre">&lt;arg&gt;</span></tt> child elements of a parent
<tt class="docutils literal"><span class="pre">&lt;init&gt;</span></tt> element. An <tt class="docutils literal"><span class="pre">&lt;arg&gt;</span></tt> is a postional argument, while an
<tt class="docutils literal"><span class="pre">&lt;arg</span> <span class="pre">keyword=&quot;...&quot;&gt;</span></tt> is a keyword argument. (As in Python, the order in
which positional arguments are declared is significant, while the order of
keyword arguments is not.)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>A dotted name is a <em>&#8220;dotted_name.NAME&#8221;</em> or <em>&#8220;dotted_name&#8221;</em> string that
represents a valid absolute import statement according to the following
productions:</p>
<pre>
<strong id="grammar-token-absolute_import_stmt">absolute_import_stmt</strong> ::=  &quot;from&quot; dotted_name &quot;import&quot; NAME
                          | &quot;import&quot; dotted_name
<strong id="grammar-token-dotted_name">dotted_name         </strong> ::=  NAME ('.' NAME)*
</pre>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.python.org/release/3/reference/grammar.html">Full Grammar specification</a></p>
</div>
</div>
<p>Notice that the <em>movies.lister.MovieLister</em> component is being injected with a
reference to the <em>movies.finder.MovieFinder</em> component, which describes an
instance of <tt class="docutils literal"><span class="pre">movies.finder.SQLMovieFinder</span></tt>. We could easily change back to
using <tt class="docutils literal"><span class="pre">movies.finder.ColonDelimitedMovieFinder</span></tt> by changing the reference.</p>
<p>Next, we&#8217;ll create an alternative, programmatic configuration as the
<tt class="docutils literal"><span class="pre">MoviesBinder</span></tt> class (a subclass of <a class="reference internal" href="aglyph.binder.html#aglyph.binder.Binder" title="aglyph.binder.Binder"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.binder.Binder</span></tt></a>) in the
<em>movies/__init__.py</em> module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">aglyph.binder</span> <span class="kn">import</span> <span class="n">Binder</span>

<span class="kn">from</span> <span class="nn">movies.lister</span> <span class="kn">import</span> <span class="n">MovieLister</span>
<span class="kn">from</span> <span class="nn">movies.finder</span> <span class="kn">import</span> <span class="n">MovieFinder</span><span class="p">,</span> <span class="n">SQLMovieFinder</span>

<span class="k">class</span> <span class="nc">MoviesBinder</span><span class="p">(</span><span class="n">Binder</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MoviesBinder</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="s">&quot;movies-binder&quot;</span><span class="p">)</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&quot;delim-finder&quot;</span><span class="p">,</span>
                   <span class="n">to</span><span class="o">=</span><span class="s">&quot;movies.finder.ColonDelimitedMovieFinder&quot;</span><span class="p">)</span><span class="o">.</span>
            <span class="n">init</span><span class="p">(</span><span class="s">&quot;movies.txt&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">SQLMovieFinder</span><span class="p">)</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="s">&quot;movies.db&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">MovieLister</span><span class="p">)</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">)</span>
</pre></div>
</div>
<p>There are several interesting things to note about <tt class="docutils literal"><span class="pre">MoviesBinder</span></tt>:</p>
<ul class="simple">
<li>Because <tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt> is bound using a custom ID that is
<em>not</em> a dotted name (&#8220;delim-finder&#8221;), the <tt class="docutils literal"><span class="pre">to</span></tt> keyword argument is
required, and <strong>must</strong> specify either the explicit dotted name or a reference
to the class itself so that Aglyph knows how to import it.</li>
<li>The <tt class="docutils literal"><span class="pre">MovieFinder</span></tt> abstract base class is bound to the <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt>
implementation class using references to the classes themselves, which causes
the binder to <em>automatically</em> determine the dotted names. In this case, the
ID &#8220;movies.finder.MovieFinder&#8221; is bound to the dotted name
&#8220;movies.finder.SQLMovieFinder&#8221;.</li>
<li><tt class="docutils literal"><span class="pre">MovieLister</span></tt> isn&#8217;t bound <strong>to</strong> anything. Why? Python does not support
interfaces as a language construct (mixins and <a class="reference external" href="http://docs.python.org/3/library/abc.html#module-abc" title="(in Python v3.4)"><tt class="xref py py-mod docutils literal"><span class="pre">abc</span></tt></a> are the
alternatives). So in this case, <tt class="docutils literal"><span class="pre">MovieLister</span></tt> actually serves as <em>both</em> the
&#8220;interface&#8221; and the implementation. Duck-typing means that &#8220;anything that
looks like a MovieLister and acts like a MovieLister&#8221; should be treated <em>as</em>
a <tt class="docutils literal"><span class="pre">MovieLister</span></tt>. We could just as easily create a specialized subclass
(say, <tt class="docutils literal"><span class="pre">FancyMovieLister</span></tt>) and then bind <em>it</em> to <tt class="docutils literal"><span class="pre">MovieLister</span></tt> using
<tt class="docutils literal"><span class="pre">bind(MovieLister,</span> <span class="pre">to=FancyMovieLister)</span></tt>.</li>
<li>The <a class="reference internal" href="aglyph.binder.html#aglyph.binder.Binder.bind" title="aglyph.binder.Binder.bind"><tt class="xref py py-meth docutils literal"><span class="pre">aglyph.binder.Binder.bind()</span></tt></a> method returns a proxy object that
allows us to specify the initialization (constructor) dependencies. The
dependencies must be specified according to the signature of the initializer.
The <tt class="docutils literal"><span class="pre">MovieLister.__init__</span></tt> method accepts a single positional argument
that must be a concrete <tt class="docutils literal"><span class="pre">MovieFinder</span></tt>.</li>
<li>Notice that when the positional argument for <tt class="docutils literal"><span class="pre">MovieLister.__init__</span></tt> is
specified, a reference to the <tt class="docutils literal"><span class="pre">MovieFinder</span></tt> class is used. Because this
argument is not a dotted name string, Aglyph will <em>automatically</em> determine
the dotted name of the class (&#8220;movies.finder.MovieFinder&#8221;) and turn it into
an <a class="reference internal" href="aglyph.component.html#aglyph.component.Reference" title="aglyph.component.Reference"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.component.Reference</span></tt></a>. Since <tt class="docutils literal"><span class="pre">MovieFinder</span></tt> was bound to
<tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt>, this means that, at runtime, Aglyph will resolve the
<tt class="docutils literal"><span class="pre">Reference(&quot;movies.finder.MovieFinder&quot;)</span></tt> to an instance of
<tt class="docutils literal"><span class="pre">SQLMovieFiner</span></tt>.</li>
</ul>
<p>Take a minute to examine the XML context and the <tt class="docutils literal"><span class="pre">MoviesBinder</span></tt> class; they
produce <em>identical</em> configurations for Aglyph. Each will inject the string
<em>&#8220;movies.db&#8221;</em> into a <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt>, and then inject the <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt>
instance into a <tt class="docutils literal"><span class="pre">MovieLister</span></tt>.</p>
<p>Now that we have created Aglyph configurations for <em>movielisterapp</em>, it&#8217;s time
to modify the <em>app.py</em> script to use dependency injection. To demonstrate the
use of both types of configution, we&#8217;ll create two different versions of the
application script.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As noted earlier, in practice you would choose <strong>one</strong> of the configuration
options and set up your application entry point appropriately.</p>
</div>
<p>The <em>app_xml.py</em> script will use the declarative XML context:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">aglyph.assembler</span> <span class="kn">import</span> <span class="n">Assembler</span>
<span class="kn">from</span> <span class="nn">aglyph.context</span> <span class="kn">import</span> <span class="n">XMLContext</span>

<span class="n">context</span> <span class="o">=</span> <span class="n">XMLContext</span><span class="p">(</span><span class="s">&quot;movies-context.xml&quot;</span><span class="p">)</span>
<span class="n">assembler</span> <span class="o">=</span> <span class="n">Assembler</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>

<span class="n">lister</span> <span class="o">=</span> <span class="n">assembler</span><span class="o">.</span><span class="n">assemble</span><span class="p">(</span><span class="s">&quot;movies.lister.MovieLister&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="n">lister</span><span class="o">.</span><span class="n">movies_directed_by</span><span class="p">(</span><span class="s">&quot;Sergio Leone&quot;</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">movie</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>This script creates an assembler with a context that is read from the
<em>movies-context.xml</em> XML document. Notice that we no longer need to create the
<tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt> class directly; we have effectively separated the
configuration of <tt class="docutils literal"><span class="pre">MovieLister</span></tt> from its use in the application.</p>
<p>Running the application produces the same results as usual:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python app_xml.py
The Colossus of Rhodes
Once Upon a Time in the West
Once Upon a Time in America
</pre></div>
</div>
<p>The <em>app_binder.py</em> script will use the <tt class="docutils literal"><span class="pre">MoviesBinder</span></tt> configuration:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">movies</span> <span class="kn">import</span> <span class="n">MoviesBinder</span>
<span class="kn">from</span> <span class="nn">movies.lister</span> <span class="kn">import</span> <span class="n">MovieLister</span>

<span class="n">binder</span> <span class="o">=</span> <span class="n">MoviesBinder</span><span class="p">()</span>

<span class="n">lister</span> <span class="o">=</span> <span class="n">binder</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">MovieLister</span><span class="p">)</span>
<span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="n">lister</span><span class="o">.</span><span class="n">movies_directed_by</span><span class="p">(</span><span class="s">&quot;Sergio Leone&quot;</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">movie</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, we create the binder and then use it to look up the concrete
implementation of <tt class="docutils literal"><span class="pre">MovieLister</span></tt> that we have configured.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Like the <a class="reference internal" href="aglyph.binder.html#aglyph.binder.Binder.bind" title="aglyph.binder.Binder.bind"><tt class="xref py py-meth docutils literal"><span class="pre">aglyph.binder.Binder.bind()</span></tt></a> method, the
<a class="reference internal" href="aglyph.binder.html#aglyph.binder.Binder.lookup" title="aglyph.binder.Binder.lookup"><tt class="xref py py-meth docutils literal"><span class="pre">aglyph.binder.Binder.lookup()</span></tt></a> method can accept a reference to a
class, and will <em>automatically</em> determine the dotted name for that class.
Because we bound the ID &#8220;movies.lister.MovieLister&#8221; to the <tt class="docutils literal"><span class="pre">MovieLister</span></tt>
class, <tt class="docutils literal"><span class="pre">binder.lookup(MovieLister)</span></tt> is equivalent to
<tt class="docutils literal"><span class="pre">binder.lookup(&quot;movies.lister.MovieLister&quot;)</span></tt>, and will produce an instance
of <tt class="docutils literal"><span class="pre">MovieLister</span></tt> with its dependencies injected as we expect.</p>
</div>
<p>Again, running the application produces the expected results:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python app_binder.py
The Colossus of Rhodes
Once Upon a Time in the West
Once Upon a Time in America
</pre></div>
</div>
</div>
<div class="section" id="make-changes-to-the-movielisterapp-application">
<h2>6. Make changes to the <em>movielisterapp</em> application<a class="headerlink" href="#make-changes-to-the-movielisterapp-application" title="Permalink to this headline">¶</a></h2>
<p>Now that the application is configured to use Aglyph for dependency injection,
let&#8217;s make some changes to demonstrate application maintenance under Aglyph.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The key point of this final exercise is that we will be able to make
&#8220;significant&#8221; changes to the application without having to modify any of the
application source code.
This is possible because we have <em>separated the configuration of objects
from their use</em>; this is the goal of Depdendency Injection.</p>
</div>
<div class="section" id="introducing-assembly-strategies">
<h3>Introducing assembly strategies<a class="headerlink" href="#introducing-assembly-strategies" title="Permalink to this headline">¶</a></h3>
<p>In our existing configurations, all components are using Aglyph&#8217;s default
assembly strategy, <strong>prototype</strong>, which means that each time a component is
assembled, a new object is created, initialized, wired, and returned.</p>
<p>This is not always desired (or appropriate), so Aglyph also supports
<strong>singleton</strong>, <strong>borg</strong>, and <strong>weakref</strong> assembly strategies.</p>
<p>For details of what each assembly strategy implies, please refer to
<a class="reference internal" href="aglyph.component.html#aglyph.component.Strategy" title="aglyph.component.Strategy"><tt class="xref py py-obj docutils literal"><span class="pre">aglyph.component.Strategy</span></tt></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference external" href="http://code.activestate.com/recipes/66531-singleton-we-dont-need-no-stinkin-singleton-the-bo/">Singleton? We don&#8217;t need no stinkin&#8217; singleton: the Borg design pattern (Python recipe)</a></dt>
<dd>Alex Martelli&#8217;s original Borg recipe (from ActiveState Python Recipes)</dd>
<dt>Module <a class="reference external" href="http://docs.python.org/3/library/weakref.html#module-weakref" title="(in Python v3.4)"><tt class="xref py py-mod docutils literal"><span class="pre">weakref</span></tt></a></dt>
<dd>Documentation of the <a class="reference external" href="http://docs.python.org/3/library/weakref.html#module-weakref" title="(in Python v3.4)"><tt class="xref py py-mod docutils literal"><span class="pre">weakref</span></tt></a> standard module.</dd>
</dl>
</div>
</div>
<div class="section" id="modify-movielisterapp-to-use-a-singleton-colondelimitedmoviefinder">
<h3>Modify <em>movielisterapp</em> to use a singleton <tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt><a class="headerlink" href="#modify-movielisterapp-to-use-a-singleton-colondelimitedmoviefinder" title="Permalink to this headline">¶</a></h3>
<p>We note that <tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt> class parses its data file on every
initialization. We don&#8217;t expect the data file to change very often, at least
not during application runtime, so we&#8217;d prefer to only create an instance of
<tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt> <em>once</em>, regardless of how many times during the
application runtime that it is requested (i.e. assembled). For the sake of
demonstration, preted for a moment that <em>movielisterapp</em> is a useful
application in which <tt class="docutils literal"><span class="pre">MovieFinder</span></tt> objects are used by more than just a
<tt class="docutils literal"><span class="pre">MovieLister</span></tt> ;)</p>
<p>To accomplish this goal, we&#8217;ll modify our configurations so that the
<em>&#8220;delim-finder&#8221;</em> component uses the <strong>singleton</strong> assembly strategy.</p>
<p>Also, we&#8217;ll change the <em>movies.lister.MovieLister</em> component so that it uses
the original <tt class="docutils literal"><span class="pre">ColonDelimitedMovieFinder</span></tt> instead of <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt>.</p>
<p>The modified XML context looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;context id=&quot;movies-context&quot;&gt;
    &lt;component id=&quot;delim-finder&quot;
               dotted-name=&quot;movies.finder.ColonDelimitedMovieFinder&quot;
               strategy=&quot;singleton&quot;&gt;
        &lt;init&gt;
            &lt;arg&gt;&lt;str&gt;movies.txt&lt;/str&gt;&lt;/arg&gt;
        &lt;/init&gt;
    &lt;/component&gt;
    &lt;component id=&quot;movies.finder.MovieFinder&quot;
               dotted-name=&quot;movies.finder.SQLMovieFinder&quot;&gt;
        &lt;init&gt;
            &lt;arg&gt;&lt;str&gt;movies.db&lt;/str&gt;&lt;/arg&gt;
        &lt;/init&gt;
    &lt;/component&gt;
    &lt;component id=&quot;movies.lister.MovieLister&quot;&gt;
        &lt;init&gt;
            &lt;arg reference=&quot;delim-finder&quot; /&gt;
        &lt;/init&gt;
    &lt;/component&gt;
&lt;/context&gt;
</pre></div>
</div>
<p>We added <tt class="docutils literal"><span class="pre">strategy=&quot;singleton&quot;</span></tt> to the <em>&#8220;delim-finder&#8221;</em> component, and
changed the <tt class="docutils literal"><span class="pre">MovieLister</span></tt> argument to specify <tt class="docutils literal"><span class="pre">reference=&quot;delim-finder&quot;</span></tt>.</p>
<p>The modifed <em>movies/__init__.py</em> module and <tt class="docutils literal"><span class="pre">MoviesBinder</span></tt> class look like
this (note the additional import of <a class="reference internal" href="aglyph.component.html#aglyph.component.Reference" title="aglyph.component.Reference"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.component.Reference</span></tt></a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">aglyph.binder</span> <span class="kn">import</span> <span class="n">Binder</span>
<span class="kn">from</span> <span class="nn">aglyph.component</span> <span class="kn">import</span> <span class="n">Reference</span>

<span class="kn">from</span> <span class="nn">movies.lister</span> <span class="kn">import</span> <span class="n">MovieLister</span>
<span class="kn">from</span> <span class="nn">movies.finder</span> <span class="kn">import</span> <span class="n">MovieFinder</span><span class="p">,</span> <span class="n">SQLMovieFinder</span>


<span class="k">class</span> <span class="nc">MoviesBinder</span><span class="p">(</span><span class="n">Binder</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MoviesBinder</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="s">&quot;movies-binder&quot;</span><span class="p">)</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&quot;delim-finder&quot;</span><span class="p">,</span>
                   <span class="n">to</span><span class="o">=</span><span class="s">&quot;movies.finder.ColonDelimitedMovieFinder&quot;</span><span class="p">,</span>
                   <span class="n">strategy</span><span class="o">=</span><span class="s">&quot;singleton&quot;</span><span class="p">)</span><span class="o">.</span>
            <span class="n">init</span><span class="p">(</span><span class="s">&quot;movies.txt&quot;</span><span class="p">))</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">SQLMovieFinder</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s">&quot;borg&quot;</span><span class="p">)</span><span class="o">.</span>
            <span class="n">init</span><span class="p">(</span><span class="s">&quot;movies.db&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">MovieLister</span><span class="p">)</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">Reference</span><span class="p">(</span><span class="s">&quot;delim-finder&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>We added <tt class="docutils literal"><span class="pre">strategy=&quot;singleton&quot;</span></tt> when binding the <em>&#8220;delim-finder&#8221;</em> component.
Also, because the component ID <em>&#8220;delim-finder&#8221;</em> is not a dotted name, we
need to manually specify that the <tt class="docutils literal"><span class="pre">MovieLister</span></tt> argument is an
<a class="reference internal" href="aglyph.component.html#aglyph.component.Reference" title="aglyph.component.Reference"><tt class="xref py py-class docutils literal"><span class="pre">aglyph.component.Reference</span></tt></a> to <em>&#8220;delim-finder&#8221;</em>.</p>
<p>Running either version of the application still produces the expected results:</p>
<div class="highlight-python"><div class="highlight"><pre>The Colossus of Rhodes
Once Upon a Time in the West
Once Upon a Time in America
</pre></div>
</div>
</div>
<div class="section" id="modify-movielisterapp-again-to-use-a-borg-sqlmoviefinder">
<h3>Modify <em>movielisterapp</em> again to use a borg <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt><a class="headerlink" href="#modify-movielisterapp-again-to-use-a-borg-sqlmoviefinder" title="Permalink to this headline">¶</a></h3>
<p>We also note that <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt> doesn&#8217;t really need to create a new
database connection every time it is assembled. We <em>could</em> use the singleton
assembly strategy, but instead we&#8217;ll use a similar pattern called <strong>borg</strong>. Of
course, we&#8217;ll also change the application to again use the <tt class="docutils literal"><span class="pre">SQLMovieFinder</span></tt>.</p>
<p>The final modified XML context looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;context id=&quot;movies-context&quot;&gt;
    &lt;component id=&quot;delim-finder&quot;
               dotted-name=&quot;movies.finder.ColonDelimitedMovieFinder&quot;
               strategy=&quot;singleton&quot;&gt;
        &lt;init&gt;
            &lt;arg&gt;&lt;str&gt;movies.txt&lt;/str&gt;&lt;/arg&gt;
        &lt;/init&gt;
    &lt;/component&gt;
    &lt;component id=&quot;movies.finder.MovieFinder&quot;
               dotted-name=&quot;movies.finder.SQLMovieFinder&quot;
               strategy=&quot;borg&quot;&gt;
        &lt;init&gt;
            &lt;arg&gt;&lt;str&gt;movies.db&lt;/str&gt;&lt;/arg&gt;
        &lt;/init&gt;
    &lt;/component&gt;
    &lt;component id=&quot;movies.lister.MovieLister&quot;&gt;
        &lt;init&gt;
            &lt;arg reference=&quot;movies.finder.MovieFinder&quot; /&gt;
        &lt;/init&gt;
    &lt;/component&gt;
&lt;/context&gt;
</pre></div>
</div>
<p>The final modifed <tt class="docutils literal"><span class="pre">MoviesBinder</span></tt> class looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MoviesBinder</span><span class="p">(</span><span class="n">Binder</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MoviesBinder</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="s">&quot;movies-binder&quot;</span><span class="p">)</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&quot;delim-finder&quot;</span><span class="p">,</span>
                   <span class="n">to</span><span class="o">=</span><span class="s">&quot;movies.finder.ColonDelimitedMovieFinder&quot;</span><span class="p">,</span>
                   <span class="n">strategy</span><span class="o">=</span><span class="s">&quot;singleton&quot;</span><span class="p">)</span><span class="o">.</span>
            <span class="n">init</span><span class="p">(</span><span class="s">&quot;movies.txt&quot;</span><span class="p">))</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">SQLMovieFinder</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s">&quot;borg&quot;</span><span class="p">)</span><span class="o">.</span>
            <span class="n">init</span><span class="p">(</span><span class="s">&quot;movies.db&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">MovieLister</span><span class="p">)</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">MovieFinder</span><span class="p">)</span>
</pre></div>
</div>
<p>Running either the <em>app_xml.py</em> or <em>app_binder.py</em> version of the application
with the final configuration changes still produces the expected results:</p>
<div class="highlight-python"><div class="highlight"><pre>The Colossus of Rhodes
Once Upon a Time in the West
Once Upon a Time in America
</pre></div>
</div>
</div>
</div>
<div class="section" id="suggested-next-steps">
<h2>Suggested next steps<a class="headerlink" href="#suggested-next-steps" title="Permalink to this headline">¶</a></h2>
<p>There are many more context/configuration options available in Aglyph beyond
those that have been presented in this tutorial, including support for type 2
&#8220;setter&#8221; injection using member variables, setter methods, and properties
(which can also be combined with the type 3 &#8220;constructor&#8221; injection used in
the <em>movielisterapp</em> sample application).</p>
<p>Suggested next steps:</p>
<ol class="arabic simple">
<li>Read the <a class="reference internal" href="cookbook.html"><em>Aglyph cookbook</em></a>.</li>
<li>Read the <a class="reference internal" href="api-ref.html"><em>Aglyph API reference</em></a>.</li>
<li>Read the <a class="reference download internal" href="_downloads/aglyph-context.dtd"><tt class="xref download docutils literal"><span class="pre">Aglyph</span> <span class="pre">context</span> <span class="pre">DTD</span></tt></a>. The DTD is fully commented, and
explains some of the finer points of using XML configuration.</li>
<li>Examine the Aglyph test cases (part of the distribution; located in the
<em>tests/</em> directory).</li>
<li>Start with either the <a class="reference download internal" href="_downloads/movielisterapp-basic.zip"><tt class="xref download docutils literal"><span class="pre">movielisterapp-basic</span></tt></a> or
<a class="reference download internal" href="_downloads/movielisterapp-aglyph.zip"><tt class="xref download docutils literal"><span class="pre">movielisterapp-aglyph</span></tt></a> applications and make your own
modifications to explore the features of Aglyph.</li>
</ol>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cookbook.html" class="btn btn-neutral float-right" title="Aglyph cookbook">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="whats-new.html" class="btn btn-neutral" title="What’s new in release 2.1.0?"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006-2015, Matthew Zipay.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
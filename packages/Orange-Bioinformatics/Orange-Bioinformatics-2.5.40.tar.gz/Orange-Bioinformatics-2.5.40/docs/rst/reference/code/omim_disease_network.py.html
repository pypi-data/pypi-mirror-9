<html><head>
<title>omim_disease_network.py</title>
<meta name="Generator" content="htmlizer/[twisted, version 13.0.0]" />
<link rel="alternate" href="omim_disease_network.py" type="text/x-python" />

</head>
<body>
<pre><span class="py-src-keyword">import</span> <span class="py-src-variable">Orange</span>

<span class="py-src-variable">diseases</span> = <span class="py-src-variable">Orange</span>.<span class="py-src-variable">bio</span>.<span class="py-src-variable">omim</span>.<span class="py-src-variable">diseases</span>()
<span class="py-src-variable">genes</span> = [<span class="py-src-variable">Orange</span>.<span class="py-src-variable">bio</span>.<span class="py-src-variable">omim</span>.<span class="py-src-variable">disease_genes</span>(<span class="py-src-variable">disease</span>) <span class="py-src-keyword">for</span> <span class="py-src-variable">disease</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">diseases</span>]

<span class="py-src-variable">vertices</span> = []
<span class="py-src-variable">edges</span> = []
<span class="py-src-keyword">for</span> <span class="py-src-variable">i</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">len</span>(<span class="py-src-variable">diseases</span>)):
    <span class="py-src-variable">vertices</span>.<span class="py-src-variable">append</span>(<span class="py-src-string">'%i "%s"\n'</span> % (<span class="py-src-variable">i</span> + <span class="py-src-number">1</span>, <span class="py-src-variable">diseases</span>[<span class="py-src-variable">i</span>].<span class="py-src-variable">name</span>))
    <span class="py-src-keyword">for</span> <span class="py-src-variable">j</span> <span class="py-src-keyword">in</span> <span class="py-src-variable">range</span>(<span class="py-src-variable">i</span> + <span class="py-src-number">1</span>, <span class="py-src-variable">len</span>(<span class="py-src-variable">diseases</span>)):
        <span class="py-src-variable">intersection</span> = <span class="py-src-variable">set</span>(<span class="py-src-variable">genes</span>[<span class="py-src-variable">i</span>]).<span class="py-src-variable">intersection</span>(<span class="py-src-variable">genes</span>[<span class="py-src-variable">j</span>])
        <span class="py-src-keyword">if</span> <span class="py-src-variable">intersection</span>:
            <span class="py-src-variable">edges</span>.<span class="py-src-variable">append</span>(<span class="py-src-string">'%i %i %i l "%s"\n'</span> %(<span class="py-src-variable">i</span> + <span class="py-src-number">1</span>, <span class="py-src-variable">j</span> + <span class="py-src-number">1</span>, <span class="py-src-variable">len</span>(<span class="py-src-variable">intersection</span>), <span class="py-src-string">","</span>.<span class="py-src-variable">join</span>(<span class="py-src-variable">sorted</span>(<span class="py-src-variable">intersection</span>))))

<span class="py-src-variable">file</span> = <span class="py-src-variable">open</span>(<span class="py-src-string">"disease.net"</span>, <span class="py-src-string">"wb"</span>)
<span class="py-src-variable">file</span>.<span class="py-src-variable">write</span>(<span class="py-src-string">"*Vertices %i 2\n"</span> % <span class="py-src-variable">len</span>(<span class="py-src-variable">vertices</span>))
<span class="py-src-variable">file</span>.<span class="py-src-variable">writelines</span>(<span class="py-src-variable">vertices</span>)
<span class="py-src-variable">file</span>.<span class="py-src-variable">write</span>(<span class="py-src-string">"*Edges\n"</span>)
<span class="py-src-variable">file</span>.<span class="py-src-variable">writelines</span>(<span class="py-src-variable">edges</span>)
</pre>
</body>
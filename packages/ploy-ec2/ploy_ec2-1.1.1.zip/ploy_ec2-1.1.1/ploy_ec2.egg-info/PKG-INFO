Metadata-Version: 1.1
Name: ploy-ec2
Version: 1.1.1
Summary: Plugin for ploy to provision Amazon EC2 instances.
Home-page: http://github.com/ployground/ploy_ec2
Author: Florian Schulze
Author-email: florian.schulze@gmx.net
License: BSD 3-Clause License
Description: Overview
        ========
        
        The ploy_ec2 plugin provides integration of `Amazon EC2`_ with `ploy`_.
        
        .. _Amazon EC2: http://aws.amazon.com/ec2/
        .. _ploy: https://github.com/ployground/
        
        
        Installation
        ============
        
        ploy_ec2 is best installed with easy_install, pip or with zc.recipe.egg in a buildout.
        
        
        Masters
        =======
        
        To use ploy_ec2 you need an Amazon account and `AWS keys <http://docs.aws.amazon.com/general/latest/gr/getting-aws-sec-creds.html>`_.
        
        Once you got your keys, you should put them in a secure location and reference them in your ``ploy.conf``.
        Additionally you need to set the region of the master::
        
            [ec2-master:ec2eu]
            access-key-id = ~/.aws/ec2.id
            secret-access-key = ~/.aws/ec2.key
            region = eu-west-1
        
        You can also set the ``AWS_ACCESS_KEY_ID`` and ``AWS_SECRET_ACCESS_KEY`` environment variables instead.
        
        You need to define a master for each `region <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html>`_ you want to use.
        
        
        Instances
        =========
        
        Each instance has the following mandatory settings:
        
        ``image``
          The `Amazon Machine Image (AMI) <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html>`_ that this instance will start up with.
        
        ``keypair``
          The name of the `SSH keypair <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html>`_ to use.
        
        ``placement``
          The `availability zone <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html>`_ in which to launch the instances.
        
        ``securitygroups``
          The name of the `Securitygroups`_ this instance should be assigned to.
        
        The following settings are optional:
        
        ``instance_type``
        
        ``ip``
        
        ``startup_script``
          Path to a script which will be run right after creation and first start of the instance.
          This uses the `User Data <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html>`_ feature and needs to be supported by the AMI.
        
        ``volumes``
        
        ``snapshots``
        
        ``device_map``
        
        ``delete-volumes-on-terminate``
        
        
        Securitygroups
        ==============
        
        ``description``
        
        ``connections``
          ::
        
            [ec2-securitygroup:app-server]
            description = The production server
            connections =
                tcp     22      22      0.0.0.0/0
                tcp     80      80      0.0.0.0/0
        
        
        Macro expansion
        ===============
        
        For instances the ``ip`` and ``volumes`` options aren't copied when expanding macros.
        
        
        Fingerprint verification
        ========================
        
        Automatic ssh fingerprint verification works by checking whether the fingerprint is in the console output of the instance.
        
        After reboot or stop/start of an instance, the console output is refreshed.
        The problem with that is, that the fingerprint isn't included in the console anymore by default.
        To fix that you need to log the fingerprint on reboot somehow.
        One way to do that with Ubuntu is to add a script at ``/var/lib/cloud/scripts/per-boot/ssh-keys`` with this content:
        
        .. code-block:: sh
        
            #!/bin/sh
            /usr/bin/ssh-keygen -l -f /etc/ssh/ssh_host_rsa_key.pub
        
        Make sure that script is executable.
        
        
        Changelog
        =========
        
        1.1.1 - 2015-01-22
        ------------------
        
        * Only set device_map if it's in the config, the previous ``None`` default
          didn't always work.
          [fschulze]
        
        * Fixed console output availability test for the status command.
          [fschulze]
        
        * Better error message if fingerprint isn't in console output.
          [fschulze]
        
        * There can be multiple instances for the same name if they were quickly started
          and stopped. Handle that case when requesting status of master.
          [fschulze]
        
        
        1.1.0 - 2014-10-27
        ------------------
        
        * Print status of all ec2 instances when requesting status of master.
          [fschulze]
        
        
        1.0.0 - 2014-07-19
        ------------------
        
        * Added documentation.
          [fschulze]
        
        
        1.0b4 - 2014-07-15
        ------------------
        
        * Fix confusion between instance from ploy and ec2 instance.
          [fschulze]
        
        
        1.0b3 - 2014-07-08
        ------------------
        
        * Moved ``snapshots`` list command here after ploy enabled it.
          [fschulze]
        
        * Renamed mr.awsome to ploy and mr.awsome.ec2 to ploy_ec2.
          [fschulze]
        
        
        1.0b2 - 2014-05-15
        ------------------
        
        * Renamed ``conn`` to ``ec2_conn`` to allow reuse of ``conn`` from BaseInstance.
          [fschulze]
        
        * Moved setuptools-git from setup.py to .travis.yml, it's only needed for
          releases and testing.
          [fschulze]
        
        
        1.0b1 - 2014-03-24
        ------------------
        
        * Initial release
          [fschulze]
        
Platform: UNKNOWN
Classifier: Environment :: Console
Classifier: Intended Audience :: System Administrators
Classifier: Programming Language :: Python :: 2.6
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 2 :: Only
Classifier: Topic :: System :: Installation/Setup
Classifier: Topic :: System :: Systems Administration

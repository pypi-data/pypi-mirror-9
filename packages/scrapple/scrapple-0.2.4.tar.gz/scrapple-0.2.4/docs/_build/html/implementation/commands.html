<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Command classes &mdash; Scrapple  documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Scrapple  documentation" href="../index.html" />
    <link rel="next" title="Selector classes" href="selectors.html" />
    <link rel="prev" title="Command line interface" href="cli.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="selectors.html" title="Selector classes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cli.html" title="Command line interface"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Scrapple  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-scrapple.commands.genconfig">
<span id="command-classes"></span><span id="implementation-commands"></span><h1>Command classes<a class="headerlink" href="#module-scrapple.commands.genconfig" title="Permalink to this headline">¶</a></h1>
<div class="section" id="scrapple-commands-genconfig">
<h2>scrapple.commands.genconfig<a class="headerlink" href="#scrapple-commands-genconfig" title="Permalink to this headline">¶</a></h2>
</div>
<dl class="class">
<dt id="scrapple.commands.genconfig.GenconfigCommand">
<em class="property">class </em><tt class="descclassname">scrapple.commands.genconfig.</tt><tt class="descname">GenconfigCommand</tt><big>(</big><em>args</em><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/genconfig.html#GenconfigCommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.genconfig.GenconfigCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the execution of <a class="reference internal" href="../framework/commands.html#command-genconfig"><em>genconfig</em></a></p>
<dl class="method">
<dt id="scrapple.commands.genconfig.GenconfigCommand.execute_command">
<tt class="descname">execute_command</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/genconfig.html#GenconfigCommand.execute_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.genconfig.GenconfigCommand.execute_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The genconfig command depends on predefined <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a>         templates for the skeleton configuration files. Taking the &#8211;type argument from the         CLI input, the corresponding template file is used.</p>
<p>Settings for the configuration file, like project name, selector type and URL         are taken from the CLI input and using these as parameters, the template is         rendered. This rendered JSON document is saved as &lt;project_name&gt;.json.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-scrapple.commands.generate"></span><div class="section" id="scrapple-commands-generate">
<h2>scrapple.commands.generate<a class="headerlink" href="#scrapple-commands-generate" title="Permalink to this headline">¶</a></h2>
</div>
<dl class="class">
<dt id="scrapple.commands.generate.GenerateCommand">
<em class="property">class </em><tt class="descclassname">scrapple.commands.generate.</tt><tt class="descname">GenerateCommand</tt><big>(</big><em>args</em><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/generate.html#GenerateCommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.generate.GenerateCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the execution of <a class="reference internal" href="../framework/commands.html#command-generate"><em>generate</em></a></p>
<dl class="method">
<dt id="scrapple.commands.generate.GenerateCommand.execute_command">
<tt class="descname">execute_command</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/generate.html#GenerateCommand.execute_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.generate.GenerateCommand.execute_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The generate command uses <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> templates         to create Python scripts, according to the specification in the configuration         file. The predefined templates use the extract_content() method of the         <a class="reference internal" href="selectors.html#implementation-selectors"><em>selector classes</em></a> to implement linear extractors         and use recursive for loops to implement multiple levels of link crawlers. This         implementation is effectively a representation of the traverse_next()         <a class="reference internal" href="utils.html#implementation-utils"><em>utility function</em></a>, using the loop depth to         differentiate between levels of the crawler execution.</p>
<p>According to the &#8211;output_type argument in the CLI input, the results are         written into a JSON document or a CSV document.</p>
<p>The Python script is written into &lt;output_filename&gt;.py - running this file         is the equivalent of using the Scrapple <a class="reference internal" href="../framework/commands.html#command-run"><em>run command</em></a>.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-scrapple.commands.run"></span><div class="section" id="scrapple-commands-run">
<h2>scrapple.commands.run<a class="headerlink" href="#scrapple-commands-run" title="Permalink to this headline">¶</a></h2>
</div>
<dl class="class">
<dt id="scrapple.commands.run.RunCommand">
<em class="property">class </em><tt class="descclassname">scrapple.commands.run.</tt><tt class="descname">RunCommand</tt><big>(</big><em>args</em><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/run.html#RunCommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.run.RunCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the execution of <a class="reference internal" href="../framework/commands.html#command-run"><em>run</em></a></p>
<dl class="method">
<dt id="scrapple.commands.run.RunCommand.execute_command">
<tt class="descname">execute_command</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/run.html#RunCommand.execute_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.run.RunCommand.execute_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The run command implements the web content extractor corresponding to the given         configuration file.</p>
<p>The execute_command() validates the input project name and opens the JSON         configuration file. The run() method handles the execution of the extractor run.</p>
<p>The extractor implementation follows these primary steps :</p>
<ol class="arabic simple">
<li>Selects the appropriate <a class="reference internal" href="selectors.html#implementation-selectors"><em>selector class</em></a> through         a dynamic dispatch, with the selector_type argument from the CLI input.</li>
<li>Iterate through the data section in level-0 of the configuration file.         On each data item, call the extract_content() method from the selector class to         extract the content according to the specified extractor rule.</li>
<li>If there are multiple levels of the extractor, i.e, if there is a &#8216;next&#8217;         attribute in the configuration file, call the traverse_next()         <a class="reference internal" href="utils.html#implementation-utils"><em>utility function</em></a> and parse through successive levels         of the configuration file.</li>
<li>According to the &#8211;output_type argument, the result data is saved in a JSON         document or a CSV document.</li>
</ol>
</dd></dl>

</dd></dl>

<span class="target" id="module-scrapple.commands.web"></span><div class="section" id="scrapple-commands-web">
<h2>scrapple.commands.web<a class="headerlink" href="#scrapple-commands-web" title="Permalink to this headline">¶</a></h2>
</div>
<dl class="class">
<dt id="scrapple.commands.web.WebCommand">
<em class="property">class </em><tt class="descclassname">scrapple.commands.web.</tt><tt class="descname">WebCommand</tt><big>(</big><em>args</em><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/web.html#WebCommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.web.WebCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the execution of <a class="reference internal" href="../framework/commands.html#command-web"><em>web</em></a></p>
<dl class="method">
<dt id="scrapple.commands.web.WebCommand.execute_command">
<tt class="descname">execute_command</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/scrapple/commands/web.html#WebCommand.execute_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scrapple.commands.web.WebCommand.execute_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The web command runs the Scrapple web interface through a simple         <a class="reference external" href="http://flask.pocoo.org">Flask</a> app.</p>
<p>When the execute_command() method is called from the         <a class="reference internal" href="cli.html#implementation-cli"><em>runCLI()</em></a> function, it starts of two simultaneous         processes :</p>
<ul class="simple">
<li>Calls the run_flask() method to start the Flask app on port 5000 of localhost</li>
<li>Opens the web interface on a web browser</li>
</ul>
<p>The &#8216;/&#8217; view of the Flask app, opens up the Scrapple web interface. This         provides a basic form, to fill in the required configuration file. On submitting         the form, it makes a POST request, passing in the form in the request header.         This form is passed to the form_to_json()         <a class="reference internal" href="utils.html#implementation-utils"><em>utility function</em></a>, where the form is converted into         the resultant JSON configuration file.</p>
<p>Currently, closing the web command execution requires making a keyboard interrupt         on the command line after the web interface has been closed.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Command classes</a><ul>
<li><a class="reference internal" href="#scrapple-commands-genconfig">scrapple.commands.genconfig</a></li>
<li><a class="reference internal" href="#scrapple-commands-generate">scrapple.commands.generate</a></li>
<li><a class="reference internal" href="#scrapple-commands-run">scrapple.commands.run</a></li>
<li><a class="reference internal" href="#scrapple-commands-web">scrapple.commands.web</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cli.html"
                        title="previous chapter">Command line interface</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="selectors.html"
                        title="next chapter">Selector classes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/implementation/commands.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="selectors.html" title="Selector classes"
             >next</a> |</li>
        <li class="right" >
          <a href="cli.html" title="Command line interface"
             >previous</a> |</li>
        <li><a href="../index.html">Scrapple  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Alex Mathew, Harish Balakrishnan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
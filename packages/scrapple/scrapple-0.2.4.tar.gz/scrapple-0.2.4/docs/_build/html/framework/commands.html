<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Scrapple commands &mdash; Scrapple  documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Scrapple  documentation" href="../index.html" />
    <link rel="next" title="Configuration file" href="config.html" />
    <link rel="prev" title="Scrapple architecture" href="basic.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration file"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="basic.html" title="Scrapple architecture"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Scrapple  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="scrapple-commands">
<span id="framework-commands"></span><h1>Scrapple commands<a class="headerlink" href="#scrapple-commands" title="Permalink to this headline">¶</a></h1>
<p>The four commands provided by the Scrapple CLI are</p>
<ul class="simple">
<li>genconfig</li>
<li>generate</li>
<li>run</li>
<li>web</li>
</ul>
<div class="section" id="genconfig">
<span id="command-genconfig"></span><h2>genconfig<a class="headerlink" href="#genconfig" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">genconfig</span></tt> command is used to create a skeleton <a class="reference internal" href="config.html#framework-config"><em>configuration file</em></a>, which can be used as the base for further writing the necessary configuration file. This makes it easier to understand the structure of the key/value-based configuration file, and provide the necessary options.</p>
<p>The two positional arguments for the genconfig command are :</p>
<ul class="simple">
<li>The project name</li>
<li>The base URL</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">genconfig</span></tt> command creates a basic configuration file with the provided base URL, and creates it as &#8220;&lt;project_name&gt;.json&#8221;.</p>
<p>The two optional arguments for the genconfig command are :</p>
<ul class="simple">
<li>The type of extractor</li>
<li>The selector type</li>
</ul>
<p>The extractor could be a scraper or a crawler, and this can be specified in the &#8211;type argument. By default, it is a scraper. When the crawler option is provided, it adds the &#8220;next&#8221; parameter in the skeleton configuration file.</p>
<p>With the &#8211;selector option, the selector type to be used can be specified. This can be &#8220;css&#8221; or &#8220;xpath&#8221;. By default, it is &#8220;xpath&#8221;.</p>
<p>Examples :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">genconfig</span> <span class="pre">pyvideo</span> <span class="pre">http://pyvideo.org/category</span></tt> creates pyvideo.json, which contains the skeleton configuration file for a scraper which uses XPath expressions as the selector.</li>
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">genconfig</span> <span class="pre">pyvideo</span> <span class="pre">http://pyvideo.org/category</span> <span class="pre">--type=crawler</span></tt> creates pyvideo.json, which contains the skeleton configuration file for a crawler which uses XPath expressions as the selector.</li>
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">genconfig</span> <span class="pre">pyvideo</span> <span class="pre">http://pyvideo.org/category</span> <span class="pre">--type=crawler</span> <span class="pre">--selector=css</span></tt> creates pyvideo.json, which contains the skeleton configuration file for a crawler which uses CSS selector expressions as the selector.</li>
</ul>
</div>
<div class="section" id="generate">
<span id="command-generate"></span><h2>generate<a class="headerlink" href="#generate" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">generate</span></tt> command is used to generate the Python script corresponding to the specifications in the configuration file. This command is used to create the script that replicates the operation of the run command.</p>
<p>The two positional arguments for the generate command are :</p>
<ul class="simple">
<li>The project name</li>
<li>The output file name</li>
</ul>
<p>The project name is the name of the configuration file to be used, i.e, &#8220;&lt;project_name&gt;.json&#8221; is the configuration file used as the specification. The command creates &#8220;&lt;output_file_name&gt;.py&#8221; as the generated Python script.</p>
<p>The one available optional argument is :</p>
<ul class="simple">
<li>The output type</li>
</ul>
<p>This specifies the output format in which the extracted content is to be stored. This could be &#8220;csv&#8221; or &#8220;json&#8221;. By default, it is &#8220;json&#8221;.</p>
<p>Examples :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">generate</span> <span class="pre">pyvideo</span> <span class="pre">talk1</span></tt> generates talk1.py based on pyvideo.json, where the extracted data is stored in a JSON document.</li>
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">generate</span> <span class="pre">pyvideo</span> <span class="pre">talk1</span> <span class="pre">--output_type=csv</span></tt> generates talk1.py based on pyvideo.json, where the extracted data is stored in a CSV document.</li>
</ul>
</div>
<div class="section" id="run">
<span id="command-run"></span><h2>run<a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">run</span></tt> command is used to run the extractor corresponding to the specifications in the configuration file. This command runs the extractors and stores the extracted content for later use.</p>
<p>The two positional arguments for the generate command are :</p>
<ul class="simple">
<li>The project name</li>
<li>The output file name</li>
</ul>
<p>The project name is the name of the configuration file to be used, i.e, &#8220;&lt;project_name&gt;.json&#8221; is the configuration file used as the specification. The command creates &#8220;&lt;output_file_name&gt;.json&#8221; or &#8220;&lt;output_file_name&gt;.csv&#8221; which contains the extracted content.</p>
<p>The one available optional argument is :</p>
<ul class="simple">
<li>The output type</li>
</ul>
<p>This specifies the output format in which the extracted content is to be stored. This could be &#8220;csv&#8221; or &#8220;json&#8221;. By default, it is &#8220;json&#8221;.</p>
<p>Examples :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">run</span> <span class="pre">pyvideo</span> <span class="pre">talk1</span></tt> runs the extractor based on pyvideo.json, and stores the extracted content in talk1.json.</li>
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">run</span> <span class="pre">pyvideo</span> <span class="pre">talk1</span> <span class="pre">--output_type=csv</span></tt> runs the extractor based on pyvideo.json, and stores the extracted content in talk1.csv.</li>
</ul>
</div>
<div class="section" id="web">
<span id="command-web"></span><h2>web<a class="headerlink" href="#web" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">web</span></tt> command is an added feature, to make it easier to edit the configuration file. It provides a web interface, which contains a form where the configuration file can be filled. It currently supports only editing configuration files for scrapers. Future work includes support for editing configuration files for link crawlers.</p>
<p>The web interface can be opened with the command</p>
<p><tt class="docutils literal"><span class="pre">$</span> <span class="pre">scrapple</span> <span class="pre">web</span></tt></p>
<p>This starts a Flask web app, which opens on port 5000 on the localhost.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Scrapple commands</a><ul>
<li><a class="reference internal" href="#genconfig">genconfig</a></li>
<li><a class="reference internal" href="#generate">generate</a></li>
<li><a class="reference internal" href="#run">run</a></li>
<li><a class="reference internal" href="#web">web</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="basic.html"
                        title="previous chapter">Scrapple architecture</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="config.html"
                        title="next chapter">Configuration file</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/framework/commands.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration file"
             >next</a> |</li>
        <li class="right" >
          <a href="basic.html" title="Scrapple architecture"
             >previous</a> |</li>
        <li><a href="../index.html">Scrapple  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Alex Mathew, Harish Balakrishnan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
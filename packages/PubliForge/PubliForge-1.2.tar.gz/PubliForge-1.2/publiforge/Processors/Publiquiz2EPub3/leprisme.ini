# $Id: leprisme.ini b064ec096f17 2014/09/11 21:13:12 Patrick $

# -----------------------------------------------------------------------------
[Initialization]
directories = Container~/OEBPS/Images, Container~/OEBPS/Audios,
              Container~/OEBPS/Videos
templates = Publidoc2XHtml, Publiquiz2Html5, Publidoc2EPub3

[template:Publidoc2XHtml]
path = Container~/OEBPS
exclude = go_previous.png, go_next.png, go_up.png, audio.png, video.png,
          reset.css

[template:Publiquiz2Html5]
path = Container~/OEBPS

[template:Publidoc2EPub3]
path = Container~

# -----------------------------------------------------------------------------
[Input]
file_regex = \.xml$
content_regex = (<publiquiz|<composition)
validate = true

[RelaxNG]
publiset = %(here)s/RelaxNG/publiset.rng
publidoc = %(here)s/RelaxNG/publidoc.rng
publiquiz = %(here)s/RelaxNG/publiquiz.rng

# -----------------------------------------------------------------------------
[Transformation]
xsl = %(here)s/Xsl/publiquiz2epub3.xsl

# -----------------------------------------------------------------------------
[Output]
make_id = token
format = %(fid)s.epub
container = OCF

[container:OCF]
root = Container~
manifest = OEBPS/package.opf://opf:manifest
checker = java -jar %(here)s/jars/epubcheck-3.0.1.jar %(ocffile)s

# $Id: xml.ini 301c3ebaab06 2014/12/09 10:21:56 Patrick $
# Opener Publidoc

# -----------------------------------------------------------------------------
[Match]
file_regex = \.xml$
content_regex = <publidoc

# -----------------------------------------------------------------------------
[RelaxNG]
publidoc = %(here)s/RelaxNG/publidoc.rng

# -----------------------------------------------------------------------------
[Casts]
contributors = <publidoc version="1.0"><topic id="e"><head><contributors>%(xml)s</contributors></head><section><p/></section></topic></publidoc>
source_book = <publidoc version="1.0"><topic id="e"><head><source type="book">%(xml)s</source></head><section><p/></section></topic></publidoc>
source_file = <publidoc version="1.0"><topic id="e"><head><source type="file">%(xml)s</source></head><section><p/></section></topic></publidoc>
keywordset = <publidoc version="1.0"><topic id="e"><head><keywordset>%(xml)s</keywordset></head><section><p/></section></topic></publidoc>
subjectset = <publidoc version="1.0"><topic id="e"><head><subjectset>%(xml)s</subjectset></head><section><p/></section></topic></publidoc>
abstract = <publidoc version="1.0"><topic id="e"><head><abstract>%(xml)s</abstract></head><section><p/></section></topic></publidoc>
division = <publidoc version="1.0"><document id="e">%(xml)s</document></publidoc>
section = <publidoc version="1.0"><topic id="e">%(xml)s</topic></publidoc>
block = <publidoc version="1.0"><topic id="e"><section>%(xml)s</section></topic></publidoc>
inline = <publidoc version="1.0"><topic id="e"><section><p>%(xml)s</p></section></topic></publidoc>
simple_inline = <publidoc version="1.0"><topic id="e"><head><copyright>%(xml)s</copyright></head><section><p/></section></topic></publidoc>

# -----------------------------------------------------------------------------
[Read]
css = %(main_route)s/Css/pygments.css

# -----------------------------------------------------------------------------
[Render]
xsl = %(here)s/Xsl/publidoc_render.xsl
css = %(route)s/Css/publidoc.css,
      %(route)s/Css/custom.css,
      %(route)s/Css/publidoc_opener.css
javascript = %(route)s/Js/publidoc.js

# -----------------------------------------------------------------------------
[Write]
css = %(main_route)s/Css/codemirror.css,
      %(route)s/Css/publidoc.css,
      %(route)s/Css/custom.css,
      %(route)s/Css/publidoc_opener.css
javascript =
      %(route)s/Js/publidoc_schema.js,
      %(main_route)s/Js/codemirror.js,
      %(main_route)s/Js/codemirror4xml.js,
      %(route)s/Js/codemirror4publidoc_loader.js,
      %(route)s/Js/publidoc.js

# -----------------------------------------------------------------------------
[Edit]
xsl = %(here)s/Xsl/publidoc_edit.xsl
css = %(main_route)s/Css/codemirror.css,
      %(route)s/Css/publidoc.css,
      %(route)s/Css/custom.css,
      %(route)s/Css/publidoc_opener.css
javascript =
      %(route)s/Js/publidoc_schema.js,
      %(main_route)s/Js/codemirror.js,
      %(main_route)s/Js/codemirror4xml.js,
      %(route)s/Js/codemirror4publidoc_loader.js,
      %(route)s/Js/publidoc.js
save.xsl = %(here)s/Xsl/publidoc_save.xsl
save.regex = %(here)s/Regex/publidoc_save.regex

# -----------------------------------------------------------------------------
[Maestro]
xml = %(here)s/Maestro/publidoc_xml4maestro.xsl
render = %(here)s/Maestro/publidoc_render4maestro.xsl

# -----------------------------------------------------------------------------
[DEFAULT]
image.ext = png, jpg, jpeg, gif, svg
image.search = Images/%(id)s.%(ext)s, Thumbnails/%(id)s.%(ext)s
#,    %(stgpath)s/DataHg/Images/%(id)s.%(ext)s, ImagesTmp/%(id)s.%(ext)s
audio.ext = ogg, wav, mp3
audio.search = Audios/%(id)s.%(ext)s
video.ext = ogv, webm, mp4
video.search = Videos/%(id)s.%(ext)s

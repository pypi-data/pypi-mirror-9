<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing on Amazon Web Services &mdash; OppiaMobile 0.5.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="OppiaMobile 0.5.2 documentation" href="index.html" />
    <link rel="next" title="Installing VirtualBox Image" href="virtualbox.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="virtualbox.html" title="Installing VirtualBox Image"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">OppiaMobile 0.5.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installing-on-amazon-web-services">
<span id="aws"></span><h1>Installing on Amazon Web Services<a class="headerlink" href="#installing-on-amazon-web-services" title="Permalink to this headline">¶</a></h1>
<p>To make it easier for you to get an OppiaMobile server up and running, we have
created an <a class="reference external" href="http://aws.amazon.com/">Amazon Web Services</a> machine image that
you can copy and comes pre-packaged with the latest version of the OppiaMobile
Server so will run &#8216;out of the box&#8217;.</p>
<div class="section" id="launch-an-aws-machine-image">
<h2>Launch an AWS Machine Image<a class="headerlink" href="#launch-an-aws-machine-image" title="Permalink to this headline">¶</a></h2>
<p>Once you have created your account on AWS:</p>
<ul class="simple">
<li>Go into your instances page</li>
<li>Select &#8216;launch instance&#8217;</li>
<li>Select &#8216;Community AMIs&#8217;</li>
<li>Search for &#8216;oppia&#8217; and you should see the most recent version of the
OppiaMobile AMI listed</li>
<li>Launch your new instance - you can alter the instance configuration (security
groups etc) during the rest of the launch instance process.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When you search the OppiaMobile server AMI will only appear in the search
results if you have selected the &#8216;EU (Ireland)&#8217; zone</p>
</div>
<p>Once your instance is up and running you will be able to assign a static IP,
access via your web browser and log into the server using SSH. It is beyond the
scope of this guide to give the full information about how to connect and
configure your AWS account instances.</p>
</div>
<div class="section" id="passwords">
<h2>Passwords<a class="headerlink" href="#passwords" title="Permalink to this headline">¶</a></h2>
<p>When you install and launch your instance it is set up with a default set of
usernames/passwords:</p>
<ul class="simple">
<li>MySQL root password: &#8216;default&#8217;</li>
<li>MySQL oppia user password: &#8216;default&#8217; - this is the user that Django uses to
connect to your database. When you have changed this password you should also
update the django settings.py file (at:
<code class="docutils literal"><span class="pre">/home/oppiamobile/oppia_web/oppia_web/settings.py</span></code>) to reflect the new
database password.</li>
<li>Django super user: username &#8216;admin&#8217; and password &#8216;default&#8217;</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You are very strongly advised to change these passwords as soon as
you have set up your instance</p>
</div>
</div>
<div class="section" id="directories-and-location-of-files">
<h2>Directories and location of files<a class="headerlink" href="#directories-and-location-of-files" title="Permalink to this headline">¶</a></h2>
<p>All the required files are stored in the /home/oppiamobile directory, which has
the following structure:</p>
<ul class="simple">
<li>django-oppia (dir): the OppiaMobile server application files</li>
<li>env (dir): root of the <a class="reference external" href="http://www.virtualenv.org/en/latest/">virtualenv</a></li>
<li>media (dir): the media directory for Django (this directory served directly by
Apache)</li>
<li>oppia-cron.sh (file): a shell script for running the OppiaMobile cron task - it&#8217;s
unlikely you&#8217;ll ever need to do anything with this file.</li>
<li>oppia_web (dir): the Django project files (containing settings.py and urls.py etc)</li>
<li>static (dir): the static directory for Django (this directory is served directly by
Apache)</li>
<li>upload (dir): stores the course uploads</li>
</ul>
<p>Please note that on this machine the django-oppia server is installed as a clone
from GitHub (rather than using the pip install method described in the <a class="reference internal" href="install.html#install"><em>standard
installation instructions</em></a>).</p>
</div>
<div class="section" id="updating-django-oppia-server-code-from-core">
<h2>Updating django-oppia server code from core<a class="headerlink" href="#updating-django-oppia-server-code-from-core" title="Permalink to this headline">¶</a></h2>
<p>The code is based on a &#8216;point-in-time&#8217; version of the OppiaMobile server code,
so once you have set up your instance, you should try to keep it up to date.
Fortunately it&#8217;s straightforward to update to the latest version:</p>
<ul class="simple">
<li>Go into the <code class="docutils literal"><span class="pre">/home/oppiamobile/django-oppia/</span></code> directory</li>
<li>Run <code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code></li>
</ul>
<p>This will update your server to the latest version of the django-oppia server.
If any new updates were made, run the following commands (when
the virtualenv is active):</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">migrate</span> <span class="pre">oppia</span></code></li>
<li><code class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">migrate</span> <span class="pre">oppia.quiz</span></code></li>
<li><code class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">migrate</span> <span class="pre">oppia.viz</span></code></li>
<li><code class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">collectstatic</span></code></li>
</ul>
</div>
<div class="section" id="creating-your-own-version-of-django-oppia">
<h2>Creating your own version of django-oppia<a class="headerlink" href="#creating-your-own-version-of-django-oppia" title="Permalink to this headline">¶</a></h2>
<p>If you have created your own fork of django-oppia (for example to customise the
look and feel), then you can point git to the fork of your code by editing the
<code class="docutils literal"><span class="pre">/home/oppiamobile/django-oppia/.git/config</span></code> file and pulling the code from
your fork instead.</p>
<p><a class="reference internal" href="custom/index.html#customisation"><em>More information on customising OppiaMobile</em></a></p>
</div>
<div class="section" id="environment-information">
<h2>Environment information<a class="headerlink" href="#environment-information" title="Permalink to this headline">¶</a></h2>
<p>The current version of the instance (OppiaMobile Server 0.4.3) is running:</p>
<ul class="simple">
<li>Ubuntu 14.04.1 LTS Server</li>
<li>Apache 2.4</li>
<li>Mysql 5.5</li>
<li>Django 1.6.1</li>
<li>TastyPie 0.11.0</li>
<li>South 0.8.4</li>
<li>OppiaServer 0.4.3</li>
</ul>
</div>
<div class="section" id="email-configuration">
<h2>Email configuration<a class="headerlink" href="#email-configuration" title="Permalink to this headline">¶</a></h2>
<p>By default your AWS OppiaServer instance is not configured to send email, any
emails generated by the system (for example reset password messages) are just
saved as plain text files in the <code class="docutils literal"><span class="pre">/tmp</span></code> directory.</p>
<p>To enable sending email you will need to:</p>
<ul class="simple">
<li>configure your AWS account to enable email sending (using SES service)</li>
<li>comment out or remove the <code class="docutils literal"><span class="pre">EMAIL_BACKEND</span></code> and <code class="docutils literal"><span class="pre">EMAIL_FILE_PATH</span></code> directives
in the <code class="docutils literal"><span class="pre">/home/oppiamobile/oppia_web/oppia_web/settings.py</span></code> file.</li>
<li>update the <code class="docutils literal"><span class="pre">SERVER_EMAIL</span></code> directive in <code class="docutils literal"><span class="pre">settings.py</span></code> to use an email
address that is authorised to send via your SES.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installing on Amazon Web Services</a><ul>
<li><a class="reference internal" href="#launch-an-aws-machine-image">Launch an AWS Machine Image</a></li>
<li><a class="reference internal" href="#passwords">Passwords</a></li>
<li><a class="reference internal" href="#directories-and-location-of-files">Directories and location of files</a></li>
<li><a class="reference internal" href="#updating-django-oppia-server-code-from-core">Updating django-oppia server code from core</a></li>
<li><a class="reference internal" href="#creating-your-own-version-of-django-oppia">Creating your own version of django-oppia</a></li>
<li><a class="reference internal" href="#environment-information">Environment information</a></li>
<li><a class="reference internal" href="#email-configuration">Email configuration</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="virtualbox.html"
                        title="next chapter">Installing VirtualBox Image</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/aws.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="virtualbox.html" title="Installing VirtualBox Image"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >previous</a> |</li>
        <li><a href="index.html">OppiaMobile 0.5.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Alex Little, Digital Campus.
      Last updated on Oct 29, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>
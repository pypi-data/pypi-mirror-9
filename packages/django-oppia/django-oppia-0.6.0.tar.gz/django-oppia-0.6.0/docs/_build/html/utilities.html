<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Utilities &mdash; OppiaMobile 0.5.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="OppiaMobile 0.5.2 documentation" href="index.html" />
    <link rel="next" title="Customisation" href="custom/index.html" />
    <link rel="prev" title="REST API" href="api.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="custom/index.html" title="Customisation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api.html" title="REST API"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">OppiaMobile 0.5.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="utilities">
<span id="id1"></span><h1>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h1>
<p>All utility scripts can be found in the <code class="docutils literal"><span class="pre">django-oppia/oppia/utils</span></code> directory.</p>
<div class="section" id="cartodb-update-py">
<h2>cartodb_update.py<a class="headerlink" href="#cartodb-update-py" title="Permalink to this headline">¶</a></h2>
<p>This script updates the user location map in <a class="reference external" href="http://cartodb.com/">CartoDB</a></p>
<p>Usage: <code class="docutils literal"><span class="pre">cartodb_update.py</span> <span class="pre">&lt;CartoDB</span> <span class="pre">Account</span> <span class="pre">Name&gt;</span> <span class="pre">&lt;CartoDB</span> <span class="pre">API</span> <span class="pre">Key&gt;</span></code></p>
<p><a class="reference internal" href="viz/user_map.html#usermap"><em>More information</em></a> about how to set up and configure the location
map</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this script to run successfully, you will need to have the your
virtualenv activiated (if applicable) and environment variables set to point
to your Django settings file - similar to how you set up the
<a class="reference internal" href="install.html#installcron"><em>OppiaMobile cron task</em></a></p>
</div>
</div>
<div class="section" id="ip2location-py">
<h2>ip2location.py<a class="headerlink" href="#ip2location-py" title="Permalink to this headline">¶</a></h2>
<p>This script converts the IP addresses from the Tracker log to a latitude/
longitude location, for displaying on the CartoDB user map visualization.</p>
<p>Usage: <code class="docutils literal"><span class="pre">ip2location.py</span> <span class="pre">&lt;IP</span> <span class="pre">Address</span> <span class="pre">Labs</span> <span class="pre">API</span> <span class="pre">Key&gt;</span> <span class="pre">&lt;Geonames</span> <span class="pre">username&gt;</span></code></p>
<p><a class="reference internal" href="viz/user_map.html#usermap"><em>More information</em></a> about how to set up and configure the location
map</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this script to run successfully, you will need to have the your
virtualenv activiated (if applicable) and environment variables set to point
to your Django settings file - similar to how you set up the
<a class="reference internal" href="install.html#installcron"><em>OppiaMobile cron task</em></a></p>
</div>
</div>
<div class="section" id="media-scan-py">
<h2>media-scan.py<a class="headerlink" href="#media-scan-py" title="Permalink to this headline">¶</a></h2>
<p>This will scan a given directory of video files and create a collection of image
screenshots from throughout the video, along with a file containing all the code
(md5 digest, video length, filesize etc) that you can cut and paste into your
Moodle page.</p>
<p>You will need to have <code class="docutils literal"><span class="pre">ffprobe</span></code> installed to be able to run this script. This
can be downloaded from: <a class="reference external" href="http://ffmpeg.org/ffprobe.html/">http://ffmpeg.org/ffprobe.html/</a></p>
<p>Usage: <code class="docutils literal"><span class="pre">python</span> <span class="pre">media-scan.py</span> <span class="pre">/home/input/video/dir/</span> <span class="pre">/home/output/dir/</span></code></p>
<p>The first parameter is the input directory (where all your videos are stored).</p>
<p>The second parameter is the directory to output all the images and video tags
code.</p>
<p>The following optional parameters are also available:</p>
<ul>
<li><p class="first">-f
This determines the number of images that will be created for each video
(they will be evenly divided between the length of the video). Example usage:</p>
<p><code class="docutils literal"><span class="pre">python</span> <span class="pre">media-scan.py</span> <span class="pre">/home/input/video/dir/</span> <span class="pre">/home/output/dir/</span> <span class="pre">-f</span> <span class="pre">10</span></code></p>
<p>This will create 10 video screenshot images for each video in the input
directory.</p>
<p>The default is 5 images per video</p>
</li>
<li><p class="first">-w
This determines the width in pixels of the output images. Example usage:</p>
<p><code class="docutils literal"><span class="pre">python</span> <span class="pre">media-scan.py</span> <span class="pre">/home/input/video/dir/</span> <span class="pre">/home/output/dir/</span> <span class="pre">-w</span> <span class="pre">500</span></code></p>
<p>With this all the images will be 500 pixels wide</p>
<p>The default is 250.</p>
</li>
</ul>
</div>
<div class="section" id="media-url-check-py">
<h2>media_url_check.py<a class="headerlink" href="#media-url-check-py" title="Permalink to this headline">¶</a></h2>
<p>This script checks the urls of all the media activities in uploaded courses.
This helps to prevent your users getting file not found errors when downloading
the videos included in your courses.</p>
<p>Usage: <code class="docutils literal"><span class="pre">python</span> <span class="pre">media_url_check.py</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this script to run successfully, you will need to have the your
virtualenv activiated (if applicable) and environment variables set to point
to your Django settings file - similar to how you set up the
<a class="reference internal" href="install.html#installcron"><em>OppiaMobile cron task</em></a></p>
</div>
</div>
<div class="section" id="oppia-schema-xsd">
<h2>oppia-schema.xsd<a class="headerlink" href="#oppia-schema-xsd" title="Permalink to this headline">¶</a></h2>
<p>This is the XML Schema Definition for the course XML file, it is used by the
OppiaMobile server to check that any courses uploaded are valid OppiaMobile
course packages.</p>
</div>
<div class="section" id="tidy-upload-dir-py">
<h2>tidy_upload_dir.py<a class="headerlink" href="#tidy-upload-dir-py" title="Permalink to this headline">¶</a></h2>
<p>This script checks the upload course directory (as defined in the Django
settings.py file) for any course packages that are now obsolete.</p>
<p>Usage: <code class="docutils literal"><span class="pre">tidy_upload_dir.py</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this script to run successfully, you will need to have the your
virtualenv activiated (if applicable) and environment variables set to point
to your Django settings file - similar to how you set up the
<a class="reference internal" href="install.html#installcron"><em>OppiaMobile cron task</em></a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Utilities</a><ul>
<li><a class="reference internal" href="#cartodb-update-py">cartodb_update.py</a></li>
<li><a class="reference internal" href="#ip2location-py">ip2location.py</a></li>
<li><a class="reference internal" href="#media-scan-py">media-scan.py</a></li>
<li><a class="reference internal" href="#media-url-check-py">media_url_check.py</a></li>
<li><a class="reference internal" href="#oppia-schema-xsd">oppia-schema.xsd</a></li>
<li><a class="reference internal" href="#tidy-upload-dir-py">tidy_upload_dir.py</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api.html"
                        title="previous chapter">REST API</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="custom/index.html"
                        title="next chapter">Customisation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/utilities.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="custom/index.html" title="Customisation"
             >next</a> |</li>
        <li class="right" >
          <a href="api.html" title="REST API"
             >previous</a> |</li>
        <li><a href="index.html">OppiaMobile 0.5.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Alex Little, Digital Campus.
      Last updated on Oct 29, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>
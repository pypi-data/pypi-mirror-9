
{% macro social_login_btn(type, text, large=False) %}
    <a class="btn btn-block btn-social btn-{{}}" data-btn="">
      <i class="fa fa-twitter"></i>
      Sign in with Twitter
    </a>
{% endmacro %}

{{ social_button(button='facebook', class="btn-lg", **{}) }}



"""
Flask-Pilot Macros
Place your macros in here
"""

# ---- include_css_file() ------------------------------------------------------
{%- macro include_css_file(file) -%}
    {%- if file.startswith('http') or file.startswith('//')  -%}
        {%- set src = file -%}
    {%- else -%}
        {% set src = url_for('static', filename=file) %}
    {%- endif -%}
    <link href="{{ src | safe }}" rel="stylesheet">
{%- endmacro -%}


# ---- include_js_file() ------------------------------------------------------
{%- macro include_js_file(file) -%}
    {%- if file.startswith('http') or file.startswith('//')  -%}
        {%- set src = file -%}
    {%- else -%}
        {%- set src = url_for('static', filename=file) -%}
    {%- endif -%}
    <script type="text/javascript" src="{{ src | safe }}"></script>
{%- endmacro -%}


# ---- img_src() ------------------------------------------------------
{% macro img_src(file, attributes={}) %}
    {%- if file.startswith('http') or file.startswith('//')  %}
        {% set src = file %}
    {% else %}
        {% set src = url_for('static', filename=file) %}
    {% endif -%}

    <img src="{{ src | safe}}"
            {%- for k, v in attributes.items() %}
                {{ k | safe}}="{{ v | safe}}"
            {% endfor -%}
            >
{% endmacro %}


# ---- static_url() ------------------------------------------------------
{% macro static_url(url) %}
    {%- if not file.startswith('http') and not file.startswith('//')  %}
        {% set url = url_for('static', filename=file) %}
    {% endif -%}
    {{ url | safe }}
{% endmacro %}


# ---- google_analytics() ------------------------------------------------------

{% macro google_analytics(code) %}
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', '{{ code }}', 'auto');
	  ga('send', 'pageview');
	</script>
{% endmacro %}


#---- show_flashed_messages() -------------------------------------------------------
# Render the flashed messages set
{% macro show_flashed_messages(dismissible=True) %}
    {% for category, message in get_flashed_messages(with_categories=True) %}
        <div class="alert
            alert-{{category|replace('error', 'danger')}}
            {% if dismissible %}alert-dismissible{%endif%}
            " role="alert">
            {% if dismissible %}
             <button type="button" class="close" data-dismiss="alert">
                 <span aria-hidden="true">&times;</span>
                 <span class="sr-only">Close</span>
             </button>
            {%endif%}
            {{message}}
        </div>
    {%endfor%}
{% endmacro %}



#---- alert_message() ----------------------------------------------------------
{% macro alert_message(message, category="info", dismissible=False) %}
    <div class="alert
        alert-{{category|replace('error', 'danger')}}
        {% if dismissible %}alert-dismissible{%endif%}
        " role="alert">
        {% if dismissible %}
         <button type="button" class="close" data-dismiss="alert">
             <span aria-hidden="true">&times;</span>
             <span class="sr-only">Close</span>
         </button>
        {%endif%}
        {{message}}
    </div>
{% endmacro %}


#---- show_pagination() --------------------------------------------------------
{% macro show_pagination(paginator, endpoint, kwargs={}) %}

    <ul class="pagination">
      {%- if paginator.has_prev %}
        <li><a href="{{ url_for(endpoint, page=paginator.prev_num, **kwargs) }}"
         rel="me prev">«</a></li>
      {% else %}
        <li class="disabled"><span>«</span></li>
      {%- endif %}

      {%- for page in paginator.pages %}
        {% if page %}
          {% if page != paginator.page %}
            <li><a href="{{ url_for(endpoint, page=page, **kwargs) }}"
             rel="me">{{ page }}</a></li>
          {% else %}
            <li class="current"><span>{{ page }}</span></li>
          {% endif %}
        {% else %}
          <li><span class=ellipsis>…</span></li>
        {% endif %}
      {%- endfor %}

      {%- if paginator.has_next %}
        <li><a href="{{ url_for(endpoint, page=paginator.next_num, **kwargs) }}"
         rel="me next">»</a></li>
      {% else %}
        <li class="disabled"><span>»</span></li>
      {%- endif %}
    </ul>
{% endmacro %}


#----
{#
== Form Helpers ==

Macros to create form input, select, radio, checkbox, textarea compatible to BS3


::Input: @value

    {{ f.form_tag('input', 'name', value='John') }}
    -> <input name='name' type='text' value='John' class="form-control" />

    {{ f.form_tag('input', 'fileSelect', type='file') }}
    -> <input name='fileSelect' type='file' class="form-control" />

::Textarea: @value

    {{ f.form_tag('textarea', 'feedback', value='Irving') }}
    -> <textarea name='feedback' class="form-control" >Irving</textarea>

:: Button: @type, @value

    {{ f.form_tag('button', 'my_button', type='submit', value='Save')}}
    -> <button name="my_button" type="submit">Save</button>

    {{ f.form_tag('button', 'submit', type='submit')}}
    -> <button name="submit" type="submit">Submit</button>

:: Checkbox: @options=[[k, v], [k, v]], @checked=[]

    {{ f.form_tag('checkbox', 'test', options=[[1,'Male'], [2,'Female']], checked=[1]) }}
     <div class='checkbox-group' >
        <label for='1'  >Male</label>
        <input name='test' type='checkbox' value='1' checked='checked' />
     </div>
    <div class='checkbox-group' >
        <label for='2'  >Female</label>
        <input name='test' type='checkbox' value='2'  />
    </div>

:: Radio: @options=[[k, v], [k, v]], @checked=[]

    {{ f.form_tag('radio', 'test', options=[[1,'Male'], [2,'Female']], checked=[1]) }}
     <div class='radio-group' >
        <label for='1'  >Male</label>
        <input name='test' type='radio' value='1' checked='checked' />
     </div>
    <div class='radio-group' >
        <label for='2'  >Female</label>
        <input name='test' type='radio' value='2'  />
    </div>

:: Select: @options=[[k, v], [k, v]], @selected

    {{ f.form_tag('select', 'gender', options=[['m', 'Male'], ['f', 'Female']], selected='f') }}
      <select name="gender">
        <option value="m">Male</option>
        <option value="f" selected="selected">Female</option>
      </select>
#}

{% macro form_tag(_tag, name) %}
    {% set _class = kwargs.pop('class', 'form-control') %}

    {# input #}
    {% if _tag == "input" %}
        {% set _type = kwargs.pop('type', 'text') %}
        <input name='{{name}}' class="{{_class}}" type='{{_type}}'  {% for key in kwargs %}{{key}}='{{kwargs[key]|safe}}'{% endfor %} />

    {# textarea: @value #}
    {% elif _tag == "textarea" %}
        {% set value = kwargs.pop('value', '') %}
        <textarea name='{{name}}' class="{{_class}}" {% for key in kwargs %}{{key}}='{{kwargs[key]|safe}}'{% endfor %} >{{value}}</textarea>

    {# button: @text=str, @type=str #}
    {% elif _tag == "button" %}
        {% set _type = kwargs.pop('type', 'button') %}
        {% set value = kwargs.pop('text', '') %}
        <button name='{{name}}' class="{{_class}}" type='{{_type}}' {% for key in kwargs %}{{key}}='{{kwargs[key]|safe}}'{% endfor %} >{{ value if text is defined and value != "" else (name|capitalize()) }}</button>

    {# radio|checkbox: @checked=[], @options=[[k, v], [k,v]], @display_inline=bool #}
    {% elif _tag in ['radio', 'checkbox'] %}
        {% set checked = kwargs.pop('checked', []) %}
        {% set options = kwargs.pop('options', []) %}
        {% set display_inline = kwargs.pop('display_inline', False) %}
        {% for item in options %}
            <div class='{{_tag}}-{% if display_inline %}inline{% else %}group{% endif %}' >
                <label for="{{ item[0] }}">
                    <input name='{{name}}' type='{{_tag}}' value='{{item[0]}}' {% if item[0] in checked %}checked='checked'{% endif %} {% for key in kwargs %}{{key}}='{{kwargs[key]|safe}}'{% endfor %}/>
                    {{ item[1] }}
                </label>
            </div>
        {% endfor %}


    {# select: @options=[[k, v], [k, v]], @selected=str #}
    {% elif _tag == "select" %}
        {% set selected = kwargs.pop('selected', '') %}
        {% set options = kwargs.pop('options', []) %}
        <select name='{{name}}' {% for key in kwargs %}{{key}}='{{kwargs[key]|safe}}'{% endfor %} >
            {% for item in options %}
            <option value='{{item[0]|safe}}' {% if item[0] == default %}selected='selected'{% endif %} >{{item[1] if item[1] is defined else item[0] }}</option>
            {% endfor %}
        </select>

    {% endif %}

{% endmacro %}

{#:: Form-Group

    Same as form_tag, except it wrap it in from-group
#}
{% macro form_group(_tag, name) %}
    {% set label = kwargs.pop('label', '') %}
    <div class='form-group'>
        {{ form_label(name, label) }}
        {{ form_tag(_tag, name, **kwargs) }}
    </div>
{% endmacro %}

{#:: Label

    {{ f.label('name', 'First name')  }}
    -> <label for='name' >First name</label>

    {{ f.label('name') }}
    -> <label for='name'>Name</label>

    {{ f.label('name', class='label', id='name-label') }}
    -> <label for='name' class='label' id='name-label' >Name</label>
#}
{% macro form_label(for_name, title) %}
    <label for='{{for_name}}' {% for key in kwargs %}{{key}}='{{kwargs[key]|safe}}'{% endfor %} >{{ (title) if (title is defined and title != "") else (for_name|capitalize()) }}</label>
{% endmacro %}




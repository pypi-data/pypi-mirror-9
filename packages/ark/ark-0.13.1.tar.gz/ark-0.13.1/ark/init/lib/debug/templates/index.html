{% extends "base.html" %}

{% block title %}
    {% if flags.is_dir_index %}
        Directory Index
    {% else %}
        Tag Index
    {% endif %}
{% endblock %}

{% block content %}

    <h2>Records</h2>
    <ul>
        {% for record in records %}
            <li>
                <a href="{{ record.url }}">{{ record.title or "Untitled Record" }}</a>
            </li>
        {% empty %}
            <li>No records to display.</li>
        {% endfor %}
    </ul>
    <hr>

    {% if paging.is_paged %}
        <h2>Paging ({{ paging.page }} of {{ paging.total }})</h2>
        <ul>
            <li><a href="{{ paging.first_url }}">First</a></li>
            {% if paging.prev_url %}
                <li><a href="{{ paging.prev_url }}">Previous</a></li>
            {% endif %}
            {% if paging.next_url %}
                <li><a href="{{ paging.next_url }}">Next</a></li>
            {% endif %}
            <li><a href="{{ paging.last_url }}">Last</a></li>
        </ul>
        <hr>
    {% endif %}

    <h2>Page Context</h2>
    {% for dict in context.stack %}
        <pre>{{ dict|pprint|pygmentize:'python' }}</pre>
    {% endfor %}

{% endblock %}
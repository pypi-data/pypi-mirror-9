<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>HTML Forms and Markup &mdash; flatland 0.0.hg-tip documentation</title>
    
    <link rel="stylesheet" href="_static/flatland.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.hg-tip',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="flatland 0.0.hg-tip documentation" href="index.html" />
    <link rel="next" title="Signals" href="signals.html" />
    <link rel="prev" title="Included Validators" href="validation/builtin.html" /> 
  </head>
  <body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="html-forms-and-markup">
<h1>HTML Forms and Markup<a class="headerlink" href="#html-forms-and-markup" title="Permalink to this headline">¶</a></h1>
<p>Flatland is not explicitly a form library, although it handles that task
handily with powerful type conversion and validation error reporting.
Dedicated form libraries often provide sophisticated &#8220;widget&#8221; or &#8220;control&#8221;
features to render data fields as complex HTML markup with CSS and JavaScript
support.  The full expression of these features is outside Flatland&#8217;s scope.</p>
<p>However!  Properly generating HTML form tags and filling them with processed
data is tedious and a common need, so Flatland ships with a minimalistic yet
powerful toolset for tag generation.  These tools are both highly usable as-is
and also a solid base for constructing higher-level widgeting systems.</p>
<div class="section" id="markup-generation">
<h2>Markup Generation<a class="headerlink" href="#markup-generation" title="Permalink to this headline">¶</a></h2>
<p>The generation formula is simple: a desired tag (such as <tt class="docutils literal"><span class="pre">input</span></tt>) plus a
flatland Element equals a complete HTML tag with attributes like <tt class="docutils literal"><span class="pre">name</span></tt> and
<tt class="docutils literal"><span class="pre">value</span></tt> filled in using the element&#8217;s state.</p>
<p>Operating on <tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt> rather than the raw HTTP input or the
polished final value provides a huge amount of expressive power.  For example,</p>
<ul class="simple">
<li>Elements carry their validation errors- place these directly next to the
form fields, or roll them up- your choice.  Highlight failing fields with a
<tt class="docutils literal"><span class="pre">class=&quot;error&quot;</span></tt> CSS attribute right on the input element.</li>
<li>(Re)populate form fields with exactly what the user typed, or the normalized
version.</li>
<li>Leverage the structure of the schema in template markup- if a form contains
a list of 1 or more email addresses, loop over that list using your template
language and render fields.</li>
<li>Directly access Element properties and metadata, translation functions, and
cross-element relations to implement complex view problems simply.</li>
</ul>
<p>Flatland ships with two generator front-ends, both supporting the same
features via a shared backend.  The first,
<a class="reference internal" href="#flatland.out.markup.Generator" title="flatland.out.markup.Generator"><tt class="xref py py-class docutils literal"><span class="pre">Generator</span></tt></a>, is for use in straight Python code,
Jinja2, Mako, Genshi, or any other templating system.  The second is a plugin
for the Genshi templating library that integrates Flatland element binding
directly and naturally into your existing &lt;input/&gt; tags.</p>
<div class="section" id="basic-dwim-binding">
<h3>Basic DWIM Binding<a class="headerlink" href="#basic-dwim-binding" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flatland.out.markup</span> <span class="kn">import</span> <span class="n">Generator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flatland</span> <span class="kn">import</span> <span class="n">Form</span><span class="p">,</span> <span class="n">String</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">html</span> <span class="o">=</span> <span class="n">Generator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Login</span><span class="p">(</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">username</span> <span class="o">=</span> <span class="n">String</span>
<span class="gp">... </span>    <span class="n">password</span> <span class="o">=</span> <span class="n">String</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">form</span> <span class="o">=</span> <span class="n">Login</span><span class="p">({</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;jek&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>Basic &#8220;Do What I Mean&#8221; form binding:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">])</span>
<span class="go">&lt;input name=&quot;username&quot; value=&quot;jek&quot; /&gt;</span>
</pre></div>
</div>
<p>Likewise with Genshi.</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">form:bind=</span><span class="s">&quot;form.username&quot;/</span><span class="nt">&gt;</span>
</pre></div>
</div>
<p>and Genshi generates:</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span> <span class="na">value=</span><span class="s">&quot;jek&quot;/</span><span class="nt">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="attributes-too">
<h3>Attributes Too<a class="headerlink" href="#attributes-too" title="Permalink to this headline">¶</a></h3>
<p>Any HTML attribute can be included.  Generated attributes can be overridden,
too.</p>
<p>This time, the Generator is used in a Jinja2 template.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Template</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">{{ html.input(form.username, name=&quot;other&quot;, class_=&quot;custom&quot;) }}</span>
<span class="gp">... </span><span class="s">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">html</span><span class="o">=</span><span class="n">html</span><span class="p">,</span> <span class="n">form</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>
<span class="go">&lt;input name=&quot;other&quot; value=&quot;jek&quot; class=&quot;custom&quot; /&gt;</span>
</pre></div>
</div>
<p>These features are very similar in Genshi, too.</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">form:bind=</span><span class="s">&quot;form.username&quot;</span> <span class="na">name=</span><span class="s">&quot;other&quot;</span> <span class="na">class=</span><span class="s">&quot;custom&quot;/</span><span class="nt">&gt;</span>
</pre></div>
</div>
<p>Which generates the same output:</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">&quot;other&quot;</span> <span class="na">value=</span><span class="s">&quot;jek&quot;</span> <span class="na">class=</span><span class="s">&quot;custom&quot;/</span><span class="nt">&gt;</span>
</pre></div>
</div>
<p>Many Python templating systems allow you to replace the indexing operator
(<tt class="docutils literal"><span class="pre">form['username']</span></tt>) with the attribute operator (<tt class="docutils literal"><span class="pre">form.username</span></tt>) to
improve readability in templates.  As shown above, this kind of rewriting
trickery is generally not a problem for Flatland.  Just keep name collisions
in mind- if your form has a String field called <tt class="docutils literal"><span class="pre">name</span></tt>, is <tt class="docutils literal"><span class="pre">form.name</span></tt> the
value of your form&#8217;s name attribute or is it the String field?  When writing
macros or reusable functions, using the explicit <tt class="docutils literal"><span class="pre">form[...]</span></tt> index syntax is
a good choice to protect against unexpected mangling by the template system no
matter what the fields are named.</p>
</div>
<div class="section" id="and-more">
<h3>And More<a class="headerlink" href="#and-more" title="Permalink to this headline">¶</a></h3>
<p>The tag and attribute generation behavior can be configured and even
post-processed just as you like it, affecting all of your tags, just one
template, a block, or even individual tags.</p>
</div>
</div>
<div class="section" id="controlling-attribute-transformations">
<h2>Controlling Attribute Transformations<a class="headerlink" href="#controlling-attribute-transformations" title="Permalink to this headline">¶</a></h2>
<p>Out of the box, generation will do everything required for form element
rendering and repopulation: filling <tt class="docutils literal"><span class="pre">&lt;textarea&gt;s</span></tt>, checking checkboxes, etc.
Flatland can also generate some useful <em>optional</em> attributes, such as <tt class="docutils literal"><span class="pre">id=</span></tt>
and <tt class="docutils literal"><span class="pre">for=</span></tt> linking for <tt class="docutils literal"><span class="pre">&lt;label&gt;s</span></tt>.  Generation of attributes is controlled
with markup options at several levels:</p>
<dl class="docutils">
<dt>Global:</dt>
<dd>Everything generated with a Generator instance or within a Genshi
rendering operation.</dd>
<dt>Block:</dt>
<dd>Options can be overridden within the scope of a block, reverting to their
previous value at the end of the block.</dd>
<dt>Tag:</dt>
<dd>Options can overridden on a per-tag basis.</dd>
<dt>Default:</dt>
<dd>Finally, each tag has a set of sane default behaviors.</dd>
</dl>
<p>Boolean options may be True, or False, &#8220;on&#8221; or &#8220;off&#8221;, or set to &#8220;auto&#8221; to
revert to the transformation&#8217;s built-in default setting.</p>
</div>
<div class="section" id="transformations">
<span id="markupsettings"></span><h2>Transformations<a class="headerlink" href="#transformations" title="Permalink to this headline">¶</a></h2>
<p>Most transforms require a Flatland element for context, such as setting an
<tt class="docutils literal"><span class="pre">input</span></tt> tag&#8217;s <tt class="docutils literal"><span class="pre">value=</span></tt> to the element&#8217;s Unicode value.  These tags can be
said to be &#8220;bound&#8221; to the element.</p>
<p>Tags need not be bound, however.  Here an unbound <tt class="docutils literal"><span class="pre">textarea</span></tt> can still
participate in <tt class="docutils literal"><span class="pre">tabindex=</span></tt> generation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">html</span> <span class="o">=</span> <span class="n">Generator</span><span class="p">(</span><span class="n">tabindex</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">textarea</span><span class="p">()</span>
<span class="go">&lt;textarea&gt;&lt;/textarea&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">textarea</span><span class="p">(</span><span class="n">auto_tabindex</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;textarea tabindex=&quot;100&quot;&gt;&lt;/textarea&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">html</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">auto_tabindex</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">u&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">textarea</span><span class="p">()</span>
<span class="go">&lt;textarea tabindex=&quot;101&quot;&gt;&lt;/textarea&gt;</span>
</pre></div>
</div>
<p>Setting a boolean option to &#8220;on&#8221; or True on the tag itself will always attempt
to apply the transform, allowing the transform to be applied to arbitrary tags
that normally would not be transformed.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="s">&#39;squiznart&#39;</span><span class="p">,</span> <span class="n">auto_tabindex</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;squiznart tabindex=&quot;102&quot; /&gt;</span>
</pre></div>
</div>
<p>The Python APIs and the Generator tags use &#8220;_&#8221;-separated transform names
(valid Python identifiers) as shown below, however please note that Genshi
uses XML-friendly &#8220;-&#8220;-separated attribute names in markup.</p>
<dl class="describe">
<dt>
<tt class="descname">auto-name</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Default :</th><td class="field-body">on</td>
</tr>
<tr class="field-even field"><th class="field-name">Tags :</th><td class="field-body">button, form, input, select, textarea</td>
</tr>
</tbody>
</table>
<p>Sets the tag <tt class="docutils literal"><span class="pre">name=</span></tt> to the bound element&#8217;s <tt class="xref py py-attr docutils literal"><span class="pre">.name</span></tt>.
Takes no action if the tag already contains a <tt class="docutils literal"><span class="pre">name=</span></tt> attribute, unless
forced.</p>
<p>Receives a <tt class="docutils literal"><span class="pre">name=</span></tt> attribute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;jek&quot; /&gt;</span>
</pre></div>
</div>
<p>Uses the explicitly provided <tt class="docutils literal"><span class="pre">name=&quot;foo&quot;</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;jek&quot; /&gt;</span>
</pre></div>
</div>
<p>Replaces <tt class="docutils literal"><span class="pre">name=&quot;foo&quot;</span></tt> with the element&#8217;s name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">auto_name</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;jek&quot; /&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">auto-value</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Default :</th><td class="field-body">on</td>
</tr>
<tr class="field-even field"><th class="field-name">Tags :</th><td class="field-body">button, input, select, textarea</td>
</tr>
</tbody>
</table>
<p>Uses the bound element&#8217;s <tt class="xref py py-attr docutils literal"><span class="pre">.u</span></tt> Unicode value for the tag&#8217;s
value.  The semantics of &#8220;value&#8221; vary by tag.</p>
<p><tt class="docutils literal"><span class="pre">&lt;input&gt;</span></tt> types <strong>text</strong>, <strong>hidden</strong>, <strong>button</strong>, <strong>submit</strong> and <strong>reset</strong>:</p>
<blockquote>
<div><p>Sets the <tt class="docutils literal"><span class="pre">value=&quot;&quot;</span></tt> attribute of the tag, or omits the attribute if
<tt class="xref py py-attr docutils literal"><span class="pre">.u</span></tt> is the empty string.</p>
<p>Receives a <tt class="docutils literal"><span class="pre">value=</span></tt> attribute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;jek&quot; /&gt;</span>
</pre></div>
</div>
<p>Uses the explicitly provided <tt class="docutils literal"><span class="pre">value=&quot;quux&quot;</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;quux&#39;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;quux&quot; /&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;input&gt;</span></tt> types <strong>password</strong>, <strong>image</strong> and <strong>file</strong>:</p>
<blockquote>
<div><p>No value is added unless forced by setting auto_value on the tag.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;password&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;</span>
</pre></div>
</div>
<p>But this behavior can be forced:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;password&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span><span class="p">,</span> <span class="n">auto_value</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;password&quot; name=&quot;password&quot; value=&quot;secret&quot; /&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;input&gt;</span></tt> type <strong>radio</strong>:</p>
<blockquote>
<div><p>Radio buttons will add a <tt class="docutils literal"><span class="pre">checked=&quot;checked&quot;</span></tt> attribute if the literal
<tt class="docutils literal"><span class="pre">value=</span></tt> matches the element&#8217;s value.  Or, if the bind is a
<tt class="xref py py-class docutils literal"><span class="pre">Container</span></tt>, <tt class="docutils literal"><span class="pre">value=</span></tt> will be compared against the
<tt class="xref py py-attr docutils literal"><span class="pre">.u</span></tt> of each of the container&#8217;s children until a match is
found.</p>
<p>If the tag lacks a <tt class="docutils literal"><span class="pre">value=</span></tt> attribute, no action is taken.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">u</span>
<span class="go">jek</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;quux&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;radio&quot; name=&quot;username&quot; value=&quot;quux&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;jek&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;radio&quot; name=&quot;username&quot; value=&quot;jek&quot; checked=&quot;checked&quot; /&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;input&gt;</span></tt> type <strong>checkbox</strong>:</p>
<blockquote>
<div><p>Check boxes will add a <tt class="docutils literal"><span class="pre">checked=&quot;checked&quot;</span></tt> attribute if the literal
<tt class="docutils literal"><span class="pre">value=</span></tt> matches the element&#8217;s value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">u</span>
<span class="go">jek</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;quux&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;username&quot; value=&quot;quux&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;jek&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;username&quot; value=&quot;jek&quot; checked=&quot;checked&quot; /&gt;</span>
</pre></div>
</div>
<p>Or, if the bind is a <tt class="xref py py-class docutils literal"><span class="pre">Container</span></tt>, <tt class="docutils literal"><span class="pre">value=</span></tt> will be
compared against the <tt class="xref py py-attr docutils literal"><span class="pre">.u</span></tt> of each of the container&#8217;s
children until a match is found.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flatland</span> <span class="kn">import</span> <span class="n">Array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Bag</span> <span class="o">=</span> <span class="n">Array</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="s">&#39;bag&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bag</span> <span class="o">=</span> <span class="n">Bag</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">bag</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;bag&quot; value=&quot;a&quot; checked=&quot;checked&quot; /&gt;</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;bag&quot; value=&quot;b&quot; /&gt;</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;bag&quot; value=&quot;c&quot; checked=&quot;checked&quot; /&gt;</span>
</pre></div>
</div>
<p>If the tag lacks a <tt class="docutils literal"><span class="pre">value=</span></tt> attribute, no action is taken, unless the bind
is a Boolean.  The missing <tt class="docutils literal"><span class="pre">value=</span></tt> will be added using the schema&#8217;s
<tt class="xref py py-attr docutils literal"><span class="pre">Boolean.true</span></tt> value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;username&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">flatland</span> <span class="kn">import</span> <span class="n">Boolean</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toggle</span> <span class="o">=</span> <span class="n">Boolean</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="s">&#39;toggle&#39;</span><span class="p">)()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">toggle</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;toggle&quot; value=&quot;1&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toggle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">toggle</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">)</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;toggle&quot; value=&quot;1&quot; checked=&quot;checked&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toggle</span><span class="o">.</span><span class="n">true</span> <span class="o">=</span> <span class="s">&quot;yes&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;input&gt;</span></tt> types unknown:</p>
<blockquote>
<div>For types unknown to flatland, no value is set unless forced by setting
<tt class="docutils literal"><span class="pre">form:auto-value=&quot;on&quot;</span></tt> on the tag.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;textarea&gt;</span></tt>:</p>
<blockquote>
<div><p>Textareas will insert the <tt class="xref py py-attr docutils literal"><span class="pre">Element.u</span></tt> inside the tag pair.  Content
supplied with <tt class="docutils literal"><span class="pre">contents=</span></tt> for Generators or between Genshi tags will be
preferred unless forced.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">textarea</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">])</span>
<span class="go">&lt;textarea name=&quot;username&quot;&gt;jek&lt;/textarea&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">html</span><span class="o">.</span><span class="n">textarea</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s">&#39;username&#39;</span><span class="p">],</span> <span class="n">contents</span><span class="o">=</span><span class="s">&quot;quux&quot;</span><span class="p">)</span>
<span class="go">&lt;textarea name=&quot;username&quot;&gt;quux&lt;/textarea&gt;</span>
</pre></div>
</div>
<p>Note that in Genshi, these two forms are equivalent.</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="c">&lt;!-- these: --&gt;</span>
<span class="nt">&lt;textarea</span> <span class="na">form:bind=</span><span class="s">&quot;form.username&quot;/</span><span class="nt">&gt;</span>
<span class="nt">&lt;textarea</span> <span class="na">form:bind=</span><span class="s">&quot;form.username&quot;</span><span class="nt">&gt;&lt;/textarea&gt;</span>

<span class="c">&lt;!-- will both render as --&gt;</span>
<span class="nt">&lt;textarea</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span><span class="nt">&gt;</span>jek<span class="nt">&lt;/textarea&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;select&gt;</span></tt>:</p>
<blockquote>
<div><p>Select tags apply a <tt class="docutils literal"><span class="pre">selected=&quot;selected&quot;</span></tt> attribute to their
<tt class="xref py py-obj docutils literal"><span class="pre">&lt;option&gt;</span></tt> tags that match the <tt class="xref py py-attr docutils literal"><span class="pre">Element.u</span></tt> or, if the bind is
a <tt class="xref py py-class docutils literal"><span class="pre">Container</span></tt>, the <tt class="xref py py-attr docutils literal"><span class="pre">.u</span></tt> of one of its
children.</p>
<p>For this matching to work, the <tt class="docutils literal"><span class="pre">&lt;option&gt;</span></tt> tags must have a literal
value set in the markup.  The value may an explicit <tt class="docutils literal"><span class="pre">value=</span></tt>
attribute, or it may be the text of the tag.  Leading and trailing
whitespace will be stripped when considering the text of the tag as
the value.</p>
<p>The below will emit <tt class="docutils literal"><span class="pre">selected=&quot;selected&quot;</span></tt> if form.field is equal
to any of &#8220;a&#8221;, &#8220;b&#8221;, &#8220;c&#8221;, and &#8220;d&#8221;.</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="nt">&lt;select</span> <span class="na">form:bind=</span><span class="s">&quot;form.field&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;option&gt;</span>a<span class="nt">&lt;/option&gt;</span>
   <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;b&quot;/</span><span class="nt">&gt;</span>
   <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;c&quot;</span><span class="nt">&gt;</span>label<span class="nt">&lt;/option&gt;</span>
   <span class="nt">&lt;option&gt;</span>
     d
   <span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">&lt;button/&gt;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;button</span> <span class="pre">value=&quot;&quot;/&gt;</span></tt>:</p>
<blockquote>
<div><p>Regular <tt class="docutils literal"><span class="pre">&lt;button/&gt;</span></tt> tags will insert the <tt class="xref py py-attr docutils literal"><span class="pre">Element.u</span></tt> inside
the <tt class="docutils literal"><span class="pre">&lt;button&gt;&lt;/button&gt;</span></tt> tag pair.  The output will <strong>not</strong> be
XML-escaped, allowing any markup in the <tt class="xref py py-attr docutils literal"><span class="pre">.u</span></tt> to
render properly.</p>
<p>If the tag contains a literal <tt class="docutils literal"><span class="pre">value=</span></tt> attribute and a value
override is forced by setting <tt class="docutils literal"><span class="pre">form:auto-value=&quot;on&quot;</span></tt>, the
<tt class="xref py py-attr docutils literal"><span class="pre">.u</span></tt> will be placed in the <tt class="docutils literal"><span class="pre">value=</span></tt> attribute,
replacing the existing content.  The value is escaped in this case.</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="c">&lt;!-- set or replace the inner *markup* --&gt;</span>
<span class="nt">&lt;button</span> <span class="na">form:bind=</span><span class="s">&quot;form.field&quot;/</span><span class="nt">&gt;</span>
<span class="nt">&lt;button</span> <span class="na">form:bind=</span><span class="s">&quot;form.field&quot;</span> <span class="na">form:auto-value=</span><span class="s">&quot;on&quot;</span><span class="nt">&gt;</span>xyz<span class="nt">&lt;/button&gt;</span>

<span class="c">&lt;!-- set the value, retaining the value= style used in the original --&gt;</span>
<span class="nt">&lt;button</span> <span class="na">form:bind=</span><span class="s">&quot;form.field&quot;</span> <span class="na">value=</span><span class="s">&quot;xyz&quot;</span> <span class="na">form:auto-value=</span><span class="s">&quot;on&quot;/</span><span class="nt">&gt;</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<span class="target" id="auto-domid"></span><dl class="describe">
<dt>
<tt class="descname">auto-domid</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Default :</th><td class="field-body">off</td>
</tr>
<tr class="field-even field"><th class="field-name">Tags :</th><td class="field-body">button, input, select, textarea</td>
</tr>
</tbody>
</table>
<p>Sets the <tt class="docutils literal"><span class="pre">id=</span></tt> attribute of the tag.  Takes no action if the markup
already contains a <tt class="docutils literal"><span class="pre">id=</span></tt> unless forced by setting
<tt class="docutils literal"><span class="pre">form:auto-domid=&quot;on&quot;</span></tt>.</p>
<p>The id is generated by combining the bound element&#8217;s
<tt class="xref py py-meth docutils literal"><span class="pre">flattened_name</span></tt> with the
<tt class="docutils literal"><span class="pre">domid-format</span></tt> in the current scope.  The default format is
<strong>f_%s</strong>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">auto-for</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Default :</th><td class="field-body">on</td>
</tr>
<tr class="field-even field"><th class="field-name">Tags :</th><td class="field-body">label</td>
</tr>
</tbody>
</table>
<p>Sets the <tt class="docutils literal"><span class="pre">for=</span></tt> attribute of the tag to the id of the bound element.
The id is generated using the same process as <a class="reference internal" href="#auto-domid">auto-domid</a>.  No
consistency checks are performed on the generated id value.</p>
<p>Defaults to &#8220;on&#8221;, and will only apply if <a class="reference internal" href="#auto-domid">auto-domid</a> is also &#8220;on&#8221;.
Takes no action if the markup already contains a <tt class="docutils literal"><span class="pre">id=</span></tt> unless forced
by setting <tt class="docutils literal"><span class="pre">form:auto-for=&quot;on&quot;</span></tt>.</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="nt">&lt;form:with</span> <span class="na">auto-domid=</span><span class="s">&quot;on&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fieldset</span> <span class="na">py:with=</span><span class="s">&quot;</span><span class="n">field</span><span class="o">=</span><span class="n">form</span><span class="o">.</span><span class="n">field</span><span class="s">&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">form:bind=</span><span class="s">&quot;field&quot;</span><span class="nt">&gt;</span><span class="cp">${</span><span class="n">field</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">x</span><span class="cp">}</span><span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">form:bind=</span><span class="s">&quot;field&quot;/</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/fieldset&gt;</span>
<span class="nt">&lt;/form:with&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">auto-tabindex</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Default :</th><td class="field-body">off</td>
</tr>
<tr class="field-even field"><th class="field-name">Tags :</th><td class="field-body">button, input, select, textarea</td>
</tr>
</tbody>
</table>
<p>Sets the <tt class="docutils literal"><span class="pre">tabindex</span></tt> attribute of tags with an incrementing integer.</p>
<p>Numbering starts at the scope&#8217;s <tt class="docutils literal"><span class="pre">tabindex</span></tt>, which has no default.
Assigning a value for <tt class="docutils literal"><span class="pre">tabindex</span></tt> will set the value for the next
tabindex assignment, and subsequent assignments will increment by one.</p>
<p>A <tt class="docutils literal"><span class="pre">tabindex</span></tt> value of 0 will block the assignment of a tabindex and
will not be incremented.</p>
<p>Takes no action if the markup already contains a <tt class="docutils literal"><span class="pre">tabindex=</span></tt> unless
forced by setting <tt class="docutils literal"><span class="pre">form:auto-tabindex=&quot;on&quot;</span></tt>.</p>
<div class="highlight-html+genshi"><div class="highlight"><pre><span class="nt">&lt;form:with</span> <span class="na">auto-tabindex=</span><span class="s">&quot;on&quot;</span> <span class="na">tabindex=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- assigns tabindex=&quot;1&quot; --&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">form:bind=</span><span class="s">&quot;form.field&quot;/</span><span class="nt">&gt;</span>

  <span class="c">&lt;!-- leaves existing tabindex in place --&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">tabindex=</span><span class="s">&quot;-1&quot;</span> <span class="na">form:bind=</span><span class="s">&quot;form.field&quot;/</span><span class="nt">&gt;</span>

  <span class="c">&lt;!-- assigns tabindex=&quot;2&quot; --&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">form:auto-tabindex=</span><span class="s">&quot;on&quot;/</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form:with&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="generator">
<h2>Generator<a class="headerlink" href="#generator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flatland.out.markup.Generator">
<em class="property">class </em><tt class="descname">Generator</tt><big>(</big><em>markup=u'xhtml'</em>, <em>**settings</em><big>)</big><a class="headerlink" href="#flatland.out.markup.Generator" title="Permalink to this definition">¶</a></dt>
<dd><p>General XML/HTML tag generator</p>
<p>Create a generator.</p>
<p>Accepts any <a class="reference internal" href="#markupsettings"><em>Transformations</em></a>, as well as the following:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>markup</strong> &#8211; tag output style: <tt class="docutils literal"><span class="pre">'xml'</span></tt>, <tt class="docutils literal"><span class="pre">'xhtml'</span></tt> or <tt class="docutils literal"><span class="pre">'html'</span></tt></li>
<li><strong>ordered_attributes</strong> &#8211; if True (default), output markup attributes
in a predictable order.  Useful for tests and generally a little
more pleasant to read.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="flatland.out.markup.Generator.begin">
<tt class="descname">begin</tt><big>(</big><em>**settings</em><big>)</big><a class="headerlink" href="#flatland.out.markup.Generator.begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Begin a new <a class="reference internal" href="#markupsettings"><em>Transformations</em></a> context.</p>
<p>Puts **settings into effect until a matching <a class="reference internal" href="#flatland.out.markup.Generator.end" title="flatland.out.markup.Generator.end"><tt class="xref py py-meth docutils literal"><span class="pre">end()</span></tt></a> is called.
Each setting specified will mask the current value, reverting when
<a class="reference internal" href="#flatland.out.markup.Generator.end" title="flatland.out.markup.Generator.end"><tt class="xref py py-meth docutils literal"><span class="pre">end()</span></tt></a> is called.</p>
</dd></dl>

<dl class="method">
<dt id="flatland.out.markup.Generator.end">
<tt class="descname">end</tt><big>(</big><big>)</big><a class="headerlink" href="#flatland.out.markup.Generator.end" title="Permalink to this definition">¶</a></dt>
<dd><p>End a <a class="reference internal" href="#markupsettings"><em>Transformations</em></a> context.</p>
<p>Restores the settings that were in effect before <a class="reference internal" href="#flatland.out.markup.Generator.begin" title="flatland.out.markup.Generator.begin"><tt class="xref py py-meth docutils literal"><span class="pre">begin()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="flatland.out.markup.Generator.set">
<tt class="descname">set</tt><big>(</big><em>**settings</em><big>)</big><a class="headerlink" href="#flatland.out.markup.Generator.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the <a class="reference internal" href="#markupsettings"><em>Transformations</em></a> in effect.</p>
<p>Change the **settings in the current scope.  Changes remain in
effect until another <a class="reference internal" href="#flatland.out.markup.Generator.set" title="flatland.out.markup.Generator.set"><tt class="xref py py-meth docutils literal"><span class="pre">set()</span></tt></a> or a <a class="reference internal" href="#flatland.out.markup.Generator.end" title="flatland.out.markup.Generator.end"><tt class="xref py py-meth docutils literal"><span class="pre">end()</span></tt></a> ends the current
scope.</p>
</dd></dl>

<dl class="attribute">
<dt id="flatland.out.markup.Generator.form">
<tt class="descname">form</tt><a class="headerlink" href="#flatland.out.markup.Generator.form" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <tt class="docutils literal"><span class="pre">&lt;form/&gt;</span></tt> tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If provided with a bind, form tags can generate the <em>name</em> attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="flatland.out.markup.Generator.input">
<tt class="descname">input</tt><a class="headerlink" href="#flatland.out.markup.Generator.input" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an <tt class="docutils literal"><span class="pre">&lt;input/&gt;</span></tt> tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If provided with a bind, input tags can generate the <em>name</em>, <em>value</em>
and <em>id</em> attributes.  Input tags support <em>tabindex</em> attributes.</p>
</dd></dl>

<dl class="attribute">
<dt id="flatland.out.markup.Generator.textarea">
<tt class="descname">textarea</tt><a class="headerlink" href="#flatland.out.markup.Generator.textarea" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <tt class="docutils literal"><span class="pre">&lt;textarea/&gt;</span></tt> tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If provided with a bind, textarea tags can generate the <em>name</em> and
<em>id</em> attributes.  If the bind has a value, it will be used as the tag
body.  Textarea tags support <em>tabindex</em> attributes.  To provide an
alternate tag body, either supply <em>contents</em> or use the
<a class="reference internal" href="#flatland.out.markup.Tag.open" title="flatland.out.markup.Tag.open"><tt class="xref py py-meth docutils literal"><span class="pre">open()</span></tt></a> and <a class="reference internal" href="#flatland.out.markup.Tag.close" title="flatland.out.markup.Tag.close"><tt class="xref py py-meth docutils literal"><span class="pre">close()</span></tt></a> method of the returned tag.</p>
</dd></dl>

<dl class="attribute">
<dt id="flatland.out.markup.Generator.button">
<tt class="descname">button</tt><a class="headerlink" href="#flatland.out.markup.Generator.button" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <tt class="docutils literal"><span class="pre">&lt;button/&gt;</span></tt> tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If provided with a bind, button tags can generate the <em>name</em>, <em>value</em>,
and <em>id</em> attributes.  Button tags support <em>tabindex</em> attributes.</p>
</dd></dl>

<dl class="attribute">
<dt id="flatland.out.markup.Generator.select">
<tt class="descname">select</tt><a class="headerlink" href="#flatland.out.markup.Generator.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <tt class="docutils literal"><span class="pre">&lt;select/&gt;</span></tt> tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If provided with a bind, select tags can generate the <em>name</em> and <em>id</em>
attributes.  Select tags support <em>tabindex</em> attributes.</p>
</dd></dl>

<dl class="attribute">
<dt id="flatland.out.markup.Generator.option">
<tt class="descname">option</tt><a class="headerlink" href="#flatland.out.markup.Generator.option" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an <tt class="docutils literal"><span class="pre">&lt;option/&gt;</span></tt> tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If provided with a bind, option tags can generate the <em>value</em>
attribute.  To provide tag body, either supply <em>contents</em> or use the
<a class="reference internal" href="#flatland.out.markup.Tag.open" title="flatland.out.markup.Tag.open"><tt class="xref py py-meth docutils literal"><span class="pre">open()</span></tt></a> and <a class="reference internal" href="#flatland.out.markup.Tag.close" title="flatland.out.markup.Tag.close"><tt class="xref py py-meth docutils literal"><span class="pre">close()</span></tt></a> method of the returned tag:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">option</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s">&#39;bold&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;&lt;strong&gt;contents&lt;/strong&gt;&#39;</span>
<span class="k">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">option</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="flatland.out.markup.Generator.label">
<tt class="descname">label</tt><a class="headerlink" href="#flatland.out.markup.Generator.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <tt class="docutils literal"><span class="pre">&lt;label/&gt;</span></tt> tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>If provided with a bind, label tags can generate the <em>for</em> attribute
and fill in the tag body with the element&#8217;s
<tt class="xref py py-attr docutils literal"><span class="pre">label</span></tt>, if present.</p>
</dd></dl>

<dl class="method">
<dt id="flatland.out.markup.Generator.tag">
<tt class="descname">tag</tt><big>(</big><em>tagname</em>, <em>bind=None</em>, <em>**attributes</em><big>)</big><a class="headerlink" href="#flatland.out.markup.Generator.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate any tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tagname</strong> &#8211; the name of the tag.</li>
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired XML/HTML attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a printable <a class="reference internal" href="#flatland.out.markup.Tag" title="flatland.out.markup.Tag"><tt class="xref py py-class docutils literal"><span class="pre">Tag</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>The attribute rules appropriate for <em>tagname</em> will be applied.  For
example, <tt class="docutils literal"><span class="pre">tag('input')</span></tt> is equivalent to <tt class="docutils literal"><span class="pre">input()</span></tt>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flatland.out.markup.Tag">
<em class="property">class </em><tt class="descname">Tag</tt><big>(</big><em>tagname</em>, <em>context</em>, <em>dangle</em>, <em>paired</em><big>)</big><a class="headerlink" href="#flatland.out.markup.Tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A printable markup tag.</p>
<p>Tags are generated by <a class="reference internal" href="#flatland.out.markup.Generator" title="flatland.out.markup.Generator"><tt class="xref py py-class docutils literal"><span class="pre">Generator</span></tt></a> and are usually called
immediately, returning a fully formed markup string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">textarea</span><span class="p">(</span><span class="n">contents</span><span class="o">=</span><span class="s">&quot;hello!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more fine-tuned control over your markup, you may instead choose to
use the <a class="reference internal" href="#flatland.out.markup.Tag.open" title="flatland.out.markup.Tag.open"><tt class="xref py py-meth docutils literal"><span class="pre">open()</span></tt></a> and <a class="reference internal" href="#flatland.out.markup.Tag.close" title="flatland.out.markup.Tag.close"><tt class="xref py py-meth docutils literal"><span class="pre">close()</span></tt></a> methods of the tag:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">textarea</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;hello!&quot;</span>
<span class="k">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">textarea</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="flatland.out.markup.Tag.open">
<tt class="descname">open</tt><big>(</big><em>bind=None</em>, <em>**attributes</em><big>)</big><a class="headerlink" href="#flatland.out.markup.Tag.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the opening half of the tag, e.g. <tt class="docutils literal"><span class="pre">&lt;p&gt;</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bind</strong> &#8211; optional, a flatland element.</li>
<li><strong>**attributes</strong> &#8211; any desired tag attributes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flatland.out.markup.Tag.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#flatland.out.markup.Tag.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the closing half of the tag, e.g. <tt class="docutils literal"><span class="pre">&lt;/p&gt;</span></tt>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="genshi-directives">
<h2>Genshi Directives<a class="headerlink" href="#genshi-directives" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>http://ns.discorporate.us/flatland/genshi</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/flatland.png" alt="Logo"/>
            </a></p>
  <h3>Contents</h3>
  <ul>
    <li><ul>
<li><a class="reference internal" href="#">HTML Forms and Markup</a><ul>
<li><a class="reference internal" href="#markup-generation">Markup Generation</a><ul>
<li><a class="reference internal" href="#basic-dwim-binding">Basic DWIM Binding</a></li>
<li><a class="reference internal" href="#attributes-too">Attributes Too</a></li>
<li><a class="reference internal" href="#and-more">And More</a></li>
</ul>
</li>
<li><a class="reference internal" href="#controlling-attribute-transformations">Controlling Attribute Transformations</a></li>
<li><a class="reference internal" href="#transformations">Transformations</a></li>
<li><a class="reference internal" href="#generator">Generator</a></li>
<li><a class="reference internal" href="#genshi-directives">Genshi Directives</a></li>
</ul>
</li>
</ul>
</li>
  </ul>
<h3>Topics</h3>
<ul>
  <li><ul>
      <li>Previous: <a href="validation/builtin.html" title="previous chapter">Included Validators</a></li>
      <li>Next: <a href="signals.html" title="next chapter">Signals</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2013, the flatland authors and contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>
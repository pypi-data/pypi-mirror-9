.\" Man page generated from reStructuredText.
.
.TH "SNA2SKOOL.PY" "1" "February 14, 2015" "4.3" "SkoolKit"
.SH NAME
sna2skool.py \- convert a snapshot into a skool file
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBsna2kool.py\fP [options] FILE
.SH DESCRIPTION
.sp
\fBsna2kool.py\fP converts a binary (raw memory) file or a SNA, SZX or Z80
snapshot into a skool file. The skool file is written to stdout.
.SH OPTIONS
.INDENT 0.0
.TP
.B \-c, \-\-ctl \fIFILE\fP
Specify the control file to use. By default, any control file whose name
(minus the .ctl suffix) matches the input snapshot name (minus
the .bin, .sna, .szx or .z80 suffix, if any) will be used, if present.
.TP
.B \-g, \-\-generate\-ctl \fIFILE\fP
Generate a control file in \fIFILE\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-ctl\-hex
Write hexadecimal addresses in the generated control file.
.TP
.B \-H\fP,\fB  \-\-skool\-hex
Write hexadecimal addresses and operands in the disassembly.
.UNINDENT
.INDENT 0.0
.TP
.B \-l, \-\-defm\-size \fICHARS\fP
Set the maximum number of characters that may appear in a DEFM statement; the
default number is 66.
.UNINDENT
.INDENT 0.0
.TP
.B \-L\fP,\fB  \-\-lower
Write the disassembly in lower case.
.UNINDENT
.INDENT 0.0
.TP
.B \-m, \-\-defb\-mod \fIMOD\fP
Group DEFB blocks by addresses that are divisible by \fIMOD\fP\&.
.TP
.B \-M, \-\-map \fIFILE\fP
Specify a code execution map to use when generating a control file. Code
execution maps produced by the Fuse, SpecEmu, Spud, Zero and Z80 Spectrum
emulators are supported.
.TP
.B \-n, \-\-defb\-size \fIBYTES\fP
Set the maximum number of bytes that may appear in a DEFB statement; the
default number is 8.
.TP
.B \-o, \-\-org \fIADDR\fP
Specify the origin address of a binary (.bin) file; the default origin
address is 65536 minus the length of the file.
.TP
.B \-p, \-\-page \fIPAGE\fP
Specify the page (0\-7) of a 128K snapshot to map to 49152\-65535.
.UNINDENT
.INDENT 0.0
.TP
.B \-r\fP,\fB  \-\-no\-erefs
Every routine entry point is decorated with a comment that lists the other
routines that use it (unless an alternative comment is defined in a control
file). This option suppresses those comments.
.TP
.B \-R\fP,\fB  \-\-erefs
Decorate every routine entry point with a comment that lists the other
routines that use it; the comment will precede any additional comment defined
in a control file.
.UNINDENT
.INDENT 0.0
.TP
.B \-s, \-\-start \fIADDR\fP
Specify the address at which to start disassembling; the default start
address is 16384.
.UNINDENT
.INDENT 0.0
.TP
.B \-t\fP,\fB  \-\-text
Show ASCII text in the comment fields of the disassembly.
.UNINDENT
.INDENT 0.0
.TP
.B \-T, \-\-sft \fIFILE\fP
Specify the skool file template to use. By default, any skool file template
whose name (minus the .sft suffix) matches the input snapshot name (minus
the .bin, .sna, .szx or .z80 suffix, if any) will be used, if present.
.UNINDENT
.INDENT 0.0
.TP
.B \-V\fP,\fB  \-\-version
Show the SkoolKit version number and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-w, \-\-line\-width \fIWIDTH\fP
Set the maximum line width of the skool file (79 by default). This option has
no effect when creating a skool file from a skool file template.
.UNINDENT
.INDENT 0.0
.TP
.B \-z\fP,\fB  \-\-defb\-zfill
Pad decimal values in DEFB statements with leading zeroes.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
Convert \fBgame.z80\fP into a skool file named \fBgame.skool\fP:
.nf

.in +2
\fBsna2skool.py game.z80 > game.skool\fP
.in -2
.fi
.sp
.IP 2. 3
Convert \fBgame.sna\fP into a skool file, beginning the disassembly at 24576:
.nf

.in +2
\fBsna2skool.py \-s 24576 game.sna > game.skool\fP
.in -2
.fi
.sp
.IP 3. 3
Convert \fBgame.z80\fP into a skool file, using the control file
\fBblocks.ctl\fP to identify code and data blocks:
.nf

.in +2
\fBsna2skool.py \-c blocks.ctl game.z80 > game.skool\fP
.in -2
.fi
.sp
.IP 4. 3
Generate a control file (using rudimentary static code analysis) for
\fBgame.z80\fP named \fBgame.ctl\fP and use it to produce a corresponding skool
file:
.nf

.in +2
\fBsna2skool.py \-g game.ctl game.z80 > game.skool\fP
.in -2
.fi
.sp
.IP 5. 3
Generate a control file (using a profile produced by the Fuse emulator) for
\fBgame.z80\fP named \fBgame.ctl\fP and use it to produce a corresponding skool
file:
.nf

.in +2
\fBsna2skool.py \-M game.profile \-g game.ctl game.z80 > game.skool\fP
.in -2
.fi
.sp
.IP 6. 3
Convert \fBgame.szx\fP into a skool file, using the skool file template
\fBblocks.sft\fP:
.nf

.in +2
\fBsna2skool.py \-T blocks.sft game.szx > game.skool\fP
.in -2
.fi
.sp
.UNINDENT
.SH AUTHOR
Richard Dymond
.SH COPYRIGHT
2015, Richard Dymond
.\" Generated by docutils manpage writer.
.

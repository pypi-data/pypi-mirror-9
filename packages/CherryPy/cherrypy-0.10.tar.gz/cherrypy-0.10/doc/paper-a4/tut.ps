%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: tut.dvi
%%Pages: 61
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Helvetica Helvetica-Oblique Times-Roman Times-Bold
%%+ Helvetica-Bold Courier Times-Italic
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -N0 -t a4 tut.dvi -o tut.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2004.03.19:0735
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (tut.dvi)
@start /Fa 133[50 50 50 72 50 55 28 50 33 55 55 55 55
83 22 50 1[22 55 55 28 55 55 50 55 55 11[72 61 66 72
1[66 78 72 1[55 2[28 72 1[61 66 1[72 66 66 1[55 4[28
3[55 55 55 55 55 55 2[28 33 28 2[33 33 40[{
TeXBase1Encoding ReEncodeFont}53 99.6264 /Helvetica rf
/Fb 134[50 50 50 50 50 50 50 50 1[50 50 50 50 50 50 1[50
50 50 50 50 50 50 50 50 12[50 50 50 1[50 12[50 4[50 50
50 1[50 10[50 50 50 3[50 50 5[50 34[{TeXBase1Encoding ReEncodeFont}38
83.022 /Courier rf /Fc 134[37 37 55 37 42 23 32 32 42
42 42 42 60 23 37 1[23 42 42 23 37 42 37 42 42 1[42 1[32
1[32 1[46 4[46 42 51 1[51 60 55 69 46 2[28 60 60 51 51
60 55 51 51 2[56 56 2[28 6[42 42 42 42 23 21 28 1[56
1[28 28 28 4[35 31[42 2[{TeXBase1Encoding ReEncodeFont}61
83.022 /Times-Italic rf /Fd 134[40 4[40 3[40 40 40 5[40
104[{TeXBase1Encoding ReEncodeFont}6 66.4176 /Courier
rf /Fe 134[33 1[48 33 33 18 26 22 1[33 33 33 52 18 33
1[18 33 33 22 29 33 29 33 29 22 6[48 1[63 2[41 3[37 6[22
48 4[44 44 48 6[18 5[33 33 33 33 2[17 22 17 2[22 22 22
39[{TeXBase1Encoding ReEncodeFont}43 66.4176 /Times-Roman
rf /Ff 205[25 25 49[{TeXBase1Encoding ReEncodeFont}2
49.8132 /Times-Roman rf /Fg 205[29 29 49[{TeXBase1Encoding ReEncodeFont}
2 58.1154 /Times-Roman rf /Fh 21[45 45 45 45 6[45 98[45
1[45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 1[45 1[45 45 45 1[45 1[45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
33[{TeXBase1Encoding ReEncodeFont}93 74.7198 /Courier
rf /Fi 134[60 60 86 60 66 33 60 40 66 66 66 66 100 27
60 1[27 66 66 33 66 66 60 66 66 12[73 80 86 1[80 2[100
66 3[86 2[80 86 86 11[66 66 66 66 66 66 66 2[33 1[33
41[60 2[{TeXBase1Encoding ReEncodeFont}44 119.552 /Helvetica
rf /Fj 167[80 113 80 86 73 80 86 2[93 86 1[73 2[33 86
93 73 80 69[{TeXBase1Encoding ReEncodeFont}15 119.552
/Helvetica-Bold rf /Fk 134[42 42 60 42 46 23 42 28 1[46
46 46 69 18 42 1[18 46 46 23 46 46 42 46 46 10[55 60
51 55 60 1[55 65 1[69 46 3[60 65 51 55 60 60 1[55 6[23
46 46 46 46 46 46 46 46 46 46 23 23 28 23 10[23 30[42
2[{TeXBase1Encoding ReEncodeFont}56 83.022 /Helvetica
rf /Fl 105[42 27[37 42 42 60 42 46 28 32 37 46 46 42
46 69 23 46 28 23 46 42 28 37 46 37 46 42 9[83 60 60
55 46 60 65 51 65 60 78 55 65 1[32 65 65 51 55 60 60
55 60 1[42 4[28 42 42 42 42 42 42 42 42 42 42 23 21 28
21 2[28 28 28 4[46 28 30[46 2[{TeXBase1Encoding ReEncodeFont}71
83.022 /Times-Bold rf
%DVIPSBitmapFont: Fm cmsy10 10 2
/Fm 2 16 df<923803FFC0033F13FC4AB67E020715E0913A1FFE007FF8DA7FE0EB07FE4A
C87ED903FCED3FC0D907F0ED0FE0D90FC0ED03F049486F7E49CA7E017E177E4983498348
48EF0F80000319C04917074848EF03E0000F19F049170148CC12F8A2001E1978003E197C
A2003C193C007C193EA20078191EA300F8191FA248190FAA6C191FA20078191EA3007C19
3EA2003C193C003E197CA2001E1978001F19F8A26C6CEF01F06D1703000719E06C6CEF07
C06D170F000119806C6CEF1F006D5F017E177E6D5F6D6C4B5A6D6C4B5AD907F0ED0FE0D9
03FCED3FC0D900FF03FFC7FCDA7FE0EB07FEDA1FFEEB7FF80207B612E002011580DA003F
01FCC8FC030313C0484E7BBB53>13 D<EB1FF0EBFFFE487F000714C04814E04814F04814
F8A24814FCA3B612FEA96C14FCA36C14F8A26C14F06C14E06C14C0000114006C5BEB1FF0
1F1F7BA42A>15 D E
%EndDVIPSBitmapFont
/Fn 133[37 42 42 60 42 42 23 32 28 42 42 42 42 65 23
42 23 23 42 42 28 37 42 37 42 37 28 42 5[60 60 78 60
60 51 46 55 1[46 60 60 74 51 60 32 28 60 60 46 51 60
55 55 60 76 37 47 1[47 23 23 42 42 42 42 42 42 42 42
42 42 23 21 28 21 2[28 28 28 1[69 2[34 28 29[46 46 2[{
TeXBase1Encoding ReEncodeFont}80 83.022 /Times-Roman
rf /Fo 134[37 37 54 37 42 21 37 25 1[42 42 42 62 17 1[17
17 42 42 21 42 42 37 42 42 1[42 5[50 4[46 50 54 1[50
58 54 62 4[54 1[46 50 54 54 2[76 42 1[44 2[21 1[42 2[42
1[42 42 42 42 21 21 7[50 35[37 2[{TeXBase1Encoding ReEncodeFont}51
74.7198 /Helvetica rf /Fp 141[33 4[78 28 2[28 50 4[44
1[44 19[89 7[61 10[28 50 4[50 1[50 50 50 3[25 44[{
TeXBase1Encoding ReEncodeFont}16 99.6264 /Times-Roman
rf /Fq 144[80 80 120 32 2[32 3[80 18[104 13[104 68[{
TeXBase1Encoding ReEncodeFont}8 143.462 /Helvetica rf
/Fr 140[72 6[32 6[80 3[80 14[104 32[80 80 1[40 46[{
TeXBase1Encoding ReEncodeFont}8 143.462 /Helvetica-Oblique
rf /Fs 134[103 1[149 103 115 57 103 69 1[115 115 115
172 46 103 1[46 115 115 57 115 115 103 115 115 10[138
149 126 138 149 1[138 161 149 172 115 3[149 161 1[138
149 149 1[138 1[115 4[57 12[69 57 10[57 30[103 2[{
TeXBase1Encoding ReEncodeFont}44 206.559 /Helvetica rf
end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 0 83 3901 9 v 2309 446 a Fs(Cherr)6 b(yPy)57
b(T)-25 b(utor)s(ial)3055 676 y Fr(Release)38 b(0.10)3151
1927 y Fq(Remi)g(Delon)3266 4132 y Fp(March)25 b(19,)g(2004)2975
5317 y(Email:)k Fo(remi@cherr)r(yp)n(y)-7 b(.org)p eop
%%Page: 2 2
2 1 bop 0 83 a Fn(Cop)o(yright)380 80 y(c)357 83 y Fm(\015)20
b Fn(2002-2004)d(CherryPy)i(T)-6 b(eam)20 b(\(team@cherryp)o(y)-5
b(.or)o(g\))15 b(All)20 b(rights)g(reserv)o(ed.)0 230
y(See)h(the)f(end)f(of)h(this)h(document)d(for)i(complete)f(license)h
(and)g(permissions)f(information.)p eop
%%Page: 1 3
1 2 bop 1796 2289 a Fl(Abstract)0 2519 y Fn(CherryPy)25
b(is)i(a)g(Python)e(based)h(web)h(de)n(v)o(elopment)c(toolkit.)43
b(It)27 b(pro)o(vides)d(all)j(the)g(features)e(of)h(an)h
(enterprise-class)e(application)0 2619 y(serv)o(er)19
b(while)i(remaining)d(light,)i(f)o(ast)h(and)e(easy)h(to)h(learn.)0
2766 y(CherryPy)14 b(allo)n(ws)i(de)n(v)o(elopers)d(to)i(b)n(uild)g
(web)g(applications)f(in)i(much)e(the)i(same)f(w)o(ay)g(the)o(y)g(w)o
(ould)g(b)n(uild)f(an)o(y)h(other)f(object-oriented)0
2865 y(Python)19 b(program.)k(This)d(usually)g(results)g(in)h(smaller)f
(source)f(code)h(de)n(v)o(eloped)d(in)k(less)g(time.)0
3012 y(It)f(runs)g(on)g(most)g(platforms)f(\(e)n(v)o(erywhere)e(Python)
j(runs\))f(and)h(it)g(is)i(a)n(v)n(ailable)d(under)g(the)h(GPL)h
(license.)0 3159 y(CherryPy)e(is)i(no)n(w)e(nearly)h(tw)o(o)g(years)g
(old)f(and)h(it)h(is)g(has)f(pro)o(v)o(en)e(v)o(ery)h(f)o(ast)h(and)g
(stable.)25 b(It)c(is)g(being)e(used)g(in)i(production)c(by)j(man)o(y)0
3259 y(sites,)h(from)e(the)h(simplest)h(ones)f(to)g(the)h(most)f
(demanding)d(ones.)0 3405 y(Oh,)j(and)g(most)g(importantly:)j(CherryPy)
c(is)i(fun)f(to)g(w)o(ork)g(with)g(:-\))p eop
%%Page: 2 4
2 3 bop eop
%%Page: 1 5
1 4 bop 2764 747 a Fs(CONTENTS)0 1594 y Fl(1)83 b(Do)o(wnloading,)19
b(installing)h(and)h(running)g(the)f(demo)2087 b(1)125
1694 y Fn(1.1)110 b(Prerequisite)30 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)143 b(1)125 1793 y(1.2)110 b(Do)n(wnloading)18
b(and)i(installing)66 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(1)125 1893
y(1.3)110 b(Running)19 b(the)h(demo)62 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)143 b(1)125 1993 y(1.4)110 b(Stopping)19 b(the)h(serv)o(er)31
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(2)0 2175
y Fl(2)83 b(Concepts)20 b(used)h(in)g(CherryPy)2761 b(3)125
2275 y Fn(2.1)110 b(Creation)20 b(of)g(a)h(website)30
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(3)125 2374 y(2.2)110
b(Handling)19 b(of)h(requests)46 b(.)c(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143
b(3)125 2474 y(2.3)110 b(Programming)18 b(a)i(website)75
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(3)0 2657 y Fl(3)83 b(Cr)o(eating)18
b(a)j(\002rst)f(website:)26 b(Hello,)19 b(w)o(orld)i(!)2372
b(5)0 2839 y(4)83 b(Cr)o(eating)18 b(a)j(\002rst)f(dynamic)h(website:)k
(Hello,)19 b(y)n(ou)h(!)2127 b(7)0 3022 y(5)83 b(T)-8
b(emplating)20 b(languages:)k(CHTL)d(and)g(CGTL)2260
b(9)125 3122 y Fn(5.1)110 b(T)-7 b(ags)24 b(.)41 b(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(9)125
3221 y(5.2)110 b(Putting)20 b(it)h(together)75 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(13)0 3404 y Fl(6)83
b(V)m(iews,)20 b(functions)g(and)h(mor)o(e)2755 b(15)125
3504 y Fn(6.1)110 b(Dif)n(ferent)19 b(architectures)g(for)h(a)g(web)g
(site)i(source)d(code)39 b(.)j(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(15)125 3603 y(6.2)110 b(More)20 b(e)o(xamples)f(on)h(using)f
(functions,)g(masks)h(and)g(vie)n(ws)g(together)65 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)102 b(19)0 3786 y Fl(7)83 b(Class,)20 b(instance,)g(method)g
(and)h(URL)2512 b(25)0 3968 y(8)83 b(Using)20 b(OOP)g(to)g(pr)o(ogram)f
(a)h(website)2520 b(27)0 4151 y(9)83 b(Using)20 b(se)o(v)o(eral)g
(modules)2906 b(31)0 4334 y(10)41 b(HTTP)20 b(and)h(cookie-based)e
(authentication)2300 b(33)0 4516 y(11)41 b(Handling)20
b(HTML)h(f)n(orms)2859 b(35)0 4699 y(12)41 b(Con\002guring)19
b(CherryPy)2891 b(37)125 4799 y Fn(12.1)68 b(Changing)19
b(the)h(port)76 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(37)125 4898 y(12.2)68 b(Serving)19 b(static)i(content)81
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(37)125 4998 y(12.3)68
b(Changing)19 b(the)h(name)g(fo)g(the)g(con\002guration)d(\002le)38
b(.)k(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(38)0 5181 y Fl(13)41 b(Using)20 b(y)n(our)g(o)o(wn)h(con\002guration)
d(options)2362 b(39)p 0 5549 3901 4 v 3882 5649 a Fk(i)p
eop
%%Page: 2 6
2 5 bop 0 83 a Fl(14)41 b(Special)20 b(v)o(ariables)g(and)g(functions)
2593 b(41)125 183 y Fn(14.1)68 b(Special)21 b(v)n(ariables)50
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(41)125
282 y(14.2)68 b(Special)21 b(functions)38 b(.)j(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)102 b(42)125 382 y(14.3)68 b(Examples)37 b(.)k(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(44)0 565
y Fl(15)41 b(Deploying)19 b(y)n(our)h(website)g(f)n(or)g(pr)o(oduction)
2327 b(47)125 664 y Fn(15.1)68 b(Choosing)19 b(you)h(deplo)o(yment)e
(con\002guration)h(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)102 b(47)125 764 y(15.2)68 b(Con\002guration)18
b(\002le)j(options)71 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(50)0
946 y Fl(16)41 b(And)21 b(no)o(w)f(what)g(?)3114 b(53)0
1129 y(17)41 b(History)19 b(and)h(License)2983 b(55)125
1229 y Fn(17.1)68 b(License)44 b(.)e(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)102 b(55)p 0 5549 3901 4 v 0 5649
a Fk(ii)p eop
%%Page: 1 7
1 6 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3641 427
y Fj(ONE)p 0 515 V 295 978 a Fs(Do)m(wnloading,)57 b(installing)g(and)g
(r)s(unning)f(the)3383 1227 y(demo)0 1756 y Fi(1.1)121
b(Prerequisite)0 1988 y Fn(CherryPy)24 b(uses)i(100\045)e(pure)h
(Python,)g(so)g(it)h(runs)f(e)n(v)o(erywhere)e(Python)h(runs)g(\(W)m
(indo)n(ws,)i(Unix,)f(Mac,)i(...\).)39 b(All)26 b(you)e(need)h(is)h(a)0
2088 y(w)o(orking)19 b(distrib)n(ution)g(of)h(Python)f(2.1)g(or)h
(higher)f(on)h(your)f(machine.)0 2415 y Fi(1.2)121 b(Do)n(wnloading)36
b(and)f(installing)0 2648 y Fn(Do)n(wnload)19 b(the)h(latest)h(v)o
(ersion)e(of)h(CherryPy)f(from)g(this)h(page)g Fo(http://www)l(.cherr)r
(yp)n(y)-7 b(.org/do)o(w)o(nlo)o(ad)14 b Fn(and)20 b(unzip/untar)e(the)
i(\002le)0 2795 y(This)g(will)h(create)f(a)h Fl(CherryPy-v)o(ersion/)d
Fn(directory)h(with)h(a)h(fe)n(w)f(\002les)h(and)f(sub-directories)0
3123 y Fi(1.3)121 b(Running)35 b(the)g(demo)0 3355 y
Fn(Go)20 b(to)h(the)f(`)p Fo(demo/)p Fn(')e(directory)h(and)h(type)f
(the)h(follo)n(wing)f(command:)236 3593 y Fh(python)44
b(../cherrypy.py)f(Root.cpy)0 3816 y Fg(1)25 b(2)0 3993
y Fn(This)20 b(will)h(create)f(a)h(\002le)g(called)f(`)p
Fo(RootSer)r(v)n(er)l(.p)n(y)p Fn(')0 4139 y(T)-7 b(o)20
b(run)g(it,)g(just)h(enter:)p 0 4211 1560 4 v 90 4266
a Ff(1)120 4289 y Fe(`)p Fd(python)p Fe(')15 b(must)i(be)h(in)f(your)g
(P)-6 b(A)f(TH)16 b(and)h(it)h(must)f(be)g(v)o(ersion)h(2.1)f(or)g
(higher)90 4347 y Ff(2)120 4370 y Fe(If)f Fc(mak)o(e)k
Fn(is)i(installed)e(on)g(your)e(machine,)h(you)h(can)g(just)g(type)g(`)
p Fb(make)p Fn(')p 0 5549 3901 4 v 3854 5649 a Fk(1)p
eop
%%Page: 2 8
2 7 bop 236 174 a Fh([remi@serveur)43 b(demo]$)h(python)g
(RootServer.py)236 266 y(Reading)g(parameters)f(from)h(RootServer.cfg)f
(...)236 357 y(Calling)h(initServer\(\))f(...)236 448
y(Reading)h(gaz)g(station)g(database)f(for)i(the)f(Prestation)f(demo)h
(...)236 540 y(Done)g(reading)g(database)236 631 y(Starting)g(Httpd)g
(service)f(...)236 722 y(Server)h(parameters:)236 814
y(portOrUnixFile:)f(8000)236 905 y(numberOfProcs:)g(1)236
996 y(staticContentList:)f([\('images',)h('images'\)])236
1088 y(Serving)h(on)g(8000)0 1374 y Fn(Then)19 b(open)h(a)g(web)g(bro)n
(wser)f(an)h(type)g(in)g(the)h(URL:)g Fo(http://localhost:8000)o(/)-6
b Fn(,)21 b(and)e(v)n(oila)0 1521 y(Y)-9 b(ou)22 b(can)h(play)f(around)
f(with)h(the)h(demo)f(website)h(called)f Fl(Pr)o(estation)f
Fn(or)i(with)g(the)f(little)i(tests)g(that)e(demonstrate)f(a)j(fe)n(w)e
(of)h(Cher)n(-)0 1620 y(ryPy')-5 b(s)20 b(capabilities.)0
1948 y Fi(1.4)121 b(Stopping)35 b(the)f(ser)t(v)m(er)0
2181 y Fn(In)20 b(most)g(cases,)h(you)e(can)h(just)h(stop)f(the)g(serv)
o(er)g(by)f(hitting)h("Ctrl-C".)0 2327 y(This)30 b(will)h(not)f(w)o
(ork)f(if)i(you')l(re)d(using)h(Python-2.1)f(or)h(Python-2.2)f(on)h(W)m
(indo)n(ws)h(and)f(the)h Fc(timeoutsoc)n(k)o(et.py)f
Fn(module)g(is)i(not)0 2427 y(installed.)25 b(In)20 b(that)g(case,)g
(you)g(can)g(stop)g(the)g(serv)o(er)f(by)h(hitting)g("Ctrl-Break".)0
2574 y(If)28 b(you')l(re)d(on)j(a)g(unix-based)d(system)j(and)f(the)h
(serv)o(er)f(is)h(running)e(in)i(the)f(background,)f(then)h(you)g(can)h
(stop)f(it)i(by)e(typing)f("kill)0 2673 y(<PID>".)0 2820
y(No)n(w)16 b(that)g(we')l(v)o(e)f(do)n(wnloaded)e(CherryPy)i(and)g
(run)g(the)h(demo,)g(it')-5 b(s)17 b(time)f(to)g(understand)e(ho)n(w)h
(a)i(de)n(v)o(eloper)c(can)j(de)n(v)o(elop)e(a)i(website)0
2920 y(using)k(CherryPy)-5 b(...)p 0 5549 3901 4 v 0
5649 a Fk(2)1735 b(Chapter)23 b(1.)52 b(Do)o(wnloading,)25
b(installing)g(and)f(r)q(unning)g(the)f(demo)p eop
%%Page: 3 9
3 8 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3623 427
y Fj(TW)n(O)p 0 515 V 1380 978 a Fs(Concepts)58 b(used)f(in)g(Cherr)6
b(yPy)0 1506 y Fi(2.1)121 b(Creation)35 b(of)f(a)f(w)o(ebsite)0
1739 y Fn(CherryPy)19 b(sits)i(between)f(a)g(compiler)f(and)h(an)g
(application)f(serv)o(er)-5 b(.)125 1944 y Fm(\017)41
b Fn(Lik)o(e)21 b(a)i(compiler)m(,)d(it)j(reads)e(input)g(\002les)i
(and)e(generates)g(an)h(e)o(x)o(ecutable.)28 b(The)21
b(e)o(x)o(ecutable)f(contains)h(e)n(v)o(erything)e(to)j(run)g(the)208
2044 y(website,)e(including)e(its)j(o)n(wn)f(HTTP)g(serv)o(er)-5
b(.)125 2206 y Fm(\017)41 b Fn(Lik)o(e)26 b(an)h(application)f(serv)o
(er)m(,)h(it)g(deli)n(v)o(ers)f(highly-dynamic)e(web)i(sites)i(that)f
(can)g(be)g(link)o(ed)f(to)h(other)f(ressources,)i(lik)o(e)f(a)208
2306 y(database)19 b(for)h(instance.)0 2631 y Fi(2.2)121
b(Handling)35 b(of)f(requests)0 2864 y Fn(In)24 b(a)g(serv)o(er)f
(generated)f(by)i(CherryPy)-5 b(,)23 b(e)n(v)o(ery)g(request)g(from)g
(a)h(client)g(\(for)f(instance,)h(a)h(bro)n(wser)e(requesting)f(an)i
(URL\))g(is)h(trans-)0 2964 y(formed)19 b(into)g(a)i(call)g(to)f(the)g
(method)f(of)h(a)h(class.)k(The)20 b(parameters)f(sent)i(by)f(the)g
(client)g(become)f(the)h(ar)o(guments)e(of)i(the)g(function.)0
3111 y(W)m(ith)25 b(CherryPy)-5 b(,)23 b(website)i(de)n(v)o(elopers)d
(just)j(ha)n(v)o(e)f(to)h(implement)e(those)h(classes)h(and)f(those)h
(methods.)36 b(It)25 b(doesn')o(t)e(matter)h(if)h(the)0
3210 y(parameters)h(are)i(sent)f(with)h(a)g(GET)-6 b(,)27
b(a)g(POST)-6 b(,)28 b(if)g(the)o(y')l(re)d(a)j(short)f(string)g(or)g
(a)h(lar)o(ge)f(\002le)h(that')-5 b(s)28 b(being)e(uploaded.)45
b(The)o(y')l(re)25 b(all)0 3310 y(con)m(v)o(erted)18
b(to)i(a)h(re)o(gular)d(Python)h(string)h(and)g(passed)g(as)h(an)f(ar)o
(gument)e(to)i(the)g(method.)k(It')-5 b(s)21 b(all)f(transparent)f(to)h
(the)h(de)n(v)o(eloper)-5 b(.)0 3635 y Fi(2.3)121 b(Prog)o(r)o(amming)
33 b(a)h(w)o(ebsite)0 3868 y Fn(Input)23 b(\002les)i(for)e(CherryPy)g
(are)h(written)g(using)g(an)g(e)o(xtension)e(to)j(the)f(Python)f
(language.)35 b(This)24 b(e)o(xtension)f(de\002nes)h(some)f(special)0
3968 y(classes)e(called)f Fl(CherryClass)p Fn(.)25 b(It)c(also)f
(de\002nes)g(dif)n(ferent)f(types)h(of)g(methods)f(for)g(those)h
(CherryClasses:)125 4188 y Fm(\017)41 b Fl(functions)p
Fn(:)d(the)o(y)26 b(are)g(used)h(to)g(process)f(some)g(data.)44
b(The)o(y)26 b(are)h(written)f(in)h(re)o(gular)e(Python.)43
b(Functions)26 b(typically)g(tak)o(e)208 4287 y(some)20
b(data)g(as)h(input)e(and)h(return)f(some)h(data)g(\(as)g(opposed)f
(to,)h(say)-5 b(,)20 b(HTML\))f(as)i(output.)125 4449
y Fm(\017)41 b Fl(masks)p Fn(:)24 b(the)o(y)15 b(are)g(used)h(to)f
(render)g(some)g(data.)24 b(The)o(y)14 b(are)i(written)f(in)h(CHTL)g
(or)g(CGTL)g(\(which)e(are)i(CherryPy')-5 b(s)15 b(templating)208
4549 y(languages\).)23 b(Masks)d(typically)g(tak)o(e)g(some)g(data)g
(as)h(input)e(and)h(return)f(HTML)h(\(or)f(XML;)i(Ja)n(v)n(ascript,)e
(...\))25 b(as)c(output.)125 4711 y Fm(\017)41 b Fl(views)p
Fn(:)25 b(a)c(vie)n(w)f(is)h(written)f(in)g(re)o(gular)f(Python.)24
b(V)-5 b(ie)n(ws)20 b(can)g(be)h(used)e(in)i(tw)o(o)f(dif)n(ferent)f(w)
o(ays:)307 4873 y Fl(\226)41 b Fn(the)o(y)30 b(can)f(be)h(used)g(lik)o
(e)g(masks,)j(to)d(render)f(some)h(data.)54 b(In)30 b(this)g(case,)j
(the)d(only)f(dif)n(ference)f(with)i(masks)h(is)g(the)390
4972 y(language)24 b(the)o(y')l(re)g(written)h(in.)40
b(F)o(or)25 b(instance,)h(a)g(page)f(with)g(lots)h(of)f(static)i(data)e
(and)g(only)f(a)i(little)g(bit)g(of)f(dynamic)390 5072
y(data)d(will)h(be)f(best)h(written)f(as)h(a)f(mask)g(\(in)g(CHTL)h(or)
f(CGTL\).)g(A)g(page)g(with)g(lots)h(of)f(dynamic)f(data)h(and)f(only)h
(a)g(bit)390 5172 y(of)e(static)h(data)f(will)h(be)f(best)h(written)f
(as)h(a)f(vie)n(w)g(\(in)g(Python\).)307 5300 y Fl(\226)41
b Fn(the)o(y)21 b(can)g(be)h(used)f(as)h(the)g(link)f(between)f(a)i
(function)e(and)h(a)h(mask.)29 b(In)21 b(this)h(case,)g(the)f(source)g
(code)g(of)g(the)g(vie)n(w)h(will)390 5400 y(typically)e(be:)25
b Fl(apply)20 b(this)h(mask)g(to)f(the)g(r)o(esult)g(of)g(that)g
(function)p 0 5549 3901 4 v 3854 5649 a Fk(3)p eop
%%Page: 4 10
4 9 bop 0 83 a Fn(This)25 b(concept)e(of)h(functions,)f(masks)i(and)f
(vie)n(ws)g(used)g(in)h(CherryClasses)f(is)h(one)f(of)g(the)h(main)f
(feature)f(of)h(CherryPy)-5 b(.)36 b(A)25 b(Cher)n(-)0
183 y(ryClass)31 b(can)f(contain)f(all)h(the)g(information)e(to)i
(process)g(some)g(data)g(and)f(to)i(display)e(the)h(result,)j(making)28
b(it)j(a)g(self-contained)0 282 y(module)19 b(that)h(can)g(be)g(easily)
h(reused)e(or)h(sub-classed.)0 429 y(W)-7 b(e')l(v)o(e)20
b(seen)g(a)h(fe)n(w)f(of)g(the)g(po)n(werful)e(concepts)i(used)f(in)i
(CherryPy)-5 b(.)23 b(More)d(concepts)f(will)i(be)f(described)f(later)m
(,)g(b)n(ut)i(it')-5 b(s)21 b(no)n(w)e(time)0 529 y(to)h(create)g(our)g
(\002rst)h(website...)p 0 5549 3901 4 v 0 5649 a Fk(4)2402
b(Chapter)23 b(2.)52 b(Concepts)23 b(used)g(in)h(Cherr)r(yPy)p
eop
%%Page: 5 11
5 10 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3495 427
y Fj(THREE)p 0 515 V 486 978 a Fs(Creating)57 b(a)h(\002rst)g(w)n
(ebsite:)72 b(Hello)-8 b(,)57 b(w)n(or)s(ld)g(!)0 1468
y Fn(At)21 b(the)f(same)g(le)n(v)o(el)g(as)h(the)f(`)p
Fo(demo/)p Fn(')f(directory)-5 b(,)18 b(create)i(a)g(directory)f
(called)h(`)p Fo(hello/)p Fn('.)0 1614 y(Go)g(to)h(the)f(`)p
Fo(hello/)p Fn(')d(directory)i(and)g(create)h(a)h(\002le)g(called)f(`)p
Fo(Hello)m(.cp)n(y)p Fn(')e(that)i(contain)f(the)i(follo)n(wing)d
(lines:)236 1853 y Fh(CherryClass)43 b(Root:)236 1944
y(mask:)416 2035 y(def)h(index\(self\):)595 2127 y(<html><body>)774
2218 y(Hello,)g(world)g(!)595 2309 y(</body></html>)0
2531 y Fg(1)0 2708 y Fn(T)-7 b(o)20 b(compile)g(the)g(\002le,)g(type:)
236 2946 y Fh(python)44 b(../cherrypy.py)f(Hello.cpy)0
3233 y Fn(This)16 b(will)h(create)f(a)h(\002le)f(called)g(`)p
Fo(HelloSer)r(v)n(er)l(.p)n(y)p Fn(',)e(which)i(contains)f(e)n(v)o
(erything)f(to)i(run)f(the)h(website)h(\(including)d(an)i(HTTP)g(serv)o
(er\).)0 3332 y(T)-7 b(o)20 b(start)h(it,)g(just)f(type:)236
3570 y Fh(python)44 b(HelloServer.py)0 3857 y Fn(T)-7
b(o)20 b(see)h(the)f(page,)g(open)f(a)h(bro)n(wser)f(and)h(type)g(in)g
(the)g(URL:)h Fo(http://localhost:8000/)0 4004 y Fn(What)g(we')l(v)o(e)
e(learned:)125 4217 y Fm(\017)41 b Fn(Source)22 b(\002les)i(for)f
(CherryPy)f(are)h(written)g(using)f(an)i(e)o(xtended)d(v)o(ersion)h(of)
h(the)g(Python)f(language)f(\(some)i(parts)g(use)h(Cher)n(-)208
4316 y(ryPy')-5 b(s)20 b(templating)e(language\))125
4483 y Fm(\017)41 b Fn(Source)19 b(\002lenames)h(for)f(CherryPy)g(ha)n
(v)o(e)h(a)h(`)p Fo(.cp)n(y)p Fn(')e(e)o(xtension)g(and)h(start)h(with)
f(an)g(upper)f(case)h(letter)125 4649 y Fm(\017)41 b
Fn(Just)25 b(lik)o(e)h(an)o(y)e(Python)g(source)h(\002le,)i(CherryPy)d
(source)g(\002les)i(are)f(indentation-sensiti)n(v)o(e.)37
b(See)26 b(the)f(footnotes)f(to)h(\002nd)g(out)208 4748
y(more)19 b(about)g(ho)n(w)h(CherryPy)f(handles)g(indentation.)125
4914 y Fm(\017)41 b Fn(The)24 b Fb(CherryClass)g Fn(k)o(e)o(yw)o(ord)g
(is)i(used)f(just)h(lik)o(e)f(the)g Fb(class)g Fn(k)o(e)o(yw)o(ord)f
(in)h(Python.)39 b(The)25 b(name)f(of)h(the)h(CherryClass)208
5014 y(must)20 b(start)h(with)f(an)g(upper)f(case)h(letter)-5
b(.)p 0 5085 1560 4 v 90 5140 a Ff(1)120 5164 y Fe(Y)e(ou)22
b(can)i(either)g(use)f(4)g(whitespaces)i(or)e(one)g(T)-6
b(AB)22 b(to)h(indent)h(your)g(code.)38 b(It)23 b(is)g(possible)h(to)f
(use)g(more)g(or)g(less)g(than)g(4)g(whitespaces)i(for)e(indenting)i
(\(for)0 5243 y(instance,)d(3)d(whitespaces\))j(by)d(using)h(the)g(-W)f
(option)i(to)e(tell)i(CherryPy)g(about)f(it)g(\(for)g(instance:)28
b(-W)19 b(3\).)28 b(Please)20 b(note)h(that,)f(unlik)o(e)i(Python,)e
(one)g(tab)g(can)g(ne)n(v)o(er)0 5321 y(correspond)f(to)e(2)g
(indentation)j(le)n(v)o(els.)j(It)17 b(al)o(w)o(ays)i(corresponds)f(to)
f(one)h(indentation)i(le)n(v)o(el.)p 0 5549 3901 4 v
3854 5649 a Fk(5)p eop
%%Page: 6 12
6 11 bop 125 83 a Fm(\017)41 b Fn(Inside)26 b(a)h(CherryClass,)h(you)d
(can)i(de\002ne)f(dif)n(ferent)f(sections,)j(lik)o(e)f
Fb(mask)p Fn(,)g Fb(view)g Fn(or)f Fb(function)p Fn(.)43
b(W)-7 b(e')o(ll)28 b(see)f(later)g(on)208 183 y(ho)n(w)19
b(the)o(y)h(are)g(used)g(an)g(what)g(the)o(y)f(mean.)125
349 y Fm(\017)41 b Fn(Inside)19 b(a)i(section,)f(you)f(can)h(de\002ne)f
(methods)h(just)g(lik)o(e)h(you)e(w)o(ould)h(in)g(Python.)k(\(i.e:)h
Fb(def)49 b(index\(self\):)p Fn(\))125 515 y Fm(\017)41
b Fn(The)23 b(body)g(for)g(a)i(mask)f(method)e(isn')o(t)i(written)g(in)
g(Python.)35 b(Instead,)24 b(it')-5 b(s)26 b(written)d(in)i(CHTL)f(or)g
(CGTL)g(which)g(are)g(Cher)n(-)208 614 y(ryPy')-5 b(s)20
b(templating)e(languages.)24 b(W)-7 b(e')o(ll)21 b(learn)f(more)f
(about)h(those)g(languages)e(later)j(on.)125 780 y Fm(\017)41
b Fn(The)19 b(\002le)i(generated)e(by)h(CherryPy)e(from)i(an)g(input)f
(\002le)i(`)p Fo(F)n(oo)m(.cp)n(y)p Fn(')d(is)k(called)e(`)p
Fo(F)n(ooSer)r(v)n(er)l(.p)n(y)p Fn(')125 946 y Fm(\017)41
b Fn(The)19 b(\002le)i(generated)e(by)h(CherryPy)e(is)k(100\045)d(pure)
g(Python)125 1112 y Fm(\017)41 b Fn(When)20 b(the)g(bro)n(wser)f
(requests)h(the)h(page)e(at)i(the)f(root)g(of)g(the)h(website,)f
Fb(root.index)f Fn(gets)i(called)f(and)f(its)j(return)d(v)n(alue)h(is)
208 1212 y(being)f(sent)h(to)h(the)f(bro)n(wser)0 1425
y(No)n(w)g(let')-5 b(s)21 b(add)f(some)g(dynamic)f(functionality)f(to)i
(it...)p 0 5549 3901 4 v 0 5649 a Fk(6)2043 b(Chapter)23
b(3.)52 b(Creating)24 b(a)f(\002rst)f(w)o(ebsite:)29
b(Hello)m(,)24 b(w)o(or)q(ld)g(!)p eop
%%Page: 7 13
7 12 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3561 427
y Fj(FOUR)p 0 515 V 327 978 a Fs(Creating)57 b(a)g(\002rst)h(dynamic)g
(w)n(ebsite:)71 b(Hello)-8 b(,)3456 1227 y(y)l(ou)58
b(!)0 1714 y Fn(Edit)20 b(the)g(\002le)h(`)p Fo(Hello)m(.cp)n(y)p
Fn(')d(that)j(we')l(v)o(e)e(created)g(in)i(the)f(pre)n(vious)e(chapter)
m(,)h(and)g(change)g(it)i(to:)236 1952 y Fh(CherryClass)43
b(Root:)236 2044 y(mask:)416 2135 y(def)h(index\(self,)f(name="you"\):)
595 2226 y(<html><body>)774 2318 y(Hello,)h(<b)h(py-eval="name"></b>)c
(!)774 2409 y(<form)j(py-attr="request.base")d(action="")j
(method="get">)954 2500 y(Enter)g(your)g(name:)g(<input)f(name=name)h
(type=text><br>)954 2592 y(<input)f(type=submit)g(value=OK>)774
2683 y(</form>)595 2774 y(</body></html>)0 3060 y Fn(Recompile)19
b(the)i(\002le)g(and)e(restart)h(the)h(serv)o(er)-5 b(.)24
b(No)n(w)-5 b(,)20 b(refresh)f(the)h(page)f(in)i(your)e(bro)n(wser)-5
b(.)24 b(Y)-9 b(ou)20 b(should)f(see)236 3299 y Fh(Hello,)44
b(you)0 3585 y Fn(follo)n(wed)25 b(by)h(a)g(\002eld)h(where)e(you)h
(can)g(enter)f(some)h(te)o(xt.)43 b(Enter)26 b(your)f(name)g(and)h
(press)g(the)g(OK)h(b)n(utton.)42 b(No)n(w)26 b(the)g(string)g(has)0
3684 y(changed)18 b(to)236 3923 y Fh(Hello,)44 b("your)g(name")0
4209 y Fn(Ho)n(w)20 b(does)g(it)h(w)o(ork)e(?)0 4356
y(This)i(time,)h(the)f Fc(inde)n(x)h Fn(method)e(has)h(a)h(parameter)e
(called)h Fc(name)p Fn(.)28 b(Just)22 b(lik)o(e)f(for)g(an)o(y)f
(Python)h(method,)f(this)h(parameter)f(can)h(ha)n(v)o(e)g(a)0
4455 y(def)o(ault)h(v)n(alue)f(\(in)i(this)g(case,)g
Fc(you)p Fn(\).)31 b(The)22 b(\002rst)h(time)f(the)h(bro)n(wser)e
(displays)h(the)h(page,)f(it)h(doesn')o(t)e(pass)i(an)o(y)e
Fc(name)h Fn(parameter)m(,)f(so)0 4555 y Fc(name)f Fn(will)h(ha)n(v)o
(e)e(its)i(def)o(ault)f(v)n(alue)f(in)i(the)f(function.)0
4702 y(When)g(you)f(\002ll)i(out)e(the)h(te)o(xt)g(\002eld)g(and)f(hit)
i(OK,)f(the)g(bro)n(wser)e(will)j(request)e(the)h(same)g(page,)f(b)n
(ut)h(this)h(time,)f Fc(name)f Fn(will)i(be)f(passed)0
4801 y(as)h(a)g(parameter)d(and)i(it)h(will)g(contain)e(the)h(name)g
(you)f(entered.)0 4948 y(Because)25 b(we)g(used)f Fc(method="g)o(et")g
Fn(in)h(the)f(form,)h(the)g(name)f(parameter)f(will)i(be)g(passed)f
(using)g(the)h(URL)g(\(you)e(can)i(check)e(that)0 5048
y(the)d(URL)h(in)f(your)f(bro)n(wser)g(looks)h(lik)o(e:)26
b Fo(http://localhost:8000)o(/?n)o(ame)o(=y)o(ou)o(rNa)o(me)-6
b Fn(\).)0 5195 y(No)n(w)h(,)21 b(edit)g(`)p Fo(Hello)m(.cp)n(y)p
Fn(')e(and)h(change)g Fc(method="g)o(et")h Fn(to)g Fc(method="post")q
Fn(.)26 b(Recompile)20 b(the)h(\002le,)h(restart)f(the)g(serv)o(er)g
(and)f(redo)h(the)0 5294 y(test:)37 b(it)27 b(w)o(orks)e(e)o(xactly)g
(the)h(same)g(w)o(ay)-5 b(,)27 b(e)o(xcept)e(that)h Fc(name=yourName)e
Fn(doesn')o(t)g(sho)n(w)i(up)f(in)h(the)g(URL.)g(This)g(is)h(because)e
(we)0 5394 y(used)20 b(a)h Fc(POST)26 b Fn(method)19
b(instead)h(of)g(a)g Fc(GET)27 b Fn(method)19 b(for)h(the)g(form.)p
0 5549 3901 4 v 3854 5649 a Fk(7)p eop
%%Page: 8 14
8 13 bop 0 83 a Fn(What)21 b(we')l(v)o(e)e(learned:)125
296 y Fm(\017)41 b Fn(P)o(arameters)25 b(sent)i(by)f(the)h(bro)n(wser)e
(using)h(the)h(URL)g(\(GET\))f(or)g(using)g(a)h(POST)g(are)g(passed)f
(to)h(the)f(method)g(via)g(re)o(gular)208 396 y(Python)19
b(parameters.)25 b(It)c(doesn')o(t)e(matter)i(if)g(it')-5
b(s)21 b(a)g(GET)g(or)g(a)g(POST)-6 b(,)20 b(or)h(if)g(the)f(parameter)
g(is)h(a)g(short)g(string)f(or)g(a)h(lar)o(ge)f(\002le.)208
496 y(It)g(will)h(al)o(w)o(ays)g(be)f(handled)e(the)j(same)f(w)o(ay)125
662 y Fm(\017)41 b Fn(In)22 b(a)i(mask)f(method,)f(you)g(can)h(use)g
(special)g(tags)g(lik)o(e)h Fb(py-eval)e Fn(or)h Fb(py-attr)p
Fn(.)32 b(Those)23 b(tags)g(are)g(part)g(or)g(the)g(CherryPy)208
761 y(templating)18 b(languages.)0 975 y(It')-5 b(s)21
b(no)n(w)e(time)i(to)f(do)g(more)f(intersting)h(things)g(with)g(the)g
(templating)f(languages...)p 0 5549 3901 4 v 0 5649 a
Fk(8)1777 b(Chapter)24 b(4.)51 b(Creating)24 b(a)f(\002rst)f(dynamic)h
(w)o(ebsite:)30 b(Hello)m(,)24 b(y)n(ou)f(!)p eop
%%Page: 9 15
9 14 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3634 427
y Fj(FIVE)p 0 515 V 190 978 a Fs(Templating)57 b(languages:)70
b(CHTL)58 b(and)f(CGTL)0 1468 y Fn(CherryPy)21 b(comes)h(with)h(TW)o(O)
g(templating)f(languages.)30 b(The)o(y)22 b(are)g(v)o(ery)f(similar)i
(to)g(each)f(other)m(,)g(b)n(ut)g(the)o(y)g(are)g(used)h(in)f(dif)n
(ferent)0 1567 y(situations.)j(The)o(y)19 b(ha)n(v)o(e)h(been)f
(designed)g(to)h(be)g(v)o(ery)f(easy)i(to)f(use,)g(and)g(yet)g(v)o(ery)
f(po)n(werful.)125 1780 y Fm(\017)41 b Fl(CherryPy)21
b(HTML)i(T)-8 b(emplating)23 b(Language)e(\(CHTL\))p
Fn(:)h(It)h(is)g(used)f(to)g(produce)e(HTML)i(output.)30
b(It)22 b(has)g(been)g(designed)208 1880 y(so)i(that)h(HTML)f(editors)g
(k)o(eep)g(the)g(dynamic)f(informations)g(in)h(the)h(page.)36
b(This)25 b(w)o(ay)-5 b(,)25 b(webdesigners)e(can)h(edit)h(the)f(pages)
208 1980 y(using)c(their)g(f)o(a)n(v)n(orite)g(HTML)g(editor)g(without)
g(losing)g(the)h(information)d(that)j(the)f(de)n(v)o(elopers)f(put)h
(in)h(them.)k(The)c(trick)f(is)h(to)208 2079 y(hide)e(code)h(in)g(the)g
(attrib)n(utes)g(of)g(HTML)g(tags.)125 2245 y Fm(\017)41
b Fl(CherryPy)29 b(Generic)i(T)-8 b(emplating)31 b(Language)f(\(CGTL\))
p Fn(:)h(It)g(is)h(used)e(to)h(produce)e(non-HTML)g(output)g(\(for)h
(instance)208 2345 y(Ja)n(v)n(ascript,)24 b(CSS,)i(XML,)e(...\).)36
b(It)25 b(is)g(v)o(ery)e(close)h(to)h(CHTL,)f(e)o(xcept)f(that)h(we)h
(cannot)e(use)i(HTML)f(tags)g(to)h(hide)e(the)i(code,)208
2445 y(and)f(the)i(syntax)f(is)h(a)g(bit)f(simpler)-5
b(.)41 b Fl(If)26 b(y)n(ou)f(don't)g(use)h(any)g(HTML)g(editor)f(to)g
(cr)o(eate)f(y)n(our)h(pages,)i(then)f(y)n(ou)f(should)208
2544 y(pr)o(obably)19 b(use)i(CGTL)g(only)f(as)g(it)h(is)g(simpler)g
(than)g(CHTL)p Fn(.)0 2758 y(Note)e(that)g(you)f(can)h(also)g(use)g
(other)f(templating)g(languages)g(if)h(you)f(w)o(ant)h(\(for)f
(instance,)h(there)f(is)i(a)f(Ho)n(wT)-7 b(o)19 b(that)g(e)o(xplains)f
(ho)n(w)g(to)0 2857 y(use)i(Cheetah\),)g(or)g(you)f(can)h(just)h(use)f
(plain)g(p)o(ython)e(to)j(generate)e(your)g(pages.)0
3185 y Fi(5.1)121 b(T)-14 b(ags)0 3417 y Fn(Both)27 b(languages)e(use)i
(only)f(6)h(tags:)39 b Fb(py-eval)p Fn(,)28 b Fb(py-attr)p
Fn(,)f Fb(py-exec)p Fn(,)h Fb(py-code)p Fn(,)f Fb(py-if)g
Fn(\(with)g Fb(py-else)p Fn(\))e(and)i Fb(py-)0 3517
y(for)p Fn(.)0 3664 y(All)21 b(tags)f(are)g(used)g(the)h(same)f(w)o
(ay:)25 b Fb(CherryPyTag="Some)47 b(Python)i(code")p
Fn(.)24 b(F)o(or)c(instance:)236 3811 y Fh(py-eval="2*2")236
3902 y(py-exec="a=1")236 3993 y(py-if="2==0")236 4085
y(py-for="i)44 b(in)g(range\(10\)")236 4176 y(...)0 4462
y Fn(If)20 b(you)f(w)o(ant)i(to)f(use)g(double-quotes)e(inside)i(the)g
(p)o(ython)e(code,)i(you)f(need)g(to)i(escape)f(them)g(using)f(a)i
(backslash,)e(lik)o(e)i(this:)236 4609 y Fh(py-eval="'I)43
b(love)h(\\"cherry)g(pies\\"'")0 4895 y Fn(Let')-5 b(s)21
b(see)g(what)f(each)g(of)f(these)i(tags)f(is)h(used)f(for:)0
5180 y Fa(5.1.1)100 b(p)m(y-e)m(v)n(al)0 5383 y Fn(This)20
b(tag)h(is)g(used)f(to)g(e)n(v)n(aluate)f(a)i(Python)e(e)o(xpression,)f
(lik)o(e)j(this:)p 0 5549 3901 4 v 3854 5649 a Fk(9)p
eop
%%Page: 10 16
10 15 bop 236 83 a Fh(Hello,)44 b(the)g(sum)h(is)f(<py-eval="1+2+3">)0
369 y Fn(This)20 b(line)h(will)g(be)f(rendered)e(as:)236
516 y Fh(Hello,)44 b(the)g(sum)h(is)f(6)0 802 y Fn(What)23
b(happens)f(is)i(that)f(CherryPy)e(\002rst)j(e)n(v)n(aluates)e(the)h(e)
o(xpression)e(\(using)h Fc(e)o(val)p Fn(\))g(and)h(then)f(uses)i
Fc(str)i Fn(on)c(the)h(result)g(to)g(con)m(v)o(ert)e(it)0
902 y(to)f(a)h(string.)0 1049 y(All)g(the)f(CGTL)h(tags)f(can)g(be)g
(closed)g(using)g Fc(/>)h Fn(or)f(/)g(>,)h(lik)o(e)f(this:)236
1287 y Fh(<py-eval="'abcd')42 b(*)j(2")g(/>)236 1378
y(<py-eval="'Hello,)d(\045s')j(\045)f(name"/>)0 1664
y Fn(In)20 b(its)h(CHTL)g(form,)e(the)h Fc(py-e)o(val)f
Fn(tag)h(can)g(be)g(used)g(with)g(an)o(y)g(pair)g(of)f(opening/closing)
f(tags,)i(lik)o(e)g(this:)236 1903 y Fh(<span)44 b(class=myClass)f
(py-eval="2*3"></span>)236 1994 y(<a)i(href="myHref")d(py-eval="'Click)
h(here'"></a>)236 2085 y(<u)i(py-eval="'I\\'m)d(with)i(an)h
(underline'"></u>)236 2177 y(...)0 2463 y Fn(If)20 b(you)f(don')o(t)g
(w)o(ant)h(to)h(use)f(an)o(y)f(HTML)h(tag)g(around)f(the)h(e)o
(xpression,)e(the)j(trick)e(is)j(to)e(use)g(the)h Fb(<div>)e
Fn(HTML)h(tag:)236 2701 y Fh(This)44 b(is)h(a)g(long)f(string)g(with)g
(a)g(<div)h(py-eval="'variable'"></div>)40 b(in)k(it)0
3123 y Fa(5.1.2)100 b(p)m(y-attr)0 3326 y Fn(This)20
b(tag)h(is)g(lik)o(e)f Fb(py-eval)p Fn(,)f(e)o(xcept)h(it')-5
b(s)21 b(used)f(for)f(HTML)h(tag)h(attrib)n(utes.)j(The)c(w)o(ay)g(it)h
(is)g(used)f(is)i(as)e(follo)n(ws:)236 3473 y Fh(<td)45
b(py-attr="'red'")d(bgColor="">)0 3712 y Fn(This)20 b(will)h(be)f
(rendered)f(as)236 3859 y Fh(<td)45 b(bgColor="red">)0
4098 y Fn(Note)20 b(that)g(this)h(is)g(equi)n(v)n(alent)e(to:)236
4245 y Fh(<td)45 b(bgColor="<py-eval="'red'">">)0 4484
y Fn(But)21 b(the)f(\002rst)h(syntax)e(is)j(preferred.)0
4769 y Fa(5.1.3)100 b(p)m(y-e)m(x)m(ec)29 b(and)g(p)m(y-code)0
4971 y Fn(These)16 b(tags)h(are)f(used)g(to)g(e)o(x)o(ecute)f(some)h
(Python)f(code.)23 b Fb(py-exec)15 b Fn(is)i(used)f(to)h(e)o(x)o(ecute)
e(one)g(line)i(of)f(Python)f(code,)h(and)f Fb(py-code)0
5071 y Fn(is)21 b(used)f(to)g(e)o(x)o(ecute)f(blocks)h(of)g(Python)f
(code.)24 b(F)o(or)c(instance,)f(the)i(follo)n(wing)d(code:)p
0 5549 3901 4 v 0 5649 a Fk(10)1887 b(Chapter)24 b(5.)52
b(T)-10 b(emplating)24 b(languages:)30 b(CHTL)23 b(and)h(CGTL)p
eop
%%Page: 11 17
11 16 bop 236 174 a Fh(<py-exec="a=2">)236 266 y(<py-code=")416
357 y(if)44 b(a==2:)595 448 y(b=1)416 540 y(else:)595
631 y(b==2)236 722 y(">)236 814 y(b)h(equals)f(<py-eval="b">)0
1053 y Fn(W)m(ill)21 b(be)f(rendered)e(as:)236 1291 y
Fh(b)45 b(equals)f(1)0 1577 y Fn(In)20 b(the)g(CHTL)h(syntax,)e(both)g
(tags)i(ha)n(v)o(e)e(to)i(be)f(embedded)e(in)i(<di)n(v>)g(and)f(</di)n
(v>)h(tags)g(as)h(follo)n(w:)236 1815 y Fh(<div)44 b
(py-exec="a=2"></div>)236 1906 y(<div)g(py-code=")416
1998 y(if)g(a==2:)595 2089 y(b=1)416 2180 y(else:)595
2272 y(b=2)236 2363 y("></div>)0 2649 y Fn(If)20 b(you)f(w)o(ant)i(to)f
(render)f(some)h(data)g(inside)g(the)g(Python)f(code,)g(you)h(must)g
(append)f(it)h(to)h(the)f Fc(_pa)o(g)o(e)f Fn(v)n(ariable:)236
2887 y Fh(<html><body>)416 2979 y(Integers)43 b(from)h(0)h(to)f(9:)416
3070 y(<py-code=")595 3161 y(for)g(i)h(in)f(range\(10\):)774
3253 y(_page.append\("\045s)e("\045i\))416 3344 y(">)236
3435 y(</body></html>)0 3722 y Fn(This)20 b(will)h(be)f(rendered)f(as:)
236 3960 y Fh(<html><body>)416 4051 y(Integers)43 b(from)h(0)h(to)f(9:)
416 4142 y(0)g(1)h(2)g(3)f(4)h(5)g(6)f(7)h(8)g(9)236
4234 y(</body></html>)0 4658 y Fa(5.1.4)100 b(p)m(y-if)28
b(and)h(p)m(y-else)0 4861 y Fn(These)20 b(tags)h(are)f(used)g(lik)o(e)g
Fb(if)g Fn(and)g Fb(else)g Fn(in)g(Python.)k(The)c(syntax)g(is)h(as)g
(follo)n(ws:)p 0 5549 3901 4 v 0 5649 a Fk(5.1.)52 b(T)-10
b(ags)3443 b(11)p eop
%%Page: 12 18
12 17 bop 236 174 a Fh(<py-if="1==1">)416 266 y(OK)236
357 y(</py-if><py-else>)416 448 y(Not)44 b(OK)236 540
y(</py-else>)0 826 y Fn(This)20 b(will)h(be)f(rendered)f(as)236
1064 y Fh(OK)0 1350 y Fn(Note)31 b(that)g(if)g(there)f(is)i(an)f
Fb(else)f Fn(clause,)j(the)e Fb(<div)49 b(py-else>)30
b Fn(tag)h(must)g(follo)n(w)f(the)h Fb(</div>)f Fn(tag)h(closing)f(the)
h Fb(<div)0 1450 y(py-if)20 b Fn(tag,)g(with)g(no)g(signi\002cant)g
(characters)f(in)h(between)g(\(ie:)25 b(only)19 b(separators)h(are)g
(allo)n(wed\))0 1597 y(The)g(CHTL)g(equi)n(v)n(alent)f(is:)236
1835 y Fh(<div)44 b(py-if="1==1">)416 1926 y(OK)236 2018
y(</div>)236 2109 y(<div)g(py-else>)416 2200 y(Not)g(OK)236
2292 y(</div>)0 2716 y Fa(5.1.5)100 b(p)m(y-f)m(or)0
2919 y Fn(This)20 b(tag)h(is)g(used)f(lik)o(e)g Fb(for)g
Fn(in)h(Python.)i(The)d(syntax)g(is)h(as)g(follo)n(ws:)236
3157 y Fh(<py-for="i)43 b(in)i(range\(10\)">)416 3249
y(<py-eval="i">)236 3340 y(</py-for>)0 3579 y Fn(This)20
b(will)h(be)f(rendered)f(as)236 3817 y Fh(0)45 b(1)g(2)f(3)h(4)g(5)f(6)
h(7)g(8)f(9)0 4103 y Fn(Note)20 b(that)g(you)g(can)g(loop)f(o)o(v)o(er)
g(a)h(list)i(of)e(tuples:)236 4341 y Fh(<py-for="i,j)43
b(in)i([\(0,0\),)e(\(0,1\),)h(\(1,0\),)g(\(1,1\)]">)416
4433 y(<py-eval="i+j">)236 4524 y(</py-for>)0 4763 y
Fn(This)20 b(will)h(be)f(rendered)f(as)236 5001 y Fh(0)45
b(1)g(1)f(2)0 5287 y Fn(The)20 b(CGTL)g(equi)n(v)n(alent)f(is:)p
0 5549 3901 4 v 0 5649 a Fk(12)1887 b(Chapter)24 b(5.)52
b(T)-10 b(emplating)24 b(languages:)30 b(CHTL)23 b(and)h(CGTL)p
eop
%%Page: 13 19
13 18 bop 236 174 a Fh(<div)44 b(py-for="i,j)f(in)i([\(0,0\),)f
(\(0,1\),)f(\(1,0\),)h(\(1,1\)]">)416 266 y(<div)g
(py-eval="i+j"></div>)236 357 y(</div>)0 643 y Fn(In)30
b(a)h Fc(py-for)h Fn(loop,)h(CherryPy)c(sets)j(tw)o(o)f(handy)e
(special)h(v)n(ariables)g(for)g(you:)46 b Fc(_inde)n(x)30
b Fn(and)g Fc(_end)r Fn(.)55 b(The)30 b(former)g(is)h(an)g(inte)o(ger)0
743 y(containing)16 b(the)i(current)f(number)f(of)h(iterations)h
(\(from)f(0)h(to)g(n-1\).)23 b(The)17 b(latter)h(contains)g(the)g
(total)g(number)e(of)i(iteration)f(minus)g(one.)0 890
y(F)o(or)28 b(instance,)h(if)g(you)e(w)o(ant)h(to)h(display)e(a)i(list)
g(with)f(the)g(\002rst)h(item)g(in)f(bold)f(and)h(the)g(last)h(item)f
(underlined,)g(you)f(can)h(use)h(the)0 989 y(follo)n(wing)19
b(code:)236 1227 y Fh(<py-exec="myList=[1,5,3,2,5,4,5]">)236
1319 y(<py-for="item)43 b(in)h(myList">)416 1410 y
(<py-if="_index==0"><b)d(py-eval="item"></b>)416 1501
y(</py-if><py-else>)595 1593 y(<py-if="_index==_end"><u)g
(py-eval="item"></u>)595 1684 y(</py-if><py-else><py-eval="item"></py-)
o(else>)595 1775 y(</div>)416 1867 y(</py-else>)236 1958
y(</py-for>)0 2197 y Fn(This)20 b(will)h(be)f(rendered)f(as:)236
2435 y Fh(<b>1</b>)44 b(5)g(3)h(2)g(5)f(4)h(<u>5</u>)0
2721 y Fn(In)20 b(the)g(ne)o(xt)g(section,)f(we')o(ll)i(see)g(ho)n(w)e
(to)i(use)f(all)h(these)f(tags)h(together)-5 b(...)0
3049 y Fi(5.2)121 b(Putting)34 b(it)f(together)0 3282
y Fn(W)-7 b(e)21 b(are)f(going)f(to)i(mak)o(e)e(a)i(web)f(page)f(that)i
(displays)f(a)g(table)g(with)h(all)f(HTML)g(colors.)25
b(Edit)20 b(the)g(Hello.cp)o(y)f(\002le)i(and)f(change)e(it)j(to:)p
0 5549 3901 4 v 0 5649 a Fk(5.2.)52 b(Putting)25 b(it)e(together)2968
b(13)p eop
%%Page: 14 20
14 19 bop 236 174 a Fh(CherryClass)43 b(Root:)236 266
y(mask:)416 357 y(def)h(index\(self\):)595 448 y(<html><body>)774
540 y(<a)h(py-attr="request.base+'/webColors'")39 b(href="">)954
631 y(Click)44 b(here)g(to)g(see)h(a)f(nice)g(table)g(with)g(all)h(web)
f(colors)774 722 y(</a>)595 814 y(</body></html>)416
905 y(def)g(webColors\(self\):)595 996 y(<html><body>)774
1088 y(<py-exec="codeList=['00',)d('33',)j('66',)g('99',)g('CC',)g
('FF']">)774 1179 y(<table)g(border=1>)774 1270 y(<py-for="r)f(in)i
(codeList">)954 1362 y(<py-for="g)e(in)h(codeList">)1133
1453 y(<tr>)1312 1544 y(<py-for="b)f(in)i(codeList">)1492
1636 y(<py-exec="color='#\045s\045s\045s'\045\(r,g,b\)">)1492
1727 y(<td)f(py-attr="color")e(bgColor="")h
(py-eval="'&nbsp;&nbsp;'+color+'&nbsp;'"><)o(/td>)1312
1818 y(</py-for>)1133 1910 y(</tr>)954 2001 y(</py-for>)774
2092 y(</py-for>)595 2183 y(</body></html>)0 2470 y Fn(Recompile)19
b(the)h(\002le,)g(restart)g(the)g(serv)o(er)f(and)g(refresh)g(the)h
(page)f(in)h(your)f(bro)n(wser)-5 b(.)24 b(Click)c(on)g(the)f(link)h
(and)f(you)g(should)g(see)h(a)h(nice)0 2569 y(table)f(with)h(all)f(web)
g(colors.)0 2716 y(Ho)n(w)g(does)g(it)h(w)o(ork)e(?)0
2863 y(The)h Fb(webColors)f Fn(method)g(is)i(a)f(pretty)g(straight)g
(forw)o(ard)e(use)j(of)f(the)g(CHTL)h(tags.)k(One)20
b(more)f(interesting)g(line)i(is:)236 3101 y Fh(<a)45
b(py-attr="request.base+'/webColors'")39 b(href="">)0
3387 y Fc(r)m(equest)31 b Fn(is)g(a)g(global)e(v)n(ariable)f(set)j(by)f
(CherryPy)e(for)i(each)f(request)h(of)f(a)i(client.)54
b(It)30 b(is)h(an)f(instance)f(of)h(a)g(class)h(with)f(se)n(v)o(eral)0
3487 y(v)n(ariables.)h(One)23 b(of)f(them)g(is)i(called)e
Fb(base)g Fn(and)g(contains)g(the)h(base)f(URL)i(of)e(the)h(website)f
(\(in)h(our)e(case:)31 b Fo(http://localhost:8000)-6
b Fn(\).)0 3587 y(So,)20 b(the)g(line)236 3825 y Fh(<a)45
b(py-attr="request.base+'/webColors'")39 b(href="">)0
4064 y Fn(will)21 b(be)f(rendered)e(as:)236 4302 y Fh(<a)45
b(href="http://localhost:8000/webColors)o(">)0 4541 y
Fn(This)23 b(also)h(tells)g(us)f(that)g(when)g(the)g(bro)n(wser)e
(requests)i(the)g(URL)h Fo(http://localhost:8000/)o(w)o(ebCo)o(lo)o(rs)
-6 b Fn(,)25 b(the)e Fc(webColor)o(s)g Fn(method)f(of)0
4641 y(the)e Fc(Root)h Fn(class)g(gets)g(called.)0 4787
y(In)f(the)g(ne)o(xt)g(chapter)m(,)e(we')o(ll)j(learn)e(ho)n(w)h(to)g
(use)h(vie)n(ws,)f(functions)f(and)g(when)h(we)g(should)g(use)g
(them...)p 0 5549 3901 4 v 0 5649 a Fk(14)1887 b(Chapter)24
b(5.)52 b(T)-10 b(emplating)24 b(languages:)30 b(CHTL)23
b(and)h(CGTL)p eop
%%Page: 15 21
15 20 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3707 427
y Fj(SIX)p 0 515 V 1485 978 a Fs(Vie)l(ws)m(,)57 b(functions)i(and)d
(more)0 1457 y Fn(So)20 b(f)o(ar)m(,)g(we')l(v)o(e)f(only)g(used)h(one)
g(kind)f(of)h(method:)k(masks.)h(W)-7 b(e)22 b(are)e(going)f(to)h
(learn)g(ho)n(w)f(to)i(use)f(vie)n(ws)g(and)g(functions.)0
1784 y Fi(6.1)121 b(Diff)l(erent)35 b(architectures)g(f)l(or)f(a)g(w)o
(eb)g(site)f(source)h(code)0 2017 y Fn(W)-7 b(e')o(ll)21
b(tak)o(e)g(tw)o(o)f(e)o(xamples)f(to)h(sho)n(w)g(you)g(tw)o(o)g(dif)n
(ferent)f(w)o(ays)h(to)h(design)e(the)h(architecture)f(of)h(your)f
(code.)0 2302 y Fa(6.1.1)100 b(First)28 b(e)m(xample:)35
b(str)o(aightf)m(orw)o(ard)29 b(architecture)0 2505 y
Fn(Let')-5 b(s)22 b(assume)f(that)g(you)f(w)o(ant)i(to)f(b)n(uild)g(a)g
(v)o(ery)f(simple)h(web)g(site)h(where)f(people)f(can)h(look)f(for)h
(books)f(and)g(see)i(the)f(details)h(about)0 2604 y(one)e(perticular)f
(book.)k(The)d(web)g(site)h(is)g(made)f(of)g(tw)o(o)g(kinds)g(of)g
(pages:)125 2818 y Fm(\017)41 b Fn(The)19 b(main)h(page)g(that)g
(displays)g(the)g(list)h(of)f(books.)k(Each)c(book)f(name)g(is)i(a)g
(link.)125 2984 y Fm(\017)41 b Fn(A)23 b(page)f(that)h(displays)f(the)h
(informations)d(about)i(a)h(perticular)f(book.)31 b(This)23
b(page)f(is)i(displayed)d(then)h(the)h(user)g(clicks)g(on)f(a)208
3083 y(book)c(name)0 3297 y(T)-7 b(o)20 b(implement)f(this)i(web)f
(site,)h(we')o(ll)f(just)h(use)g(2)f(functions)f(and)g(2)h(masks:)125
3510 y Fm(\017)41 b Fn(One)20 b(function)e(called)i Fl(getBookListData)
e Fn(that)j(returns)e(a)i(list)g(of)f(book)f(names)125
3676 y Fm(\017)41 b Fn(One)20 b(function)e(called)i Fl(getBookData)e
Fn(that)i(returns)g(the)g(detailed)f(informations)g(about)g(a)h
(perticular)f(book)125 3842 y Fm(\017)41 b Fn(One)20
b(mask)g(called)g Fl(index)g Fn(that)g(displays)g(the)h(list)g(of)f
(book)f(names.)125 4008 y Fm(\017)41 b Fn(One)20 b(mask)g(called)g
Fl(displayBook)g Fn(that)g(displays)g(the)g(detailed)g(informations)e
(about)h(a)i(perticular)e(book)0 4221 y(The)h(code)f(of)h(the)g(web)h
(site)g(is:)p 0 5549 3901 4 v 3808 5649 a Fk(15)p eop
%%Page: 16 22
16 21 bop 236 174 a Fh(CherryClass)43 b(Root:)236 266
y(variable:)416 357 y(#)h(Sample)g(book)g(list)g(data.)g(In)h(real)f
(life,)g(this)g(would)g(probably)g(come)g(from)g(a)h(database)416
448 y(#)f(\(title,)g(author,)g(price\))416 540 y(bookListData=[)595
631 y(\('Harry)g(Potter)f(and)i(the)f(Goblet)g(of)g(Fire',)g('J.)g(K.)h
(Rowling',)e('9$'\),)595 722 y(\('The)h(flying)g(cherry',)f('Remi)h
(Delon',)g('5$'\),)595 814 y(\('I)g(love)g(cherry)g(pie',)g('Eric)g
(Williams',)f('6$'\),)595 905 y(\('CherryPy)g(rules',)h('David)g
(stults',)f('7$'\))416 996 y(])236 1179 y(function:)416
1270 y(def)h(getBookListData\(self\):)595 1362 y(return)g
(self.bookListData)416 1453 y(def)g(getBookData\(self,)e(id\):)595
1544 y(return)i(self.bookListData[id])236 1636 y(mask:)416
1727 y(def)g(index\(self\):)595 1818 y(<html><body>)774
1910 y(Hi,)h(choose)e(a)i(book)f(from)g(the)h(list)f(below:<br>)774
2001 y(<py-for="title,)f(dummy,)g(dummy)h(in)h
(self.getBookListData\(\)">)954 2092 y(<a)f
(py-attr="'displayBook?id=\045s'\045_index")39 b(href="")k
(py-eval="title"></a><br>)774 2183 y(</py-for>)595 2275
y(</body></html>)416 2366 y(def)h(displayBook\(self,)e(id\):)595
2457 y(<html><body>)774 2549 y(<py-exec="title,)g(author,)i
(price=self.getBookData\(int\(id\)\)">)774 2640 y(Details)g(about)g
(the)g(book:<br>)774 2731 y(Title:)g(<py-eval="title"><br>)774
2823 y(Author:)g(<py-eval="author"><br>)774 2914 y(Price:)g
(<py-eval="price"><br>)595 3005 y(</body></html>)0 3244
y Fn(As)28 b(you)d(can)i(see,)i(the)d(code)g(for)g(this)i("mini")e(web)
h(site)g(is)h(pretty)e(straightforw)o(ard:)36 b(each)26
b(mask)h(corresponds)d(to)j(a)g(page)f(type.)0 3344 y(Since)20
b(we)h(ha)n(v)o(e)e(2)i(types)f(of)g(pages,)f(we)i(use)f(2)g(masks.)0
3491 y(Let')-5 b(s)21 b(tak)o(e)f(a)h(slightly)f(more)f(complicated)f
(e)o(xample)h(...)0 3774 y Fa(6.1.2)100 b(Second)30 b(e)m(xample:)35
b(more)29 b(elegant)g(architecture)g(f)m(or)f(more)h(comple)m(x)g(w)o
(eb)f(sites)0 3977 y Fn(In)20 b(this)h(e)o(xample,)d(we')o(ll)j(add)e
(a)i(fe)n(w)f(more)f(features)h(to)g(our)g(web)g(site:)125
4181 y Fm(\017)41 b Fn(This)20 b(time,)g(we)h(w)o(ant)f(our)f(web)h
(site)h(to)g(come)e(in)i(tw)o(o)f(languages:)k(English)19
b(and)h(French)125 4343 y Fm(\017)41 b Fn(In)19 b(addition)g(to)i
(being)e(able)h(to)g(bro)n(wse)g(the)g(books)f(by)h(title,)h(we)f(also)
h(w)o(ant)f(to)g(be)g(able)g(to)h(bro)n(wse)e(them)h(by)g(author)0
4548 y(This)g(no)n(w)g(means)g(that)g(we)h(ha)n(v)o(e)e(six)i(types)f
(of)g(pages:)125 4753 y Fm(\017)41 b Fn(1.)25 b(V)-5
b(ie)n(w)20 b(book)f(list)i(in)g(English)e(brok)o(en)f(up)i(by)g(title)
125 4915 y Fm(\017)41 b Fn(2.)25 b(V)-5 b(ie)n(w)20 b(book)f(list)i(in)
g(French)e(brok)o(en)f(up)i(by)g(title)125 5076 y Fm(\017)41
b Fn(3.)25 b(V)-5 b(ie)n(w)20 b(book)f(list)i(in)g(English)e(brok)o(en)
f(up)i(by)g(author)125 5238 y Fm(\017)41 b Fn(4.)25 b(V)-5
b(ie)n(w)20 b(book)f(list)i(in)g(French)e(brok)o(en)f(up)i(by)g(author)
125 5400 y Fm(\017)41 b Fn(5.)25 b(V)-5 b(ie)n(w)20 b(book)f(details)h
(in)h(English)p 0 5549 3901 4 v 0 5649 a Fk(16)2398 b(Chapter)23
b(6.)52 b(Vie)n(ws)o(,)24 b(functions)f(and)h(more)p
eop
%%Page: 17 23
17 22 bop 125 83 a Fm(\017)41 b Fn(6.)25 b(V)-5 b(ie)n(w)20
b(book)f(details)h(in)h(French)0 296 y(If)k(we)g(were)g(to)g(k)o(eep)f
(the)h(same)g(architecture)e(as)j(the)f(\002rst)g(e)o(xample,)g(we)g(w)
o(ould)f(ha)n(v)o(e)g(to)h(write)g(6)g(masks)g(\(plus)g(the)g
(functions\).)0 396 y(Let')-5 b(s)21 b(try)f(to)g(do)g(better)g(than)f
(that)i(...)0 543 y(There)27 b(isn')o(t)h(much)f(we)i(can)f(do)g(about)
f(the)h(last)h(2)f(types)g(of)g(pages)g(\(5)g(and)g(6\).)48
b(But)29 b(for)e(the)i(\002rst)f(four)m(,)h(we)f(can)g(in)h(f)o(act)f
(use)g(2)0 642 y(functions)21 b(and)h(2)g(masks.)32 b(By)22
b(combining)e(each)i(function)f(with)h(each)g(mask,)h(we)g(ha)n(v)o(e)e
(our)h(4)g(combinations)f(\(2)h(times)g(2\).)31 b(W)-7
b(e')o(ll)0 742 y(use)20 b(the)h(follo)n(wing:)125 972
y Fm(\017)41 b Fn(One)20 b(function)e(called)i Fl(getBookListByT)o
(itleData)e Fn(that)i(returns)f(a)i(list)g(of)f(book)f(brok)o(en)g(up)g
(by)h(title)125 1138 y Fm(\017)41 b Fn(One)20 b(function)e(called)i
Fl(getBookListByA)l(uthorData)d Fn(that)k(returns)e(a)i(list)g(of)f
(book)f(brok)o(en)f(up)i(by)g(author)125 1304 y Fm(\017)41
b Fn(One)18 b(mask)g(called)g Fl(bookListInEnglishMask)i
Fn(that)f(displays)f(a)h(list)g(of)f(books)g(in)g(English)g(\(it)h
(doesn')o(t)e(matter)h(if)g(the)h(books)208 1404 y(are)h(brok)o(en)e
(up)i(by)g(title)h(or)f(by)f(author\).)125 1570 y Fm(\017)41
b Fn(One)20 b(mask)g(called)g Fl(bookListInFr)o(enchMask)g
Fn(that)g(displays)g(a)h(list)g(of)f(books)f(in)i(French.)0
1800 y(In)c(order)f(to)h("link")g(a)g(mask)g(with)g(a)h(function,)e
(we')o(ll)h(use)g(a)h(vie)n(w)-5 b(.)23 b(This)18 b(means)e(that)i(we)f
(ha)n(v)o(e)g(4)g(vie)n(ws,)g(one)g(for)f(each)h(combination.)0
1899 y(Each)j(vie)n(w)g(will)h(ha)n(v)o(e)e(a)i(v)o(ery)e(simple)h
(code:)25 b Fl(apply)20 b(this)h(mask)g(to)f(the)g(r)o(esult)g(of)g
(that)g(function)0 2046 y Fn(The)g(code)f(for)h(our)f(web)h(site)h
(looks)f(lik)o(e)h(this:)p 0 5549 3901 4 v 0 5649 a Fk(6.1.)52
b(Diff)n(erent)23 b(architectures)g(f)n(or)f(a)h(w)o(eb)h(site)f
(source)f(code)1820 b(17)p eop
%%Page: 18 24
18 23 bop 236 174 a Fh(CherryClass)43 b(Root:)236 266
y(variable:)416 357 y(#)h(Sample)g(book)g(list)g(data.)g(In)h(real)f
(life,)g(this)g(would)g(probably)g(come)g(from)g(a)h(database)416
448 y(#)f(\(title,)g(author,)g(price\))416 540 y(bookListData=[)595
631 y(\('Harry)g(Potter)f(and)i(the)f(Goblet)g(of)g(Fire',)g('J.)g(K.)h
(Rowling',)e('9$'\),)595 722 y(\('The)h(flying)g(cherry',)f('Remi)h
(Delon',)g('5$'\),)595 814 y(\('I)g(love)g(cherry)g(pie',)g('Eric)g
(Williams',)f('6$'\),)595 905 y(\('CherryPy)g(rules',)h('David)g
(Stults',)f('7$'\))416 996 y(])236 1179 y(function:)416
1270 y(def)h(getBookListByTitleData\(self\):)595 1362
y(titleList=[])595 1453 y(for)g(title,)g(dummy,)g(dummy)g(in)g
(self.bookListData:)e(titleList.append\(title\))595 1544
y(return)i(titleList)416 1636 y(def)g(getBookListByAuthorData\(self\):)
595 1727 y(authorList=[])595 1818 y(for)g(dummy,)g(author,)g(dummy)g
(in)g(self.bookListData:)e(authorList.append\(author\))595
1910 y(return)i(authorList)416 2001 y(def)g(getBookData\(self,)e(id\):)
595 2092 y(return)i(self.bookListData[id])236 2183 y(mask:)416
2275 y(def)g(bookListInEnglishMask\(self,)c(myBookListData\):)774
2366 y(Hi,)45 b(choose)e(a)i(book)f(from)g(the)h(list)f(below:<br>)774
2457 y(<py-for="data)f(in)h(myBookListData">)954 2549
y(<a)g(py-attr="'displayBookInEnglish?id=\045s'\045_)o(index")38
b(href="")44 b(py-eval="data"></a><br>)774 2640 y(</py-for>)774
2731 y(<br>)416 2823 y(def)g(bookListInFrenchMask\(self,)c
(myBookListData\):)774 2914 y(Bonjour,)k(choisissez)f(un)h(livre)g(de)h
(la)f(liste:<br>)774 3005 y(<py-for="data)f(in)h(myBookListData">)954
3097 y(<a)g(py-attr="'displayBookInFrench?id=\045s'\045_i)o(ndex")38
b(href="")44 b(py-eval="data"></a><br>)774 3188 y(</py-for>)774
3279 y(<br>)416 3371 y(def)g(displayBookInEnglish\(self,)c(id\):)595
3462 y(<html><body>)774 3553 y(<py-exec="title,)i(author,)i
(price=self.getBookData\(int\(id\)\)">)774 3645 y(Details)g(about)g
(the)g(book:<br>)774 3736 y(Title:)g(<py-eval="title"><br>)774
3827 y(Author:)g(<py-eval="author"><br>)774 3919 y(Price:)g
(<py-eval="price"><br>)774 4010 y(<br>)774 4101 y(<a)h
(py-attr="'displayBookInFrench?id=\045s'\045)o(id")39
b(href="">Version)j(francaise</a>)595 4193 y(</body></html>)416
4284 y(def)i(displayBookInFrench\(self,)d(id\):)595 4375
y(<html><body>)774 4467 y(<py-exec="title,)h(author,)i
(price=self.getBookData\(int\(id\)\)">)774 4558 y(Details)g(du)g
(livre:<br>)774 4649 y(Titre:)g(<py-eval="title"><br>)774
4741 y(Auteur:)g(<py-eval="author"><br>)774 4832 y(Prix:)g
(<py-eval="price"><br>)774 4923 y(<br>)774 5015 y(<a)h
(py-attr="'displayBookInEnglish?id=\045s')o(\045id")39
b(href="">English)j(version</a>)595 5106 y(</body></html>)236
5197 y(view:)416 5289 y(def)i(englishByTitle\(self\):)595
5380 y(page="<html><body>")595 5471 y
(byTitleData=self.getBookListByTitleDat)o(a\(\))595 5562
y(page+=self.bookListInEnglishMask\(byTit)o(leData)o(\))595
5654 y(page+='<a)f(href="englishByAuthor">View)d(books)k(by)h
(author</a><br>')595 5745 y(page+='<a)e(href="frenchByTitle">Version)d
(francaise</a>')595 5836 y(page+="</body></html>")595
5928 y(return)k(page)416 6019 y(def)g(frenchByTitle\(self\):)595
6110 y(page="<html><body>")595 6202 y
(byTitleData=self.getBookListByTitleDat)o(a\(\))595 6293
y(page+=self.bookListInFrenchMask\(byTitl)o(eData\))595
6384 y(page+='<a)f(href="frenchByAuthor">Voir)e(les)j(livres)g(par)g
(auteur</a><br>')595 6476 y(page+='<a)f(href="englishByTitle">English)d
(version</a>')595 6567 y(page+="</body></html>")595 6658
y(return)k(page)416 6750 y(def)g(englishByAuthor\(self\):)595
6841 y(page="<html><body>")595 6932 y
(byTitleData=self.getBookListByAuthorDa)o(ta\(\))595
7024 y(page+=self.bookListInEnglishMask\(byTit)o(leData)o(\))595
7115 y(page+='<a)f(href="englishByTitle">View)e(books)j(by)g
(title</a><br>')595 7206 y(page+='<a)f(href="frenchByAuthor">Version)d
(francaise</a>')595 7298 y(page+="</body></html>")595
7389 y(return)k(page)416 7480 y(def)g(frenchByAuthor\(self\):)595
7572 y(page="<html><body>")595 7663 y
(byTitleData=self.getBookListByAuthorDa)o(ta\(\))595
7754 y(page+=self.bookListInFrenchMask\(byTitl)o(eData\))595
7846 y(page+='<a)f(href="frenchByTitle">Voir)e(les)j(livres)g(par)g
(titre</a><br>')595 7937 y(page+='<a)f(href="englishByAuthor">English)d
(version</a>')595 8028 y(page+="</body></html>")595 8120
y(return)k(page)416 8211 y(def)g(index\(self\):)595 8302
y(#)h(By)f(default,)g(display)f(books)h(by)h(title)f(in)g(English)595
8394 y(return)g(self.englishByTitle\(\))p 0 5549 3901
4 v 0 5649 a Fk(18)2398 b(Chapter)23 b(6.)52 b(Vie)n(ws)o(,)24
b(functions)f(and)h(more)p eop
%%Page: 19 25
19 24 bop 0 83 a Fn(Alternati)n(v)o(ely)-5 b(,)19 b(we)j(could)f(sa)n
(v)o(e)g(e)n(v)o(en)g(more)f(lines)i(of)f(code)g(by)g(passing)g(the)h
(language)d(\(French)i(or)g(English\))f(and)h(the)g(type)g(of)g(list)0
183 y(\(title)g(or)e(author\))g(as)i(parameters.)j(This)c(w)o(ay)-5
b(,)20 b(we)g(w)o(ouldn')o(t)e(need)i(to)g(use)h(vie)n(ws,)f(and)f(the)
i(masks)f(could)f(be)h(called)g(directly)-5 b(...)0 510
y Fi(6.2)121 b(More)33 b(e)l(xamples)i(on)f(using)g(functions)n(,)h
(masks)d(and)j(vie)n(ws)e(together)0 743 y Fn(In)17 b(this)i(section,)e
(we')o(ll)i(b)n(uild)e(a)h(small)g(website)g(thats)g(prompts)f(the)h
(user)f(for)g(an)h(inte)o(ger)f(N)h(between)f(20)g(and)g(50,)h(and)f
(for)g(a)h(number)0 843 y(of)i(columns)f(C)i(between)f(2)g(and)f(10.)25
b(Then)19 b(it)i(will)g(display)f(inte)o(gers)f(from)g(1)i(to)f(N)h(in)
f(a)h(table)f(of)g(C)h(columns.)0 989 y(Edit)f(`)p Fo(Hello)m(.cp)n(y)p
Fn(')e(and)i(enter)g(the)g(follo)n(wing)e(code:)p 0 5549
3901 4 v 0 5649 a Fk(6.2.)52 b(More)23 b(e)n(xamples)g(on)h(using)f
(functions)o(,)g(masks)f(and)i(vie)n(ws)f(together)1358
b(19)p eop
%%Page: 20 26
20 25 bop 236 174 a Fh(CherryClass)43 b(Root:)236 266
y(function:)416 357 y(def)h(prepareTableData\(self,)d(N,)k(C\):)595
448 y(#)g(Prepare)e(data)h(that)h(will)f(be)g(rendered)g(in)g(the)g
(table)595 540 y(#)h(Example,)e(for)h(N=10)h(and)f(C=3,)g(it)g(will)h
(return:)595 631 y(#)g([[1,2,3],)595 722 y(#)89 b([4,5,6],)595
814 y(#)g([7,8,9],)595 905 y(#)g([10]])595 996 y(N=int\(N\))595
1088 y(C=int\(C\))595 1179 y(tableData=[])595 1270 y(i=1)595
1362 y(while)44 b(1:)774 1453 y(rowData=[])774 1544 y(for)h(c)f(in)h
(range\(C\):)954 1636 y(rowData.append\(i\))954 1727
y(i+=1)954 1818 y(if)f(i>N:)g(break)774 1910 y
(tableData.append\(rowData\))774 2001 y(if)h(i>N:)f(break)595
2092 y(return)g(tableData)236 2275 y(view:)416 2366 y(def)g
(viewResult\(self,)e(N,)j(C\):)595 2457 y
(tableData=self.prepareTableData\(N,C\))595 2549 y(return)f
(self.renderTableData\(tableData\))236 2640 y(mask:)416
2731 y(def)g(renderTableData\(self,)d(tableData\):)595
2823 y(#)k(Renders)e(tableData)h(in)g(a)h(table)595 2914
y(<html><body>)595 3005 y(<table)f(border=1>)774 3097
y(<div)g(py-for="rowData)f(in)h(tableData">)954 3188
y(<tr>)1133 3279 y(<div)g(py-for="columnValue)e(in)i(rowData">)1312
3371 y(<td)h(py-eval="columnValue"></td>)1133 3462 y(</div>)954
3553 y(</tr>)774 3645 y(</div>)595 3736 y(</table>)595
3827 y(</body></html>)416 4010 y(def)f(index\(self\):)595
4101 y(<html><body>)774 4193 y(<form)g
(py-attr="request.base+'/viewResult'")39 b(action="">)954
4284 y(Integer)k(between)h(20)g(and)h(50:)f(<input)g(type=text)f
(name=N><br>)954 4375 y(Number)g(of)i(columns)f(between)f(2)i(and)f
(10:)g(<input)g(type=text)g(name=C><br>)954 4467 y(<input)f
(type=submit>)774 4558 y(</form>)595 4649 y(</body></html>)0
4935 y Fn(Ho)n(w)20 b(does)g(it)h(w)o(ork)e(?)0 5082
y(The)h Fc(inde)n(x)g Fn(mask)g(is)h(easy)f(to)h(understand)d(and)h(is)
j(only)d(used)h(to)g(input)g(N)g(and)g(C.)0 5229 y(The)k
Fc(pr)m(epar)m(eT)-8 b(ableData)22 b Fn(function)g(is)j(used)f(to)h
(process)f(N)g(and)g(C)h(and)f(to)g(compute)f(a)h(list)i(of)e(list)h
(that)f(will)h(be)f(ready)f(to)i(render)-5 b(.)0 5329
y(The)17 b Fc(r)m(enderT)-8 b(ableData)16 b Fn(mask)h(tak)o(es)h(as)g
(an)f(input)g(the)g(return)f(v)n(alue)h(of)g Fc(pr)m(epar)m(eT)-8
b(ableData)15 b Fn(and)i(renders)f(it.)25 b(The)17 b
Fc(vie)o(wResult)i Fn(vie)n(w)p 0 5549 3901 4 v 0 5649
a Fk(20)2398 b(Chapter)23 b(6.)52 b(Vie)n(ws)o(,)24 b(functions)f(and)h
(more)p eop
%%Page: 21 27
21 26 bop 0 83 a Fn(is)21 b(the)f(link)g(between)g(the)g(tw)o(o.)25
b(It)c(basically)e(says)i(to)f(compute)f(the)h(result)h(of)f(a)g
(function)f(and)g(to)i(apply)e(a)h(mask)g(to)h(it.)0
230 y(No)n(w)-5 b(,)19 b(what)i(if)f(we)h(w)o(ant)f(to)g(display)g(the)
g(inte)o(gers)f(by)h(column)f(instead)h(of)g(displaying)f(them)g(by)h
(line)g(?)0 377 y(W)-7 b(ell,)21 b(we)g(just)g(need)e(to)h(create)g(a)h
(ne)n(w)f(mask,)g(and)f(to)i(update)e(the)h(vie)n(w)g(in)g(order)f(to)i
(apply)e(the)h(ne)n(w)g(mask)g(to)g(the)h(data.)0 524
y(Modify)e(`)p Fo(Hello)m(.cp)n(y)p Fn(')f(as)j(follo)n(ws:)p
0 5549 3901 4 v 0 5649 a Fk(6.2.)52 b(More)23 b(e)n(xamples)g(on)h
(using)f(functions)o(,)g(masks)f(and)i(vie)n(ws)f(together)1358
b(21)p eop
%%Page: 22 28
22 27 bop 236 174 a Fh(CherryClass)43 b(Root:)236 266
y(function:)416 357 y(def)h(prepareTableData\(self,)d(N,)k(C\):)595
448 y(N=int\(N\))595 540 y(C=int\(C\))595 631 y(tableData=[])595
722 y(i=1)595 814 y(while)f(1:)774 905 y(rowData=[])774
996 y(for)h(c)f(in)h(range\(C\):)954 1088 y(rowData.append\(i\))954
1179 y(i+=1)954 1270 y(if)f(i>N:)g(break)774 1362 y
(tableData.append\(rowData\))774 1453 y(if)h(i>N:)f(break)595
1544 y(return)g(tableData)236 1727 y(view:)416 1818 y(def)g
(viewResult\(self,)e(N,)j(C,)f(displayBy\):)595 1910
y(tableData=self.prepareTableData\(N,C\))595 2001 y(if)g
(displayBy=="line":)e(mask=self.renderTableDataByLine)595
2092 y(else:)i(mask=self.renderTableDataByColumn)595
2183 y(return)g(mask\(tableData\))236 2275 y(mask:)416
2366 y(def)g(renderTableDataByLine\(self,)c(tableData\):)595
2457 y(<html><body>)595 2549 y(<table)k(border=1>)774
2640 y(<div)g(py-for="rowData)f(in)h(tableData">)954
2731 y(<tr>)1133 2823 y(<div)g(py-for="columnValue)e(in)i(rowData">)
1312 2914 y(<td)h(py-eval="columnValue"></td>)1133 3005
y(</div>)954 3097 y(</tr>)774 3188 y(</div>)595 3279
y(</table>)595 3371 y(</body></html>)416 3462 y(def)f
(renderTableDataByColumn\(self,)c(tableData\):)595 3553
y(<html><body>)595 3645 y(<table)k(border=1>)774 3736
y(<tr>)954 3827 y(<div)g(py-for="rowData)e(in)i(tableData">)1133
3919 y(<td)g(valign=top>)1312 4010 y(<div)g(py-for="columnValue)e(in)i
(rowData">)1492 4101 y(<div)g(py-eval="columnValue"></div><br>)1312
4193 y(</div>)1133 4284 y(</td>)954 4375 y(</div>)774
4467 y(</tr>)595 4558 y(</table>)595 4649 y(</body></html>)416
4832 y(def)g(index\(self\):)595 4923 y(<html><body>)774
5015 y(<form)g(py-attr="request.base+'/viewResult'")39
b(action="">)954 5106 y(Integer)k(between)h(20)g(and)h(50:)f(<input)g
(type=text)f(name=N><br>)954 5197 y(Number)g(of)i(columns)f(\(or)g
(lines\))g(between)f(2)i(and)f(10:)h(<input)e(type=text)h(name=C><br>)
954 5289 y(Display)f(result)h(by:)g(<select)g(name=displayBy>)1133
5380 y(<option>line</option>)1133 5471 y(<option>column</option>)954
5562 y(</select><br>)954 5654 y(<input)f(type=submit>)774
5745 y(</form>)595 5836 y(</body></html>)p 0 5549 3901
4 v 0 5649 a Fk(22)2398 b(Chapter)23 b(6.)52 b(Vie)n(ws)o(,)24
b(functions)f(and)h(more)p eop
%%Page: 23 29
23 28 bop 0 83 a Fn(W)-7 b(e')l(v)o(e)32 b(rename)e(the)i
Fc(r)m(enderT)-8 b(ableData)30 b Fn(mask)i(into)f Fc(r)m(enderT)-8
b(ableDataByLine)p Fn(,)32 b(and)f(we')l(v)o(e)g(added)g(a)h(ne)n(w)g
(mask)f(called)h Fc(r)m(en-)0 183 y(derT)-8 b(ableDataByColumn)p
Fn(.)21 b Fc(vie)o(wResult)e Fn(no)n(w)e(has)h(a)g Fc(displayBy)e
Fn(parameter)m(,)g(that')-5 b(s)18 b(entered)e(by)h(the)h(user)-5
b(.)24 b(Based)18 b(on)f(that,)h Fc(vie)o(wRe-)0 282
y(sult)k Fn(selects)f(which)e(mask)h(to)g(apply)f(and)h(applies)f(it)i
(to)f(the)g(result)g(of)g(the)g Fc(pr)m(epar)m(eT)-8
b(ableData)18 b Fn(function)g(\(which)h(hasn')o(t)g(changed\).)0
429 y(No)n(w)-5 b(,)19 b(try)h(one)g(more)f(test:)27
b(In)19 b(your)g(bro)n(wser)m(,)g(enter)h(the)g(URL:)h
Fo(http://localhost:8000)o(/pre)o(pa)o(reT)-10 b(ab)n(le)o(Dat)o(a?)o
(N=30)o(&C=5)0 576 y Fn(Y)h(ou)20 b(should)f(see)i(the)f(follo)n(wing)e
(error:)236 814 y Fh(CherryError:)43 b(CherryClass)g("root")h(doesn't)f
(have)i(any)f(view)g(or)h(mask)f(function)f(called)h
("prepareTableData")0 1053 y Fn(This)27 b(means)g(that)h(a)f(function)f
(cannot)g(be)h("called")g(directly)f(from)g(a)i(bro)n(wser)-5
b(.)45 b(Only)27 b(vie)n(ws)h(and)e(masks,)j(which)e(return)f(some)0
1153 y(rendered)18 b(data,)i(can)g(be)g("called")g(directly)-5
b(.)0 1300 y(What)21 b(we')l(v)o(e)e(learned:)125 1513
y Fm(\017)41 b Fn(CherryPy)19 b(allo)n(ws)h(true)g(separation)f(of)h
(content)f(and)h(presentation)e(by)i(using)g(functions,)e(masks)i(and)g
(vie)n(ws)125 1679 y Fm(\017)41 b Fn(Functions)20 b(process)g(some)h
(data)g(and)g(return)f(some)g(data.)28 b(A)21 b(function)f
(implementing)f(an)i(algorithm)e(can)i(be)g(reused)f(on)h(all)208
1779 y(kinds)e(of)h(data.)125 1945 y Fm(\017)41 b Fn(Masks)20
b(tak)o(e)g(some)g(data)g(as)h(input)f(and)f(render)g(it.)26
b(A)21 b(mask)f(can)g(be)g(reused)f(for)h(all)g(kinds)g(of)g(data)125
2111 y Fm(\017)41 b Fn(V)-5 b(ie)n(ws)20 b(are)g(the)h(link)f(between)f
(functions)g(and)g(masks.)0 2324 y(Note:)39 b(inside)27
b(a)h(CherryClass)f(declaration,)g(the)h(dif)n(ferent)d(sections)i
(\(function,)g(mask)g(or)g(vie)n(w\))g(can)g(appear)f(in)h(an)o(y)g
(order)m(,)g(as)0 2424 y(man)o(y)19 b(times)i(as)g(you)e(w)o(ant.)0
2570 y(In)h(the)g(ne)o(xt)g(chapter)m(,)e(we')o(ll)j(see)f(ho)n(w)g
(CherryPy)f(determines)g(which)h(method)f(to)h(call)h(based)e(on)h(the)
g(URL...)p 0 5549 3901 4 v 0 5649 a Fk(6.2.)52 b(More)23
b(e)n(xamples)g(on)h(using)f(functions)o(,)g(masks)f(and)i(vie)n(ws)f
(together)1358 b(23)p eop
%%Page: 24 30
24 29 bop 0 5549 3901 4 v 0 5649 a Fk(24)p eop
%%Page: 25 31
25 30 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3495 427
y Fj(SEVEN)p 0 515 V 830 978 a Fs(Class)m(,)58 b(instance)m(,)g(method)
f(and)g(URL)0 1457 y Fn(So)23 b(f)o(ar)m(,)h(we')l(v)o(e)e(seen)h(that)
h(the)f(URL)h Fo(http://localhost:8000)17 b Fn(triggers)23
b(a)g(call)h(to)f(the)h Fc(inde)n(x)f Fn(method)f(of)h(the)g
Fc(Root)h Fn(class.)35 b(The)23 b(URL)0 1556 y Fo
(http://localhost:8000/vi)o(e)n(wResul)o(t)15 b Fn(triggers)k(a)i(call)
g(to)f(the)g Fc(vie)o(wResult)i Fn(method)d(of)h(the)g
Fc(Root)h Fn(class.)125 1770 y Fm(\017)41 b Fn(Ho)n(w)20
b(does)g(this)g(magic)g(w)o(ork)f(?)125 1936 y Fm(\017)41
b Fn(I)25 b(kno)n(w)g(it)h(cannot)e(call)i(the)g(method)e(of)h(a)h
(class.)42 b(It)26 b(has)g(to)f(call)h(the)g(method)e(of)h
Fl(an)h(instance)g Fn(of)f(a)h(class.)42 b(Ho)n(w)25
b(do)g(you)208 2035 y(e)o(xplain)18 b(that)j(?)125 2201
y Fm(\017)41 b Fn(What)20 b(if)h(I)f(type)g(the)g(URL)h
Fo(http://localhost:8000)o(/di)o(r1/d)o(ir2)o(/d)o(ir3)o(/pa)o(ge)0
2415 y Fn(Let')-5 b(s)21 b(answer)f(these)g(questions:)0
2561 y(First)h(of)f(all,)g(when)g(you)f(declare)h(a)g(CherryClass)h(in)
f(the)g(source)g(\002le:)236 2800 y Fh(CherryClass)43
b(ClassName:)0 3086 y Fn(CherryPy)20 b(\(or)m(,)g(to)h(be)g(more)f
(precise:)26 b(the)21 b(e)o(x)o(ecutable)e(generated)g(by)i(CherryPy\))
e(will)j(automatically)d(create)i(an)g(instance)f(of)h(this)0
3185 y(class,)e(called)e Fc(className)p Fn(.)24 b(This)18
b(is)g(the)f(name)g(of)g(the)h(class)g(with)f(a)h(lo)n(wer)f(case)h
(\002rst)g(letter)-5 b(.)25 b(\(This)17 b(is)h(the)f(reason)g(why)g
(CherryClass)0 3285 y(names)j(should)f(al)o(w)o(ays)i(start)f(with)h
(an)f(upper)f(case)h(letter\))0 3432 y(This)g(instance)g(is)h(a)g
(global)e(v)n(ariable)g(and)h(can)g(be)g(acces)h(from)e(an)o(ywhere)f
(in)i(the)g(program.)0 3579 y(Based)h(on)e(the)i(URL,)f(ho)n(w)g(does)g
(CherryPy)f(kno)n(w)g(which)h(method)e(of)i(which)g(class)h(instance)f
(to)g(call)h(?)0 3726 y(It)h(uses)g(a)h(simple)e(mechanism:)28
b(F)o(or)21 b(the)h(URL)g Fc(host/dir1/dir2/dir3/pa)o(g)o(e)p
Fn(,)d(it)k(will)g(call)f(the)g Fc(dir1_dir2_dir3.pa)o(g)o(e\(\))17
b Fn(method.)28 b(So)0 3825 y(it)21 b(will)g(e)o(xpect)e(your)g
(program)f(to)i(ha)n(v)o(e)g(a)h(CherryClass)f(called)g
Fc(Dir1_dir2_dir3)p Fn(,)e(which)i(should)f(ha)n(v)o(e)g(a)i(method)e
(called)h Fc(pa)o(g)o(e)p Fn(.)0 3972 y(There)f(are)h(2)h(special)f
(cases:)125 4185 y Fm(\017)41 b Fn(if)23 b(there)f(is)h(no)g(\002rst)g
(directory)e(\(in)i(other)f(w)o(ords,)g(the)h(URL)g(is)h(in)f(the)f
(form:)30 b Fc(host/pa)o(g)o(e)p Fn(,)22 b(then)g(it)h(will)h(call)f
(the)g Fc(r)l(oot.pa)o(g)o(e\(\))208 4285 y Fn(method.)g(This)d(means)g
(that)h(both)e(URL)i Fc(host/pa)o(g)o(e)e Fn(and)g Fc(host/r)l(oot/pa)o
(g)o(e)g Fn(are)h(perfectly)f(equi)n(v)n(alent.)125 4451
y Fm(\017)41 b Fn(if)26 b(there)f(is)i(no)f(\002rst)g(directory)f(and)g
(no)h(page)f(\(in)h(other)f(w)o(ords,)h(the)g(URL)h(is)g(just)f(the)g
(host)g(name\),)g(then)g(it)g(will)h(call)g(the)208 4551
y Fc(r)l(oot.inde)n(x\(\))18 b Fn(method.)0 4764 y Fl(Important)p
Fn(:)41 b(In)29 b(CherryPy-0.9,)e(a)i(ne)n(w)g(feature)e(w)o(as)j
(added:)40 b(if)29 b(the)g(page)f Fo(http://localhost:8000/)o(di)o
(r1/d)o(ir2)o(/d)o(ir3)23 b Fn(is)29 b(requested,)0 4864
y(CherryPy)24 b(will)h(con)m(v)o(ert)e(it)i(\002rst)h(to)f
Fc(dir1_dir2.dir3\(\))p Fn(,)e(so)i(it)h(will)f(e)o(xpect)f(a)h
Fc(dir3)g Fn(method)e(in)i(the)g Fc(Dir1_dir2)f Fn(CherryClass.)39
b(But)0 4963 y(if)25 b(no)e(such)h(method)f(e)o(xists,)j(then)e(it)h
(will)g(look)e(for)h(an)g Fc(inde)n(x)g Fn(method)f(in)h(the)h
Fc(Dir1_dir2_dir3)d Fn(CherryClass.)37 b(\(this)25 b(w)o(ould)e(also)0
5063 y(correspond)18 b(to)i Fo(http://localhost:8000/)o(dir)o(1/d)o
(ir2)o(/di)o(r3/)o(ind)o(e)m(x)-5 b Fn(\).)0 5210 y(In)20
b(the)g(ne)o(xt)g(chapter)m(,)e(we')o(ll)j(see)f(ho)n(w)g(to)g(use)h
(inheritance)d(when)i(we)h(ha)n(v)o(e)e(similar)i(modules)e(inside)h(a)
g(website...)p 0 5549 3901 4 v 3808 5649 a Fk(25)p eop
%%Page: 26 32
26 31 bop 0 5549 3901 4 v 0 5649 a Fk(26)p eop
%%Page: 27 33
27 32 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3535 427
y Fj(EIGHT)p 0 515 V 876 978 a Fs(Using)57 b(OOP)g(to)g(prog)n(r)n(am)g
(a)g(w)n(ebsite)0 1468 y Fn(One)23 b(the)h(the)f(most)g(po)n(werful)f
(feature)g(of)h(CherryPy)f(is)j(that)e(you)g(can)g(really)g(use)g(an)h
Fl(object)e(oriented)h Fn(approach)e(to)j("program")0
1568 y(your)19 b(website.)0 1715 y(When)h(you)f(look)h(at)g(a)h(comple)
o(x)d(website,)j(you')o(ll)e(realize)h(that)g(some)g(parts)g(ha)n(v)o
(e)g(a)g(lot)h(in)f(common:)125 1928 y Fm(\017)41 b Fn(The)o(y)19
b(use)h(the)g(same)h(functionalities)d(b)n(ut)j(these)f
(functionalities)f(are)h(applied)f(to)h(a)h(dif)n(ferent)e(type)g(of)h
(data)125 2094 y Fm(\017)41 b Fn(The)o(y)22 b(display)g(the)h(same)g
(information,)f(b)n(ut)h(the)g(data)g(is)h(displayed)e(dif)n(ferently)f
(\(for)h(instance,)h(when)g(you)f(ha)n(v)o(e)g(multiple)208
2194 y(v)o(ersions)d(of)h(a)g(website,)g(or)g(you)g(ha)n(v)o(e)f(se)n
(v)o(eral)h(v)o(ersions)f(in)h(se)n(v)o(eral)g(languages\))0
2407 y(In)h(both)g(cases,)i(OOP)f(pro)o(vides)e(an)i(ele)o(gant)e
(solution)h(to)h(the)g(problem)e(and)h(minimizes)g(the)h(amount)e(of)i
(code)f(that)h(is)g(required)e(to)0 2507 y(implement)f(the)h(solution.)
0 2654 y(T)-7 b(o)27 b(sho)n(w)f(you)f(ho)n(w)h(this)h(can)f(be)g
(done,)h(we')o(ll)g(create)f(a)h(website)f(that)h(comes)f(in)g(tw)o(o)h
(v)o(ersions:)37 b(the)26 b(English)g(v)o(ersion)f(and)h(the)0
2753 y(French)19 b(v)o(ersion.)24 b(Not)c(only)g(do)f(the)i(te)o(xt)f
(and)f(labels)i(change,)d(b)n(ut)j(also)f(the)g(colors)g(and)g(the)g(w)
o(ay)g(modules)f(are)h(displayed.)0 2900 y(Enter)g(the)g(follo)n(wing)e
(code)i(for)f(the)i(website:)p 0 5549 3901 4 v 3808 5649
a Fk(27)p eop
%%Page: 28 34
28 33 bop 236 174 a Fh(#######################)236 266
y(CherryClass)43 b(Airline)h(abstract:)236 357 y
(#######################)236 448 y(function:)416 540
y(def)g(localize\(self,)e(stri\):)595 631 y(return)i
(self.dictionnary.get\(stri,)c(stri\))236 722 y(mask:)416
814 y(def)k(header\(self\):)595 905 y(<html><body>)774
996 y(<center>)954 1088 y(<H1)g(py-eval="self.localize\('Welcome)39
b(to)45 b(CherryPy)e(airline'\)"></H1>)954 1179 y(<div)h
(py-if="self==airlineFrench">)1133 1270 y(<a)g
(py-attr="request.base+'/airlineEnglish/in)o(dex'")38
b(href="">)1312 1362 y(Click)44 b(here)g(for)h(English)e(version)1133
1453 y(</a>)954 1544 y(</div><div)g(py-else>)1133 1636
y(<a)h(py-attr="request.base+'/airlineFrench/ind)o(ex'")39
b(href="">)1312 1727 y(Cliquez)44 b(ici)g(pour)g(la)h(version)e
(fran\347aise)1133 1818 y(</a>)954 1910 y(</div>)954
2001 y(<br><br><br><br>)416 2092 y(def)h(footer\(self\):)774
2183 y(</center>)595 2275 y(</body></html>)416 2366 y(def)g
(squareWithText\(self,)d(title,)j(text\):)595 2457 y(<table)g(border=0)
f(cellspacing=0)g(cellpadding=1)f(width=200><tr>)774
2549 y(<td)j(py-attr="self.borderColor")40 b(bgColor="">)954
2640 y(<table)j(border=0)h(cellspacing=0)e(cellpadding=5><tr>)1133
2731 y(<td)i(py-attr="self.insideColor")d(bgColor="")1312
2823 y(align=center)i(width=198)g
(py-eval="'<b>\045s</b><br><br>\045s'\045\(title,tex)o(t\)">)1133
2914 y(</td>)954 3005 y(</tr></table>)774 3097 y(</td>)595
3188 y(</tr></table>)236 3279 y(view:)416 3371 y(def)h
(bookAFlight\(self\):)595 3462 y(page=self.header\(\))595
3553 y(page+=self.squareWithText\(self.localiz)o(e\('Boo)o(king)39
b(a)44 b(flight'\),)774 3645 y(self.localize\('To)e(book)i(a)h(flight,)
f(think)g(about)g(where)g(you)g(want)g(to)h(go,)f(and)g(you)h(should)e
(dream)h(about)g(it)h(tonight'\)\))595 3736 y(page+=self.footer\(\))595
3827 y(return)f(page)236 4101 y(#######################)236
4193 y(CherryClass)f(AirlineFrench\(Airline\):)236 4284
y(#######################)236 4375 y(variable:)416 4467
y(insideColor='#FFFF99')416 4558 y(borderColor='#FF6666')416
4649 y(dictionnary={)595 4741 y('Welcome)g(to)i(CherryPy)e(airline':)h
('Bienvenue)f(chez)h(CherryPy)f(airline',)595 4832 y('Booking)g(a)i
(flight':)f('R\351server)f(un)h(vol',)595 4923 y('To)g(book)g(a)h
(flight,)f(think)g(about)g(where)g(you)g(want)g(to)h(go,)f(and)g(you)h
(should)e(dream)h(about)g(it)h(tonight':)774 5015 y('Pour)f
(r\351server)g(un)g(vol,)g(pensez)g(tr\350s)g(fort)g(\340)h(la)g
(destination,)d(et)j(vous)f(devriez)g(en)g(r\352ver)g(cette)g(nuit')416
5106 y(})236 5197 y(view:)416 5289 y(def)g(index\(self\):)595
5380 y(page=self.header\(\))595 5471 y
(page+=self.squareWithText\('R\351server)39 b(un)44 b(vol',)g('Pour)g
(r\351server)g(un)g(vol,)g(cliquez)g(sur)g(<a)h
(href="\045s/bookAFlight">r\351server</a>'\045sel)o(f.getP)o(ath\(\)\))
o(+'<br)o(>')595 5562 y(page+=self.squareWithText\('Pr\351sentatio)o
(n',)39 b('CherryPy)k(airline)h(est)g(la)h(compagnie)e(qui)h(vous)g
(emm\350ne)g(au)h(7\350me)f(ciel'\))595 5654 y(page+=self.footer\(\))
595 5745 y(return)g(page)236 5928 y(#######################)236
6019 y(CherryClass)f(AirlineEnglish\(Airline\):)236 6110
y(#######################)236 6202 y(variable:)416 6293
y(insideColor='#00CCFF')416 6384 y(borderColor='#3333FF')416
6476 y(dictionnary={})236 6567 y(view:)416 6658 y(def)h(index\(self\):)
595 6750 y(page=self.header\(\))595 6841 y
(page+=self.squareWithText\('Presentatio)o(n',)39 b('CherryPy)k
(airline)h(is)g(the)h(company)e(that)h(will)h(take)f(you)g(to)h(cloud)f
(9'\)+'<br>')595 6932 y(page+=self.squareWithText\('Book)39
b(a)45 b(flight',)f('<a)g(href="\045s/bookAFlight">Click)c(here</a>)k
(to)g(book)g(a)h(flight'\045self.getPath\(\)\))595 7024
y(page+=self.footer\(\))595 7115 y(return)f(page)236
7298 y(#######################)236 7389 y(CherryClass)f
(Root\(AirlineEnglish\):)236 7480 y(#######################)p
0 5549 3901 4 v 0 5649 a Fk(28)2153 b(Chapter)24 b(8.)51
b(Using)24 b(OOP)e(to)i(prog)o(r)o(am)f(a)g(w)o(ebsite)p
eop
%%Page: 29 35
29 34 bop 0 83 a Fn(This)20 b(program)e(uses)j(a)g(lot)f(of)g(ne)n(w)g
(features)g(of)f(CherryPy)-5 b(.)24 b(Let')-5 b(s)21
b(try)f(to)g(understand)e(ho)n(w)i(it)h(w)o(orks:)0 230
y(The)i(idea)f(is)i(to)f(use)g(a)g(generic)f(CherryClass)h(\()p
Fc(Airline)p Fn(\))f(that)h(contains)f(functions,)g(masks)h(and)g(vie)n
(ws)g(that)g(are)f(common)f(to)i(both)0 330 y(v)o(ersions)j(\(English)g
(and)h(French\))f(or)h(the)g(website.)46 b(Then)27 b(we)g(use)g(2)h
(CherryClasses)f(\()p Fc(AirlineF)-5 b(r)m(enc)o(h)26
b Fn(and)h Fc(AirlineEnglish)p Fn(\))e(to)0 429 y(implement)19
b(speci\002cities)i(of)f(each)f(v)o(ersion.)0 576 y(W)-7
b(e)21 b(use)g(tw)o(o)f(dif)n(ferent)f(w)o(ays)h(to)h(implement)e
(speci\002cities)h(of)g(each)g(v)o(ersion:)125 789 y
Fm(\017)41 b Fn(Either)21 b(the)h(only)e(dif)n(ference)g(is)j(the)f
(labels)g(\(the)o(y)e(are)i(translated)f(into)h(French)e(for)i(the)f
(French)g(v)o(ersion\).)28 b(In)22 b(this)g(case,)g(we)208
889 y(just)e(use)h(a)f(dictionnary)e(to)j(implement)d(the)j
(translation.)125 1055 y Fm(\017)41 b Fn(Or)20 b(the)g(presentation)f
(of)h(the)g(information)e(also)i(changes.)k(In)c(this)h(case,)f(we)h
(write)f(2)g(v)o(ersions)f(of)h(each)g(method.)0 1268
y(This)g(e)o(xample)f(also)i(sho)n(ws)f(some)g(ne)n(w)g(features)f(of)h
(CherryPy:)125 1498 y Fm(\017)41 b Fl(Abstract)24 b(CherryClasses)p
Fn(:)36 b(in)25 b(this)h(e)o(xample,)f(you')o(ll)f(notice)h(that)g
(CherryClass)g Fc(Airline)h Fn(is)g(declared)e("abstract".)39
b(This)208 1598 y(just)20 b(means)g(that)g(the)g(serv)o(er)f(w)o(on')o
(t)g(create)h(an)o(y)f(instance)h(of)g(the)g(CherryClass)g(called)g
Fc(airline)p Fn(.)25 b(As)c(a)f(result,)g(you)f(can')o(t)g(use)208
1697 y(the)h(URL)h Fo(http://localhost:8000/a)o(ir)q(l)o(in)o(e/i)o(nd)
o(e)n(x)-6 b Fn(.)26 b(The)20 b(idea)h(behind)d(this)j(is)h(that)e
Fc(Airline)h Fn(cannot)e(be)i(used)f(directly)-5 b(.)24
b(It)d(has)f(to)208 1797 y(be)g(deri)n(v)o(ed)e(into)i(sub-classes,)g
(and)g(only)f(these)h(sub-classes)h(can)f(be)g(accessed)g(from)f(the)h
(bro)n(wser)-5 b(.)125 1963 y Fm(\017)41 b Fl(V)-8 b(ariable)20
b(section)p Fn(:)26 b(you')o(ll)19 b(notice)h(that)h(this)g(e)o(xample)
e(uses)i(a)g(ne)n(w)f(kind)g(of)g(section)g(in)h(a)g(CherryClass:)26
b Fc(variable)p Fn(.)f(This)c(is)208 2063 y(just)f(used)g(to)h(set)g(v)
n(ariables)e(by)h(def)o(ault)f(for)h(this)g(CherryClass.)125
2229 y Fm(\017)41 b Fl(self)o(.getP)o(ath\(\))p Fn(:)36
b(by)26 b(def)o(ault,)i(CherryPy)e(creates)h(a)g(method)f(called)h
Fc(g)o(etP)-7 b(ath)26 b Fn(for)g(each)h(CherryClass.)45
b(This)27 b(method)f(re-)208 2328 y(turns)32 b(the)h(URL)g(of)g(the)f
(CherryClass.)63 b(F)o(or)33 b(instance,)i(for)d(the)h
Fc(AirlineF)-5 b(r)m(enc)o(h)32 b Fn(CherryClass,)k Fc(g)o(etP)-7
b(ath)32 b Fn(w)o(ould)g(return)208 2428 y Fo(http://localhost:8000)o
(/ai)o(r)q(li)o(ne)o(F)m(re)o(nch)-6 b Fn(.)208 2561
y(This)25 b(method)f(also)h(tak)o(es)h(an)f(optional)f(ar)o(gument)f
Fc(includeRequestBase)p Fn(,)h(which)g(def)o(aults)h(to)h(1.)40
b(If)25 b(you)f(set)i(it)g(to)g(0)f(then)208 2660 y(the)c(returned)f
(URL)i(w)o(on')o(t)e(include)g(the)i(domain)e(name.)28
b(F)o(or)21 b(instance,)g(for)g(the)g Fc(AirlineF)-5
b(r)m(enc)o(h)21 b Fn(CherryClass,)g Fc(g)o(etP)-7 b(ath\(0\))208
2760 y Fn(w)o(ould)19 b(return)g Fo(/air)q(lineF)m(rench)-5
b Fn(.)0 2990 y(In)20 b(the)g(ne)o(xt)g(chapter)m(,)e(we')o(ll)j(learn)
e(ho)n(w)h(to)g(split)h(our)f(code)f(in)h(se)n(v)o(eral)g(source)f
(\002les...)p 0 5549 3901 4 v 3808 5649 a Fk(29)p eop
%%Page: 30 36
30 35 bop 0 5549 3901 4 v 0 5649 a Fk(30)p eop
%%Page: 31 37
31 36 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3614 427
y Fj(NINE)p 0 515 V 1824 978 a Fs(Using)58 b(se)-6 b(v)h(er)n(al)56
b(modules)0 1468 y Fn(As)23 b(you')o(ll)f(program)e(bigger)h(websites,)
i(you')o(ll)f(soon)g(feel)g(the)g(need)g(to)h(split)g(your)e(source)g
(code)h(in)h(se)n(v)o(eral)f(modules.)30 b(There)22 b(are)0
1567 y(tw)o(o)e(w)o(ays)h(to)f(do)g(this:)125 1770 y
Fm(\017)41 b Fn(Either)21 b(your)g(modules)g(are)h(completely)e
(independant.)28 b(In)22 b(this)h(case,)f(just)h(create)f(your)f
(\002les)i(\(for)e(instance:)28 b(`)p Fo(Hello1.cp)n(y)p
Fn(',)208 1870 y(`)p Fo(Hello2.cp)n(y)p Fn(')17 b(and)j(`)p
Fo(Hello3.cp)n(y)p Fn('\))d(and)j(compile)f(them)h(using:)444
2091 y Fh(python)44 b(../cherrypy.py)e(Hello1.cpy)h(Hello2.cpy)g
(Hello3.cpy)208 2330 y Fn(Note)20 b(that)g(the)g(e)o(x)o(ecutable)e
(that)j(CherryPy)e(will)i(generate)e(will)i(be)f(called)g(`)p
Fo(Hello1Ser)r(v)n(er)l(.p)n(y)p Fn(')125 2491 y Fm(\017)41
b Fn(Or)21 b(one)f(module)g(is)i(needed)e(by)g(the)h(other)f(\(for)g
(instance,)h(one)g(is)h(a)f(library)f(used)h(by)f(the)h(other)g(one\).)
26 b(In)21 b(this)g(case,)h(all)f(you)208 2591 y(need)e(to)i(do)f(is)i
(type)e(the)h(k)o(e)o(yw)o(ord)d Fc(use)j(module)f Fn(on)g(the)g(v)o
(ery)g(\002rst)h(line)g(of)f(the)h(\002le.)26 b(This)21
b(w)o(orks)f(lik)o(e)h(an)g Fc(import)h Fn(statement)208
2690 y(in)e(Python.)k(F)o(or)c(instance,)f(you)g(can)h(ha)n(v)o(e:)444
2912 y Fh(*****)44 b(File)g(BoldTime.cpy:)f(*****)444
3003 y(import)h(time)444 3186 y(CherryClass)f(BoldTime:)444
3277 y(view:)623 3369 y(def)h(getBoldTime\(self\):)802
3460 y(#)h(Display)f(the)g(time)g(in)h(bold)802 3551
y(return)f("<b>\045s</b>"\045time.time\(\))444 3734 y(*****)g(File)g
(Hello.cpy:)f(*****)444 3825 y(use)h(BoldTime)444 4008
y(CherryClass)f(Root:)444 4099 y(view:)623 4190 y(def)h(index\(self\):)
802 4282 y(return)g("<html><body>Hello,)e(time)i(is)h
(\045s</body></hello>"\045boldTime.getBoldT)o(ime\(\))208
4521 y Fn(T)-7 b(o)20 b(compile)f(this,)i(just)f(use:)444
4742 y Fh(python)44 b(../cherrypy.py)e(Hello.cpy)208
5012 y Fn(Fi)n(v)o(e)20 b(things)f(to)i(note:)307 5173
y Fl(\226)41 b Fn(The)20 b Fc(use)g Fn(statement)g(MUST)h(be)f(on)g
(the)g(v)o(ery)f(\002rst)i(line)f(of)g(the)g(\002le)h(\(don')o(t)d(put)
i(an)o(y)g(comment)e(before\).)307 5300 y Fl(\226)41
b Fn(CherryPy)19 b(will)i(automatically)e(create)h(a)h(list)g(of)f
(dependencies,)e(and)h(thus)h(read)g(the)g(\002les)i(in)e(order)f(and)h
(generate)f(the)390 5400 y(e)o(x)o(ecutable)f(accordingly)-5
b(.)23 b(If)d(you)f(create)h(a)g(loop)g(in)g(the)g(dependencies,)e
(CherryPy)h(will)i(raise)f(an)h(error)-5 b(.)p 0 5549
3901 4 v 3808 5649 a Fk(31)p eop
%%Page: 32 38
32 37 bop 307 83 a Fl(\226)41 b Fn(The)21 b(name)f(of)h(the)g
(CherryClass)g(is)h Fc(BoldT)-5 b(ime)21 b Fn(\(with)g(an)g(upper)f
(case)i(B\).)f(So)g(is)h(the)f(name)g(of)g(the)g(\002le)h(and)e(the)h
(name)390 183 y(you)d(use)h(in)g(the)g Fc(use)g Fn(statement.)24
b(But)19 b(when)g(you)f(call)h Fc(boldT)-5 b(ime)o(.g)o(etBoldT)g(ime)p
Fn(,)17 b(a)i(lo)n(wer)f(b)h(is)h(used,)e(because)h(it)g(refers)390
282 y(to)i(the)f(instance)g(of)f(the)i(class)g(that)f(is)h
(automatically)e(created.)307 415 y Fl(\226)41 b Fn(Y)-9
b(ou)28 b(can)h(still)h(use)f(re)o(gular)e(Python)h Fc(import)i
Fn(statements.)51 b(\(Either)28 b Fb(import)49 b(...)h
Fn(or)29 b Fb(from)49 b(...)99 b(import)390 515 y(...)p
Fn(\))307 648 y Fl(\226)41 b Fn(If)19 b(you)f(ha)n(v)o(e)g(lots)i(of)e
(modules)g(to)h(include)f(with)h Fc(use)p Fn(,)h(then)e(you)g(can)h
(split)g(the)g("use")g(statement)g(on)f(se)n(v)o(eral)h(lines)g(\(b)n
(ut)390 747 y(the)o(y)h(ha)n(v)o(e)f(to)i(be)f(the)g(\002rst)h(lines)f
(of)g(the)h(\002le\).)k(F)o(or)20 b(instance,)f(you)h(can)g(use:)626
955 y Fh(******)44 b(File)g(Root.cpy:)g(*****)626 1046
y(use)h(HttpAuthenticate,)d(CookieAuthenticate)626 1137
y(use)j(Mail,)f(MaskTools)626 1320 y(CherryClass)f(Root:)626
1411 y(mask:)626 1503 y(def)i(index\(self\):)626 1594
y(OK)0 1913 y Fn(What)21 b(if)f(the)g(modules)f(are)i(not)e(in)i(the)f
(same)g(directory)f(?)0 2060 y(W)-7 b(ell,)26 b(all)e(you)f(ha)n(v)o(e)
g(to)h(do)g(is)g(to)g(use)g(the)g Fc(-I)k Fn(option)22
b(to)i(compile)f(the)h(\002les.)37 b(This)24 b(allo)n(ws)g(you)f(to)g
(specify)h(the)f(directories)g(where)0 2160 y(CherryPy)c(will)i(look)e
(for)h(input)f(\002les.)26 b(F)o(or)20 b(instance,)g(if)g(you)f(ha)n(v)
o(e)h(the)g(follo)n(wing)f(\002les:)236 2398 y Fh(/dir1/Module1.cpy)236
2489 y(/dir2/Module2.cpy)236 2581 y(Hello.cpy)44 b(\(uses)g(Module1)f
(and)i(Module2\))0 2820 y Fn(Then)19 b(you)h(w)o(ould)f(compile)g(`)p
Fo(Hello)m(.cp)n(y)p Fn(')f(using:)236 3058 y Fh(python)44
b(../cherrypy.py)f(-I)h(/dir1)g(-I)h(/dir2)e(Hello.cpy)0
3297 y Fn(By)21 b(def)o(ault,)e(CherryPy)g(will)i(look)e(in)h(`)p
Fo(.)p Fn(',)g(`)p Fo(../lib)p Fn(')e(and)i(`)p Fo(../src)p
Fn(')0 3444 y(Y)-9 b(ou)25 b(can)g(also)h(set)h(an)e(en)m(vironment)e
(v)n(ariable)h(called)i Fc(CHERR)o(YPY_HOME)g Fn(that)g(contains)f(the)
g(name)g(of)h(the)f(directory)f(where)0 3543 y(CherryPy)19
b(is)i(installed.)26 b(In)20 b(this)h(case,)g(CherryPy)e(will)i(also)f
(look)g(in)h(`)p Fo(CHERR)l(YPY_HOME/lib)p Fn(')c(and)j(`)p
Fo(CHERR)l(YPY_HOME/src)p Fn(')0 3643 y(to)g(\002nd)g(the)g(modules.)0
3790 y(In)g(the)g(ne)o(xt)g(chapters,)f(we')o(ll)h(learn)g(ho)n(w)g(to)
g(use)g(a)h(fe)n(w)f(of)g(CherryPy')-5 b(s)19 b(standard)g(library)h
(modules.)p 0 5549 3901 4 v 0 5649 a Fk(32)2534 b(Chapter)24
b(9.)52 b(Using)23 b(se)n(v)n(er)o(al)f(modules)p eop
%%Page: 33 39
33 38 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3661 427
y Fj(TEN)p 0 515 V 329 978 a Fs(HTTP)58 b(and)f(cookie-based)g
(authentication)0 1457 y Fn(The)20 b(tw)o(o)g(most)h(common)d(w)o(ays)i
(to)h(restrict)f(access)h(to)f(some)g(parts)g(of)g(a)h(website)f(are:)
125 1670 y Fm(\017)41 b Fn(HTTP)29 b(authentication:)42
b(the)30 b(bro)n(wser)e(opens)h(a)h(popup-windo)n(w)c(and)j(prompts)f
(you)h(for)g(a)h(login)f(and)g(passw)o(ord.)52 b(The)208
1770 y(session)20 b(information)e(is)j(stored)f(inside)g(your)f(bro)n
(wser)g(and)g(is)j(lost)e(when)g(you)f(close)i(all)f(bro)n(wser)f
(windo)n(ws.)125 1936 y Fm(\017)41 b Fn(Cookie-based)25
b(authentication:)37 b(Y)-9 b(ou)26 b(use)h(a)h(form)e(to)h(enter)f
(your)g(login)g(and)h(passw)o(ord.)45 b(Y)-9 b(our)26
b(session)h(information)e(is)208 2035 y(stored)19 b(in)i(a)f(cookie)0
2249 y(These)c(techniques)f(can)h(be)h(a)f(pain)g(to)h(implement)e
(with)h(some)g(application)f(serv)o(ers.)23 b(W)m(ith)17
b(CherryPy)-5 b(,)15 b(the)o(y)h(require)f(only)g Fl(THREE)0
2348 y(LINES)22 b(OF)e(CODE)h Fn(!)0 2495 y(All)d(you)f(ha)n(v)o(e)g
(to)h(do)f(is)h(use)g(the)f(standard)g(modules)f Fc(HttpA)n
(uthenticate)g Fn(and)h Fc(CookieA)n(uthenticate)p Fn(.)22
b(The)17 b(follo)n(wing)f(is)i(an)g(e)o(xample)0 2595
y(that)i(uses)h(both)e(modules.)p 0 5549 3901 4 v 3808
5649 a Fk(33)p eop
%%Page: 34 40
34 39 bop 236 174 a Fh(use)45 b(HttpAuthenticate,)d(CookieAuthenticate)
236 357 y(CherryClass)h(Root:)236 448 y(mask:)416 540
y(def)h(index\(self\):)595 631 y(<html><body>)774 722
y(<a)h(py-attr="request.base+'/httpProtected)o(/index)o('")39
b(href="">Click)k(here)h(to)g(enter)g(a)h(restricted)e(area)h(using)g
(HTTP)g(authentication</a><br>)774 814 y(<a)h
(py-attr="request.base+'/cookieProtect)o(ed/ind)o(ex'")39
b(href="">Click)j(here)i(to)h(enter)f(a)h(restricted)e(area)h(using)g
(cookie)g(authentication</a><br>)774 905 y(In)h(both)f(cases,)g(the)g
(login)g(and)g(password)g(are)g("login")g(and)g("password")595
996 y(</body></html>)236 1179 y(CherryClass)f
(HttpProtected\(HttpAuthenticate\):)236 1270 y(function:)416
1362 y(def)h(getPasswordListForLogin\(self,)c(login\):)595
1453 y(#)45 b(Here)f(we)g(define)g(what)g(the)h(login)e(and)i(password)
e(are)595 1544 y(if)h(login=='login':)f(return)h(['password'])595
1636 y(return)g([])236 1727 y(mask:)416 1818 y(def)g(index\(self\):)595
1910 y(<html><body>You're)e(in</body></html>)236 2092
y(CherryClass)h(CookieProtected\(CookieAuthenticate\):)236
2183 y(function:)416 2275 y(def)h(getPasswordListForLogin\(self,)c
(login\):)595 2366 y(#)45 b(Here)f(we)g(define)g(what)g(the)h(login)e
(and)i(password)e(are)595 2457 y(if)h(login=='login':)f(return)h
(['password'])595 2549 y(return)g([])236 2640 y(mask:)416
2731 y(def)g(index\(self\):)595 2823 y(<html><body>)774
2914 y(You're)g(in<br>)774 3005 y(Click)g(<a)h
(href="doLogout">here</a>)40 b(to)45 b(log)f(out.)595
3097 y(</body></html>)0 3383 y Fn(As)18 b(you)f(can)g(see,)i(all)f(you)
e(ha)n(v)o(e)h(to)h(do)f(is)h(to)g(create)f(a)h(CherryClass)g(that)f
(inherits)g(from)g Fc(HttpA)n(uthenticate)f Fn(or)h Fc(CookieA)n
(uthenticate)0 3483 y Fn(and)j(implement)f(a)i(function)e(called)i
Fc(g)o(etP)-7 b(asswor)m(dListF)e(orLo)o(gin)20 b Fn(that)g(returns)g
(a)h(list)h(of)e(matching)f(passw)o(ords)h(for)g(a)h(gi)n(v)o(en)f
(login.)0 3582 y(\(this)g(allo)n(ws)h(you)e(to)h(k)o(eep)g(a)h(master)f
(k)o(e)o(y)f(that)i(w)o(orks)f(for)f(all)i(users,)f(for)g(instance)f
(...\))0 3729 y(As)i(you)e(can)h(see,)h(using)e(these)i(tw)o(o)f
(modules)f(is)j(really)d(easy)-5 b(.)0 3876 y(In)20 b(the)g(ne)o(xt)g
(chapter)m(,)e(we')o(ll)j(see)f(ho)n(w)g(to)g(use)h(another)e(CherryPy)
g(standard)g(module:)k(F)o(orm)p 0 5549 3901 4 v 0 5649
a Fk(34)1887 b(Chapter)24 b(10.)52 b(HTTP)23 b(and)g(cookie-based)g
(authentication)p eop
%%Page: 35 41
35 40 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3422 427
y Fj(ELEVEN)p 0 515 V 1892 978 a Fs(Handling)57 b(HTML)h(f)-6
b(or)5 b(ms)0 1468 y Fn(Creating)21 b(HTML)h(forms)f(can)h(really)f(be)
h(a)g(pain)g(with)g(some)f(application)g(serv)o(ers.)29
b(Especially)22 b(if)g(you)f(w)o(ant)h(to)g(handle)e(errors:)28
b(if)0 1567 y(the)23 b(user)h(entered)e(an)i(incorrect)e(information,)f
(the)j(form)e(is)j(displayed)d(again,)h(all)h(\002elds)g(ha)n(v)o(e)f
(k)o(ept)g(their)g(v)n(alue,)h(and)f(\002elds)g(that)0
1667 y(ha)n(v)o(e)d(an)g(error)f(stand)h(out.)0 1814
y(If)c(you)g(use)g(CherryPy')-5 b(s)15 b(F)o(orm)h(module,)f(you')o(ll)
h(probably)e(sa)n(v)o(e)i(yourself)f(a)i(lot)f(of)g(time)h(\(once)e
(you')l(v)o(e)f(understood)g(ho)n(w)i(it)h(w)o(orks\).)0
1961 y(An)33 b(e)o(x)o(emple)e(is)i(pro)o(vided)d(in)j(the)g(demo)f
(that)g(come')-5 b(s)33 b(with)g(CherryPy)-5 b(,)34 b(and)e(the)g
(CherryPy)g(Library)f(Reference)h(has)h(some)0 2060 y(documentation)17
b(about)i(this)i(module.)0 2207 y(In)f(the)g(ne)o(xt)g(chapter)m(,)e
(we')o(ll)j(learn)e(ho)n(w)h(to)g(con\002gure)f(some)h(of)g(CherryPy')
-5 b(s)19 b(options)g(...)p 0 5549 3901 4 v 3808 5649
a Fk(35)p eop
%%Page: 36 42
36 41 bop 0 5549 3901 4 v 0 5649 a Fk(36)p eop
%%Page: 37 43
37 42 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3415 427
y Fj(TWEL)-13 b(VE)p 0 515 V 1916 978 a Fs(Con\002gur)s(ing)57
b(Cherr)6 b(yPy)0 1468 y Fn(Up)22 b(to)g(no)n(w)-5 b(,)21
b(you')l(v)o(e)f(al)o(w)o(ays)j(run)e(CherryPy')-5 b(s)21
b(serv)o(er)g(on)h(port)f(8000.)29 b(W)-7 b(ell,)23 b(that')-5
b(s)23 b(nice,)f(b)n(ut)g(ho)n(w)f(do)h(I)g(change)f(that)h(?)31
b(It')-5 b(s)23 b(v)o(ery)0 1567 y(easy:)i(it')-5 b(s)22
b(done)d(through)f(a)i(con\002guration)e(\002le.)0 1895
y Fi(12.1)121 b(Changing)36 b(the)f(por)5 b(t)0 2127
y Fn(In)22 b(the)h(`)p Fo(hello/)p Fn(')d(directory)-5
b(,)21 b(where)h(the)h(`)p Fo(Hello)m(.cp)n(y)p Fn(')d(and)i(`)p
Fo(HelloSer)r(v)n(er)l(.p)n(y)p Fn(')e(\002les)j(sit,)h(create)f(a)g
(\002le)g(called)g(`)p Fo(HelloSer)r(v)n(er)l(.cfg)p
Fn(')c(with)0 2227 y(the)h(follo)n(wing)f(lines:)236
2465 y Fh([server])236 2557 y(socketPort=80)0 2796 y
Fn(Restart)i(the)f(serv)o(er)-5 b(...)24 b(It')-5 b(s)21
b(no)n(w)f(serving)f(on)h(port)f(80.)0 2942 y(Some)i(other)f(options)g
(are)g(a)n(v)n(ailable)h(in)g(the)g Fc([server])h Fn(section)f(of)g
(the)g(con\002g)f(\002le.)27 b(Check)21 b(out)g(the)f("Deplo)o(ying)f
(your)h(website)h(for)0 3042 y(production")c(chapter)i(for)h(more)f
(information)f(about)h(the)i(dif)n(ferent)d(options.)0
3369 y Fi(12.2)121 b(Ser)t(ving)33 b(static)h(content)0
3602 y Fn(It)20 b(you)e(w)o(ant)i(to)g(use)g(CherryPy)e(to)i(serv)o(e)f
(static)h(content,)f(all)h(you)e(ha)n(v)o(e)h(to)h(do)f(is)i(add)e(a)h
(fe)n(w)f(other)g(lines)h(in)f(the)h(con\002guration)d(\002le:)236
3840 y Fh([staticContent])236 3932 y(static=/home/remi/static)236
4023 y(data/images=/home/remi/images)0 4262 y Fn(This)30
b(means)f(that)g(when)g(the)g(bro)n(wser)g(requests)g(the)g(URL)h
Fo(http://localhost/static/styleShe)o(et.)o(css)l Fn(,)i(the)d(serv)o
(er)g(will)h(serv)o(e)f(the)0 4362 y(content)19 b(of)h(the)g(\002le)h
(`)p Fo(/home/remi/static/styleSheet.css)p Fn('.)0 4509
y(When)k(the)h(bro)n(wser)f(requests)g(the)h(URL)g Fo
(http://localhost/data/i)o(mag)o(es/gi)o(r)q(l.j)o(pg)-7
b Fn(,)28 b(the)d(serv)o(er)g(will)h(serv)o(e)g(the)f(content)g(of)g
(the)h(\002le)0 4608 y(`)p Fo(/home/remi/images/gir)q(l.jp)o(g)p
Fn(')0 4755 y(Note)17 b(that)g(if)h(you)e(need)g(to)h(serv)o(er)f
(static)i(content)e(at)i(the)f(root)f(of)h(your)f(website)h(\(for)f
(instance,)h Fc(favicon.ico)p Fn(\),)f(then)g(you)g(can)h(specify)0
4855 y(the)j(full)g(name)g(of)g(the)g(\002le)h(instead)f(of)g(the)g
(directory)-5 b(,)18 b(lik)o(e)i(this:)236 5093 y Fh([staticContent])
236 5184 y(favicon.ico=/home/remi/images/favicon.ic)o(o)p
0 5549 3901 4 v 3808 5649 a Fk(37)p eop
%%Page: 38 44
38 43 bop 0 88 a Fi(12.3)121 b(Changing)36 b(the)f(name)f(f)l(o)g(the)h
(con\002gur)o(ation)g(\002le)0 321 y Fn(If)26 b(you)f(w)o(ant)i(to)f
(use)g(a)h(dif)n(ferent)d(name)i(for)f(the)i(con\002guration)c(\002le,)
28 b(just)f(use)f(the)g Fc(-C)j Fn(option)c(when)g(you)h(start)g(the)h
(serv)o(er)-5 b(.)42 b(F)o(or)0 420 y(instance,)20 b(if)g(your)f
(con\002guration)e(\002le)k(is)g(called)f(`)p Fo(/dir1/dir2/m)o
(yCon\002gFile)o(.cfg)p Fn(')o(,)15 b(just)21 b(start)f(the)g(serv)o
(er)g(by)g(typing:)236 659 y Fh(python)44 b(HelloServer.py)f(-C)h
(/dir1/dir2/myConfigFile.cfg)p 0 5549 3901 4 v 0 5649
a Fk(38)2525 b(Chapter)24 b(12.)52 b(Con\002gur)q(ing)24
b(Cherr)r(yPy)p eop
%%Page: 39 45
39 44 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3305 427
y Fj(THIR)n(TEEN)p 0 515 V 523 978 a Fs(Using)57 b(y)l(our)g(o)m(wn)g
(con\002gur)n(ation)g(options)0 1468 y Fn(Y)-9 b(ou)22
b(can)h(store)g(your)e(o)n(wn)h(con\002guration)f(options)g(in)i(the)g
(con\002g)f(\002le.)34 b(Just)23 b(add)g(your)e(o)n(wn)h(section)h(and)
f(options.)32 b(Then,)23 b(in)g(the)0 1567 y(code,)g(these)h
(informations)d(are)j(a)n(v)n(ailable)f(through)e(the)j
Fc(con\002gF)l(ile)e Fn(global)g(v)n(ariable.)34 b(This)24
b(v)n(ariable)e(is)j(a)e Fc(Con\002gP)-7 b(ar)o(ser)25
b Fn(object.)0 1667 y(The)20 b(follo)n(wing)e(is)k(an)e(e)o(xample)e
(on)i(ho)n(w)g(to)g(use)h(this:)236 1905 y Fh(****)44
b(File)h(HelloServer.cfg)d(****)236 1996 y([server])236
2088 y(socketPort=80)236 2270 y([staticContent])236 2362
y(static=/home/remi/static)236 2544 y(#)j(Here)f(I)h(add)f(my)h(own)f
(configuration)f(options)236 2636 y([user])236 2727 y(name=Remi)236
2818 y([database])236 2910 y(login=remiLogin)236 3001
y(password=remiPassword)236 3275 y(***)i(File)f(Hello.cpy)f(****)236
3366 y(CherryClass)g(Root:)236 3458 y(view:)416 3549
y(def)h(index\(self\):)595 3640 y(<html><body>)774 3731
y(Hello,)g(<py-eval="configFile.get\('user','name'\))o("><br>)774
3823 y(to)h(connect)e(to)i(the)f(database,)f(you)i(should)f(use:<br>)
774 3914 y(<py-eval="'Login:\045s,)e
(Password:\045s'\045\(configFile.get\('databas)o(e','lo)o(gin'\),)c
(configFile.get\('database','password'\)\)">)595 4005
y(</body></html>)0 4244 y Fn(This)20 b(will)h(be)f(rendered)f(as:)236
4483 y Fh(<html><body>)416 4574 y(Hello,)43 b(Remi<br>)416
4665 y(to)h(connect)g(to)g(the)h(database,)e(you)h(should)g(use:<br>)
416 4757 y(Login:remiLogin,)e(Password:remiPassword)236
4848 y(</body></html>)0 5134 y Fn(In)20 b(the)g(ne)o(xt)g(chapter)m(,)e
(we')o(ll)j(learn)e(about)h(CherryPy')-5 b(s)19 b(special)h(v)n
(ariables)g(and)f(special)i(functions)d(...)p 0 5549
3901 4 v 3808 5649 a Fk(39)p eop
%%Page: 40 46
40 45 bop 0 5549 3901 4 v 0 5649 a Fk(40)p eop
%%Page: 41 47
41 46 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3245 427
y Fj(FOUR)n(TEEN)p 0 515 V 1059 978 a Fs(Special)57 b(v)-5
b(ar)s(iab)l(les)56 b(and)h(functions)0 1465 y Fn(CherryPy)26
b(sets)i(and)e(uses)i(a)f(fe)n(w)g(special)g(v)n(ariables)f(and)h
(functions.)44 b(The)o(y)25 b(are)i(v)o(ery)f(simple)h(and)g(easy)g(to)
g(use,)h(b)n(ut)f(also)h(v)o(ery)0 1565 y(po)n(werful.)e(In)21
b(this)g(chapter)m(,)f(we')o(ll)i(see)f(what)g(these)h(special)f(v)n
(ariables)f(and)h(functions)f(are,)h(and)f(we')o(ll)i(learn)e(ho)n(w)h
(to)g(use)h(them)e(in)0 1664 y(the)g(ne)o(xt)g(chapter)-5
b(.)0 1992 y Fi(14.1)121 b(Special)33 b(v)m(ar)r(iab)n(les)0
2241 y Fa(14.1.1)101 b(request)0 2444 y Fn(This)30 b(is)h(the)f(most)h
(commonly)c(used)j(v)n(ariable.)54 b(It)30 b(contains)g(all)g(the)h
(informations)d(about)h(the)h(request)f(that)h(w)o(as)h(sent)g(by)f
(the)0 2544 y(client.)25 b(It')-5 b(s)20 b(a)g(class)h(instance)e(that)
h(contains)f(se)n(v)o(eral)g(member)g(v)n(ariables)g(that)g(are)h(set)h
(by)e(CherryPy)g(for)g(each)g(request.)24 b(The)c(most)0
2643 y(commonly)e(used)i(member)f(v)n(ariables)g(are:)125
2857 y Fm(\017)41 b Fl(r)o(equest.headerMap)p Fn(:)35
b(It')-5 b(s)26 b(a)g(Python)f(map)g(containing)e(all)k(k)o(e)o(ys)e
(and)g(v)n(alues)g(sent)h(by)f(the)h(client)f(in)h(the)g(header)e(of)i
(the)208 2956 y(request.)h(Note)21 b(that)g(all)g(k)o(e)o(ys)g(are)g
(al)o(w)o(ays)h(con)m(v)o(erted)c(to)j(lo)n(wer)g(case.)28
b(F)o(or)21 b(instance,)g(to)g(\002nd)g(out)f(what)h(bro)n(wser)f(the)i
(client)208 3056 y(is)f(using,)e(use)i Fc(r)m(equest.headerMap['user)n
(-a)o(g)o(ent'])16 b Fn(\(note)j(that)h(this)h(information)d(may)i(not)
f(be)i(sent)f(by)g(the)g(client\))125 3222 y Fm(\017)41
b Fl(r)o(equest.simpleCookie)p Fn(:)k(It')-5 b(s)31 b(a)g
Fc(simpleCookie)f Fn(object)g(containing)e(the)j(cookies)e(sent)i(by)f
(the)g(client.)56 b(Note)30 b(that)h(this)208 3322 y(information)c(is)j
(also)g(a)n(v)n(ailable)f(in)h Fc(r)m(equest.headerMap['cookie'])p
Fn(.)49 b(Check)29 b(out)g(the)h(Ho)n(wT)-7 b(o)29 b(about)g(cookies)f
(to)i(learn)208 3421 y(more)19 b(about)g(ho)n(w)h(to)g(use)h(cookie)e
(with)h(CherryPy)125 3587 y Fm(\017)41 b Fl(r)o(equest.base)p
Fn(:)151 b(String)83 b(containing)e(the)j(base)f(URL)h(of)f(the)h
(website.)215 b(This)83 b(is)i(equi)n(v)n(alent)c(to)208
3687 y Fc('http://'+r)m(equest.headerMap['host'])125
3853 y Fm(\017)41 b Fl(r)o(equest.path)16 b(and)h(r)o(equest.paramMap)p
Fn(:)23 b(The)17 b(former)f(contain)g(the)h(path)g(of)g(the)g(page)f
(that')-5 b(s)18 b(being)e(requested.)23 b(Leading)208
3953 y(and)c(trailing)h(slashes)h(are)f(remo)o(v)o(ed)e(\(if)i(an)o
(y\).)j(The)d(latter)h(is)g(a)f(map)g(containing)e(a)j(k)o(e)o(y)e(and)
h(v)n(alue)f(for)h(each)g(parameter)e(that)208 4052 y(the)i(client)g
(sent)g(\(via)g(GET)g(or)g(POST\).)h(F)o(or)e(instance,)h(if)g(the)h
(URL)f(is:)444 4276 y Fh(http://localhost:8000/dir/page?key1=va)o
(lue1&k)o(ey2=va)o(lue2)208 4515 y Fn(we')o(ll)g(ha)n(v)o(e:)444
4739 y Fh(request.base)43 b(==)h('http://localhost:8000')444
4831 y(and)444 4922 y(request.path)f(==)h('dir/page')444
5013 y(and)444 5105 y(request.paramMap)e(==)i({'key1':)g('value1',)f
('key2':)h('value2'})p 0 5549 3901 4 v 3808 5649 a Fk(41)p
eop
%%Page: 42 48
42 47 bop 125 83 a Fm(\017)41 b Fl(r)o(equest.originalP)o(ath)28
b(and)j(r)o(equest.originalP)o(aramMap)p Fn(:)44 b(These)31
b(v)n(ariables)f(are)g(a)i(cop)o(y)d(of)i Fc(r)m(equest.path)e
Fn(and)h Fc(r)m(e-)208 183 y(quest.par)o(amMap)p Fn(.)84
b(But)42 b(we')o(ll)f(see)g(in)h(the)f(ne)o(xt)f(sections)h(that)g(it)h
(is)f(possible)g(to)g(modify)f Fc(r)m(equest.path)f Fn(and)h
Fc(r)m(e-)208 282 y(quest.par)o(amMap)p Fn(.)22 b(In)e(this)g(case,)h
Fc(r)m(equest.originalP)-7 b(ath)17 b Fn(and)j Fc(r)m(equest.originalP)
-7 b(ar)o(amMap)17 b Fn(k)o(eep)i(the)i(original)e(v)n(alues.)125
448 y Fm(\017)41 b Fl(r)o(equest.br)o(o)o(wserUrl)p Fn(:)24
b(String)19 b(containing)g(the)h(URL)h(as)f(it)h(appears)f(in)g(the)g
(bro)n(wser)f(windo)n(w)125 614 y Fm(\017)41 b Fl(r)o(equest.method)p
Fn(:)24 b(String)c(containing)e(either)i Fc(GET)27 b
Fn(or)20 b Fc(POST)6 b Fn(,)20 b(to)g(indicate)g(what)g(kind)f(of)h
(request)g(it)h(w)o(as)125 780 y Fm(\017)41 b Fl(r)o(equest.w\002le)26
b Fn(\(adv)n(anced)e(usage)i(only\):)36 b(Check)26 b(out)g(the)g(Ho)n
(wT)-7 b(o)26 b(called)g("Ho)n(w)h(to)f(stream)g(uploaded)f(\002les)i
(directly)e(to)208 880 y(disk")20 b(for)f(more)h(information)d(about)j
(this)0 1165 y Fa(14.1.2)101 b(response)0 1368 y Fn(This)24
b(is)g(the)g(second)f(most)h(commonly)d(used)j(v)n(ariable)e(\(after)h
Fc(r)m(equest)q Fn(\).)36 b(It)24 b(contains)e(all)j(informations)c
(about)i(the)h(response)e(that)0 1467 y(will)g(be)f(sent)g(back)g(to)g
(the)g(client.)28 b(It')-5 b(s)22 b(a)g(class)g(instance)f(that)g
(contains)f(se)n(v)o(eral)h(member)f(v)n(ariables)g(that)h(are)g(set)h
(by)f(CherryPy)f(or)0 1567 y(by)g(your)f(program.)125
1780 y Fm(\017)41 b Fl(r)o(esponse.headerMap)p Fn(:)26
b(It')-5 b(s)22 b(a)g(Python)e(map)h(that)g(contains)g(all)h(k)o(e)o
(ys)f(and)f(v)n(alues)h(that)h(will)g(be)f(sent)h(in)f(the)g(header)g
(of)g(the)208 1880 y(response.)j(By)c(def)o(ault,)f(CherryPy)g(sets)j
(the)e(follo)n(wing)e(k)o(e)o(ys)i(and)g(v)n(alues)g(in)g(the)g(map:)
444 2104 y Fh("status":)43 b(200)444 2195 y("content-type":)f
("text/html")444 2287 y("server":)h("CherryPy)g(0.1")444
2378 y("date":)g(current)h(date)444 2469 y("set-cookie":)e([])444
2561 y("content-length":)g(0)208 2800 y Fn(In)19 b(the)i(ne)o(xt)e
(chapter)m(,)g(we')o(ll)h(learn)g(ho)n(w)g(to)g(use)g(and)g(modify)f
(these)h(v)n(alues)125 2966 y Fm(\017)41 b Fl(r)o(esponse.body)p
Fn(:)22 b(String)17 b(containing)e(the)i(body)e(of)i(the)g(response.)23
b(This)17 b(v)n(ariable)f(can)g(only)g(be)h(used)g(in)g(3)g(special)g
(functions)208 3065 y(\(see)j(belo)n(w\))125 3231 y Fm(\017)41
b Fl(r)o(esponse.simpleCookie)p Fn(:)30 b Fc(simpleCookie)22
b Fn(object)h(used)g(to)g(send)f(cookies)h(to)g(the)g(bro)n(wser)-5
b(.)32 b(Note)23 b(that)g(cookies)f(can)h(also)208 3331
y(be)e(sent)h(by)f(using)f Fc(r)m(esponse)o(.headerMap['cookie'])p
Fn(.)k(Check)d(out)g(the)h(Ho)n(wT)-7 b(o)21 b(about)f(cookies)h(to)g
(learn)g(more)g(about)f(ho)n(w)208 3431 y(to)g(use)g(cookie)f(with)i
(CherryPy)125 3597 y Fm(\017)41 b Fl(r)o(esponse.sendResponse)18
b(and)g(r)o(esponse.w\002le)g Fn(\(adv)n(anced)e(usage)i(only\):)23
b(Used)18 b(for)f(streaming.)24 b(Check)17 b(out)h(the)g(Ho)n(wT)-7
b(o)208 3696 y(called)20 b("Ho)n(w)g(to)g(use)g(streaming)f(with)i
(CherryPy")e(for)g(more)h(information.)0 4024 y Fi(14.2)121
b(Special)33 b(functions)0 4257 y Fn(In)17 b(your)f(code,)h(you)f(can)h
(de\002ne)g(special)h(functions)d(that)j(will)g(change)e(the)h(serv)o
(er')-5 b(s)17 b(beha)n(vior)-5 b(.)23 b(T)-7 b(o)17
b(de\002ne)g(these)g(functions,)g(just)g(use)0 4356 y(Python')-5
b(s)22 b(re)o(gular)f(syntax)h(and)h(de\002ne)f(them)g(outside)h(all)g
(CherryClasses.)33 b(When)22 b(you)g(use)h(dif)n(ferent)e(modules,)i
(you)f(can)g(de\002ne)0 4456 y(the)f(same)h(function)d(in)j(dif)n
(ferent)d(modules.)27 b(In)21 b(this)h(case,)g(CherryPy)e(will)i(just)g
(concatenate)e(the)h(bodies)f(of)h(all)h(functions,)e(in)i(the)0
4555 y(same)e(order)f(it)i(reads)f(the)g(\002les.)0 4840
y Fa(14.2.1)101 b(initRequest,)28 b(initNonStaticRequest,)i
(initResponse)f(and)g(initNonStaticResponse)0 5043 y
Fn(Here)20 b(is)h(the)f(algorithm)f(that)h(the)h(serv)o(er)e(uses)i
(when)e(it)i(recei)n(v)o(es)e(a)i(request:)p 0 5549 3901
4 v 0 5649 a Fk(42)2181 b(Chapter)23 b(14.)52 b(Special)24
b(v)n(ar)q(iab)n(les)g(and)g(functions)p eop
%%Page: 43 49
43 48 bop 50 161 a Fl(Static)19 b(content)p 4105 191
4 100 v 3619 w(All)i(content)p 8831 191 V 4335 w(Dynamic)f(content)p
0 194 15409 4 v 4105 294 4 100 v 4156 264 a Fn(a.)25
b(Request)c(coming)d(in)p 8831 294 V 4105 394 V 4156
364 a(b)m(.)25 b(Set)c(all)f(member)f(v)n(ariables)h(of)f
Fc(r)m(equest)p 8831 394 V 4105 493 V 4156 463 a Fn(c.)25
b(Call)d Fc(initRequest)e Fn(\(which)g(may)f(change)g
Fc(r)m(equest.path)g Fn(and)g Fc(r)m(equest.par)o(amMap)p
Fn(\))p 8831 493 V 4105 593 V 4156 563 a(d.)25 b(Determine)19
b(if)i(this)f(request)g(corresponds)e(to)i(static)h(or)f(dynamic)f
(content)g(\(based)g(on)h Fc(r)m(equest.path)f Fn(and)g(the)i
Fc(staticContent)g Fn(section)f(of)f(the)i(con\002g)e(\002le\))p
8831 593 V 4105 692 V 8831 692 V 8882 663 a(e.)26 b(Call)21
b Fc(initNonStaticRequest)e Fn(\(which)h(may)f(change)g
Fc(r)m(equest.path)g Fn(and)g Fc(r)m(equest.par)o(amMap)p
Fn(\))50 762 y Fb(e.)99 b(Read)49 b(the)g(static)g(file)g(and)g(set)h
Fc(r)m(esponse)o(.headerMap)c Fb(values)i(and)i Fc(r)m(esponse)o(.body)
d Fb(accordingly)p 4105 792 V 8831 792 V 4823 w Fn(f.)26
b(Call)21 b(the)f(method)f(of)h(the)g(CherryClass)g(instance,)g(with)g
(some)g(ar)o(guments)e(\(based)i(on)f Fc(r)m(equest.path)g
Fn(and)g Fc(r)m(equest.par)o(amMap)p Fn(\))f(and)h(set)i
Fc(r)m(esponse)o(.headerMap)c Fn(v)n(alues)j(and)g Fc(r)m(esponse)o
(.body)d Fn(according)i(to)h(the)g(result)50 862 y Fb(f.)99
b(Call)49 b Fc(initResponse)f Fb(\(which)h(may)g(change)g
Fc(r)m(esponse)o(.headerMap)d Fb(and)j Fc(r)m(esponse)o(.body)p
Fb(\))p 4105 892 V 8831 892 V 5544 w Fn(g.)25 b(Call)d
Fc(initResponse)d Fn(\(which)g(may)h(change)f Fc(r)m(esponse)o
(.headerMap)e Fn(and)i Fc(r)m(esponse)o(.body)p Fn(\))50
961 y Fb(g.)99 b(Send)49 b(the)g(response)g(to)g(the)g(browser)g
(\(based)g(on)g Fc(r)m(esponse)o(.headerMap)d Fb(and)j
Fc(r)m(esponse)o(.body)p Fb(\))p 4105 991 V 8831 991
V 5022 w Fn(h.)25 b(Send)20 b(the)g(response)g(to)g(the)g(bro)n(wser)f
(\(based)h(on)f Fc(r)m(esponse)o(.headerMap)f Fn(and)h
Fc(r)m(esponse)o(.body)p Fn(\))0 1186 y(As)j(you)e(can)h(see,)g
Fc(initRequest)h Fn(and)f Fc(initNonStaticRequest)f Fn(can)h(be)g(used)
f(to)i(tweak)e(the)h(URL)h(or)f(the)g(parameters,)f(or)g(to)i(perform)0
1286 y(an)o(y)d(w)o(ork)h(that)g(has)h(to)f(be)g(done)f(for)h(each)g
(request.)0 1433 y Fc(initResponse)f Fn(and)g Fc(initNonStaticResponse)
f Fn(can)i(be)g(used)f(to)i(change)d(the)i(response)f(header)g(or)h
(body)-5 b(,)18 b(just)j(before)d(it)j(is)g(sent)f(back)0
1532 y(to)g(the)h(client.)0 1817 y Fa(14.2.2)101 b(onError)0
2020 y Fn(That)20 b(function)e(is)k(called)e(by)f(CherryPy)g(when)h(an)
g(error)f(occured)g(while)h(b)n(uilding)f(the)h(page.)k(See)d(ne)o(xt)e
(section)h(for)g(an)g(e)o(xample.)0 2305 y Fa(14.2.3)101
b(initThread,)29 b(initProcess)0 2508 y Fn(If)18 b(you)f(use)h(a)g
(thread-pool)d(serv)o(er)i(or)h(process-pool)d(serv)o(er)m(,)i(then)g
(the)h(corresponding)d(special)j(function)e(\(respecti)n(v)o(ely)f
Fc(initThr)m(ead)0 2607 y Fn(or)20 b Fc(initPr)l(ocess)p
Fn(\))g(will)h(be)f(called)g(by)g(each)g(ne)n(wly)f(created)h
(thread/process.)0 2754 y(These)27 b(functions)e(can)i(be)g(used)f(for)
g(instance)h(if)g(you)f(w)o(ant)h(each)f(thread/process)f(to)i(ha)n(v)o
(e)g(its)h(o)n(wn)e(database)g(connection)f(\(the)0 2854
y(Ho)n(wT)-7 b(o)20 b(called)g("Sample)f(deplo)o(yment)f
(con\002guration)g(for)h(a)i(real-w)o(orld)e(website")h(e)o(xplains)f
(ho)n(w)h(to)g(do)g(that\).)0 3001 y Fc(initThr)m(ead)i
Fn(tak)o(es)g(an)e(ar)o(gument)f(called)i Fc(thr)m(eadInde)n(x)e
Fn(containing)g(the)i(inde)o(x)e(of)i(the)g(thread)f(that')-5
b(s)21 b(being)f(created.)27 b(F)o(or)20 b(instance,)0
3100 y(if)g(you)g(create)g(10)f(threads,)h Fc(thr)m(eadInde)n(x)e
Fn(will)j(tak)o(e)f(v)n(alues)g(from)f(0)i(to)f(9.)0
3247 y(Same)g(thing)g(for)f Fc(initPr)l(ocess)i Fn(and)e
Fc(pr)l(ocessInde)n(x)0 3532 y Fa(14.2.4)101 b(initProg)o(r)o(am,)29
b(initSer)s(v)n(er)-5 b(,)29 b(initAfterBind)0 3735 y
Fn(The)20 b(code)f(you)g(put)g(in)h Fc(initPr)l(o)o(gr)o(am)f
Fn(is)i(copied)e(at)h(the)g(v)o(ery)f(be)o(ginning)e(of)j(the)g
(generated)e(\002le,)i(so)g(it')-5 b(s)21 b(the)f(\002rst)h(thing)e
(that)h(will)h(be)0 3835 y(e)o(x)o(ecuted.)33 b(Y)-9
b(ou)23 b(can)g(use)h(that)f(special)h(function)e(if)h(you)g(need)g(to)
g(run)g(some)g(code)g(before)f(the)i(CherryClasses)f(are)h
(instanciated.)0 3934 y(Then,)k(the)e(serv)o(er)g(creates)h(all)h
(instances)f(of)f(the)h(CherryClasses)g(and)g(then)f(it)i(calls)f(the)g
(special)g(function)f Fc(initServer)r Fn(.)45 b(This)27
b(is)0 4034 y(basically)20 b(where)f(you)h(perform)e(some)i
(initialization)f(tasks)i(if)g(some)f(are)g(needed.)0
4181 y Fc(initAfterBind)28 b Fn(is)f(called)g(after)f(the)h(sock)o(et)f
("bind")f(has)i(been)f(made.)43 b(F)o(or)27 b(instance,)g(on)f
(Unix-based)f(systems,)k(you)c(need)h(start)0 4281 y(CherryPy)k(as)j
(root)e(is)i(you)d(w)o(ant)i(it)h(to)e(bind)g(its)i(sock)o(et)f(to)f
(port)g(80.)60 b(The)31 b Fc(initAfterBind)i Fn(special)f(function)e
(can)h(be)h(used)f(to)0 4380 y(change)18 b(the)h(user)g(back)g(to)h(an)
f(unpri)n(viledged)d(user)j(after)g(the)g("bind")f(has)i(been)f(done.)k
(\(the)c(Ho)n(wT)-7 b(o)19 b(called)g("Sample)g(deplo)o(yment)0
4480 y(con\002guration)f(for)h(a)i(real-w)o(orld)d(website")j(e)o
(xplains)e(ho)n(w)h(to)g(do)g(that\).)0 4765 y Fa(14.2.5)101
b(initRequestBef)m(oreP)l(arse)31 b(\(adv)n(anced)f(usage)f(only\))0
4968 y Fn(This)c(special)h(function)d(is)k(called)e(by)g(the)g(serv)o
(er)f(when)h(it)h(recei)n(v)o(es)f(a)g(POST)h(request,)g(before)e(it)i
(parses)f(the)g(POST)h(data.)40 b(This)0 5067 y(allo)n(ws)22
b(you)f(for)g(instance)h(to)g(tell)g(the)g(serv)o(er)f(not)h(to)g
(parse)f(the)h(POST)g(data)g(\(by)f(setting)h Fc(r)m(equest.par)o(seP)
-7 b(ostData)20 b Fn(to)i Fc(0)p Fn(\))g(and)f(then)0
5167 y(you)27 b(can)i(parse)f(the)g(POST)h(data)f(yourself)f(\(by)h
(reading)e(on)i Fc(r)m(equest.r\002le)p Fn(\).)49 b(Check)28
b(out)g(the)g(Ho)n(wT)-7 b(o)28 b(called)g("Ho)n(w)g(to)h(stream)0
5266 y(uploaded)18 b(\002les)j(directly)f(to)g(disk")g(for)g(more)f
(information)f(about)h(this)p 0 5549 3901 4 v 0 5649
a Fk(14.2.)52 b(Special)25 b(functions)2944 b(43)p eop
%%Page: 44 50
44 49 bop 0 85 a Fi(14.3)121 b(Examples)0 335 y Fa(14.3.1)101
b(Pla)m(ying)29 b(with)f(URLs)0 537 y Fn(Let')-5 b(s)34
b(say)g(you)f(w)o(ant)h(to)g(set)g(up)g(a)g(website)g(for)f(your)f
(customers.)65 b(Y)-9 b(ou)33 b(w)o(ant)h(your)e(customers)h(to)h(ha)n
(v)o(e)f(their)h(o)n(wn)f(URL:)0 637 y Fo(http://host/customerName)-5
b Fn(,)20 b(b)n(ut)e(the)h(page)f(is)h(almost)g(the)f(same)h(for)f
(each)g(customer)m(,)f(so)i(you)f(don')o(t)e(w)o(ant)j(to)g(create)f(a)
h(method)e(for)0 737 y(each)j(customer)-5 b(.)0 884 y(All)60
b(you)e(ha)n(v)o(e)h(to)g(do)g(is)h(use)f(the)h Fc
(initNonStaticRequest)e Fn(to)h(con)m(v)o(ert)f(the)h(URL)h
Fo(http://host/customerName)55 b Fn(into)0 983 y Fo
(http://host?customer=customerName)-6 b Fn(.)26 b(All)20
b(that)h(will)g(be)f(transparent)e(to)j(the)f(user)-5
b(.)0 1130 y(Just)21 b(enter)f(the)g(follo)n(wing)e(code:)236
1368 y Fh(def)45 b(initNonStaticRequest\(\):)416 1460
y(if)f(request.path:)595 1551 y(request.paramMap['customer']=request.p)
o(ath)595 1642 y(request.path="")236 1734 y(CherryClass)f(Root:)236
1825 y(mask:)416 1916 y(def)h(index\(self,)f(customer=""\):)595
2008 y(<html><body>)774 2099 y(Hello,)h(<py-eval="customer">)595
2190 y(</body></html>)0 2429 y Fn(And)20 b(that')-5 b(s)20
b(it)h(!)0 2576 y(Compile)c(the)h(\002le,)h(start)g(the)f(serv)o(er)m
(,)e(and)i(try)g(a)g(fe)n(w)g(URls,)h(lik)o(e)f Fo
(http://localhost:8000/custo)o(mer1)12 b Fn(or)18 b Fo
(http://localhost:8000)o(/w)o(or)q(l)o(d)0 2861 y Fa(14.3.2)101
b(Sending)30 b(bac)n(k)e(a)g(redirect)0 3064 y Fn(T)-7
b(o)28 b(send)g(a)g Fc(r)m(edir)m(ect)i Fn(to)e(the)f(bro)n(wser)m(,)i
(all)f(you)f(ha)n(v)o(e)g(to)h(do)g(is)h(send)e(back)g(a)i(status)f
(code)f(of)h Fc(302)f Fn(\(instead)g(of)h(200\),)g(and)f(set)i(a)0
3163 y Fc(location)19 b Fn(v)n(alue)g(in)i(the)f(response)f(header)-5
b(.)24 b(This)d(can)f(be)g(done)f(easily)h(using)g(the)g
Fc(r)m(esponse)o(.headerMap)d Fn(special)k(v)n(ariable:)236
3402 y Fh(CherryClass)43 b(Root:)236 3493 y(mask:)416
3584 y(def)h(index\(self\):)595 3676 y(<html><body>)774
3767 y(<a)h(href="loop">Click)d(here)i(to)g(come)g(back)h(to)f(this)g
(page</a>)595 3858 y(</body></html>)236 3950 y(view:)416
4041 y(def)g(loop\(self\):)595 4132 y(response.headerMap['status']=302)
595 4224 y(response.headerMap['location']=request)o(.base)595
4315 y(return)g("")g(#)h(A)g(view)f(should)g(always)f(return)h(a)h
(string)0 4739 y Fa(14.3.3)101 b(Adding)29 b(timing)g(inf)m(or)r
(mation)h(to)e(each)g(page)0 4942 y Fn(In)22 b(this)g(e)o(xample,)f
(we')o(ll)h(add)f(one)g(line)h(at)h(the)f(end)f(of)g(each)h(page)f
(that')-5 b(s)22 b(serv)o(ed)f(by)h(the)g(serv)o(er)-5
b(.)29 b(This)22 b(line)g(will)h(contain)e(the)g(time)0
5042 y(it)g(took)e(to)i(b)n(uild)e(the)i(page.)j(Of)c(course,)f(we)i
(only)e(w)o(ant)i(this)f(line)h(for)e(dynamic)g(HTML)h(pages.)0
5189 y(All)26 b(we)g(ha)n(v)o(e)f(to)g(do)g(is)i(use)e
Fc(initNonStaticRequest)g Fn(to)h(store)f(the)g(start)h(time,)h(and)e
(use)h Fc(initNonStaticResponse)d Fn(to)i(add)g(the)g(line)0
5289 y(containing)18 b(the)i(b)n(uild)g(time.)p 0 5549
3901 4 v 0 5649 a Fk(44)2181 b(Chapter)23 b(14.)52 b(Special)24
b(v)n(ar)q(iab)n(les)g(and)g(functions)p eop
%%Page: 45 51
45 50 bop 0 83 a Fn(Here)20 b(is)h(the)f(code:)236 321
y Fh(import)44 b(time)236 413 y(def)h(initNonStaticRequest\(\):)416
504 y(request.startTime=time.time\(\))236 595 y(def)g
(initNonStaticResponse\(\):)416 687 y(if)f
(response.headerMap['content-type']=='te)o(xt/htm)o(l':)595
778 y(response.body+='<br>Time:)d
(\045.04fs'\045\(time.time\(\)-request.startTi)o(me\))236
869 y(CherryClass)i(Root:)236 960 y(mask:)416 1052 y(def)h
(index\(self\):)595 1143 y(<html><body>)774 1234 y(Hello,)g(world)595
1326 y(</body></html>)0 1612 y Fn(And)20 b(v)n(oila)0
1897 y Fa(14.3.4)101 b(Customizing)28 b(the)g(error)h(message)0
2100 y Fn(This)c(is)g(done)f(through)e(the)j Fc(onErr)l(or)i
Fn(special)d(function.)37 b(Just)25 b(use)g Fc(r)m(esponse)o
(.headerMap)d Fn(and)i Fc(r)m(esponse)o(.body)e Fn(to)j(do)f(what)g
(you)0 2199 y(w)o(ant.)0 2346 y(The)c(follo)n(wing)e(e)o(xample)h(sho)n
(ws)h(ho)n(w)g(to)g(set)h(it)g(up)f(so)h(it)g(sends)f(an)g(email)g
(with)h(the)f(error)f(e)n(v)o(erytime)f(an)i(error)f(occurs:)p
0 5549 3901 4 v 0 5649 a Fk(14.3.)52 b(Examples)3208
b(45)p eop
%%Page: 46 52
46 51 bop 236 174 a Fh(use)45 b(Mail)236 357 y(def)g(onError\(\):)416
448 y(#)f(Get)h(the)f(error)g(in)g(a)h(string)416 540
y(import)e(traceback,)h(StringIO)416 631 y
(bodyFile=StringIO.StringIO\(\))416 722 y
(traceback.print_exc\(file=bodyFile\))416 814 y
(errorBody=bodyFile.getvalue\(\))416 905 y(bodyFile.close\(\))416
996 y(#)g(Send)g(an)h(email)f(with)g(the)g(error)416
1088 y(myMail.sendMail\("erreur@site.com",)39 b("webmaster@site.com",)i
("",)j("text/plain",)f("An)h(error)g(occured)g(on)g(your)h(site",)e
(errorBody\))416 1179 y(#)h(Set)h(the)f(body)g(of)h(the)f(response)416
1270 y(response.body="<html><body><br><br><)o(center)o(>")416
1362 y(response.body+="Sorry,)d(an)j(error)g(occured<br>")416
1453 y(response.body+="An)d(email)j(has)h(been)f(sent)g(to)g(the)h
(webmaster")416 1544 y(response.body+="</center></body></ht)o(ml>")236
1818 y(CherryClass)e(MyMail\(Mail\):)236 1910 y(function:)416
2001 y(def)h(__init__\(self\):)595 2092 y
(self.smtpServer='smtp.site.com')236 2275 y(CherryClass)f(Root:)236
2366 y(mask:)416 2457 y(def)h(index\(self\):)595 2549
y(<html><body>)774 2640 y(<a)h(py-attr="request.base+'/generateError)o
('")39 b(href="">Click)k(here)h(to)g(generate)g(an)g(error</a>)595
2731 y(</body></html>)416 2823 y(def)g(generateError\(self\):)595
2914 y(<html><body>)774 3005 y(You'll)g(never)g(see)g(this:)g
(<py-eval="1/0">)595 3097 y(</body></html>)0 3383 y Fn(This)20
b(e)o(xample)f(also)i(sho)n(ws)f(you)f(ho)n(w)h(to)g(use)h(the)f
Fc(Mail)g Fn(standard)f(module)g(that)i(comes)e(with)i(CherryPy)-5
b(.)p 0 5549 3901 4 v 0 5649 a Fk(46)2181 b(Chapter)23
b(14.)52 b(Special)24 b(v)n(ar)q(iab)n(les)g(and)g(functions)p
eop
%%Page: 47 53
47 52 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3402 427
y Fj(FIFTEEN)p 0 515 V 463 978 a Fs(Deplo)-6 b(ying)57
b(y)l(our)g(w)n(ebsite)g(f)-6 b(or)58 b(production)0
1468 y Fn(So)20 b(there)g(you)f(are,)g(with)h(a)h(nice)e(big)h(website)
g(you')l(v)o(e)e(spent)h(weeks)h(w)o(orking)f(on.)24
b(And)c(it')-5 b(s)21 b(\002nally)e(ready)g(for)g(the)h(w)o(orld)g(to)g
(use)g(it)0 1567 y(!)0 1714 y(But)e(you)f(still)i(ha)n(v)o(e)e(to)h
(decide)g(ho)n(w)f(you)g(will)h Fl(deploy)g Fn(it,)h(which)e(means:)24
b(ho)n(w)17 b(will)i(you)d(set)j(it)g(up)e(on)g(the)h(production)d
(machine\(s\).)0 2041 y Fi(15.1)121 b(Choosing)35 b(y)n(ou)f(deplo)l
(yment)i(con\002gur)o(ation)0 2274 y Fn(When)25 b(you)f(are)g(de)n(v)o
(eloping)f(your)g(website,)j(you')l(re)d(usually)h(the)h(only)f(one)h
(\(maybe)e(with)i(a)h(fe)n(w)e(other)g(de)n(v)o(elopers\))f(accessing)0
2374 y(the)j(website,)h(so)g(it)g(doesn')o(t)d(need)h(to)i(be)f(f)o
(ast)g(and)g(rob)n(ust.)41 b(But)27 b(on)f(the)g(production)d(website,)
k(man)o(y)e(people)g(\(if)h(you')l(re)e(luck)o(y\))0
2473 y(will)d(access)g(your)e(website.)25 b(This)c(means)f(that)g(you)g
(ha)n(v)o(e)f(to)i(choose)e(the)i(proper)d(CherryPy)h(con\002guration)f
(in)i(order)f(to)i(pro)o(vide)d(a)0 2573 y(f)o(ast/reliable)i(service)g
(to)g(your)f(users.)0 2720 y(Criteria)h(to)h(help)e(you)h(choose)f
(your)g(con\002guration)e(include:)125 2932 y Fm(\017)41
b Fl(What)19 b(does)h(y)n(ou)f(hosting)g(pr)o(o)o(vider)g(let)g(y)n(ou)
g(do)h(?)25 b Fn(If)19 b(you')l(re)f(on)h(a)g(shared)g(machine,)f(you)h
(might)f(not)h(be)h(able)f(to)h(do)f(what)208 3032 y(you)i(w)o(ant.)33
b(F)o(or)22 b(instance,)h(you)f(may)g(only)g(be)h(able)f(to)h(use)g
(CGI,)g(and)f(your)f(hosting)h(pro)o(vider)e(may)j(only)f(pro)o(vide)e
(virtual)208 3132 y(hosting,)f(behind)f(Apache.)125 3297
y Fm(\017)41 b Fl(Ho)o(w)20 b(much)i(traf\002c)d(do)i(y)n(ou)g(plan)g
(to)f(get)g(?)27 b Fn(Do)21 b(you)f(plan)g(to)h(ha)n(v)o(e)f(only)f(a)j
(fe)n(w)e(hundreds)f(users)i(per)f(day)g(or)g(se)n(v)o(eral)g(tens)208
3397 y(of)f(thousands)g(?)125 3563 y Fm(\017)41 b Fl(Ho)o(w)19
b(many)h(machines/pr)o(ocessors)f(do)h(y)n(ou)f(ha)n(v)o(e)h(?)25
b(\(ie:)f(ho)o(w)c(much)h(money)f(do)f(y)n(ou)h(ha)n(v)o(e\))f
Fn(If)g(you)g(plan)g(to)h(ha)n(v)o(e)f(a)h(lot)208 3662
y(of)f(traf)n(\002c,)h(then)g(you)f(might)h(ha)n(v)o(e)f(to)i(use)f(se)
n(v)o(eral)g(machines/processors)d(\(which)j(means)g(higher)e(cost\).)
125 3828 y Fm(\017)41 b Fl(W)o(ill)22 b(ther)o(e)f(be)h(a)g(webmaster)g
(looking)f(after)g(the)h(website)g(?)30 b Fn(If)21 b(you)g(don')o(t)f
(ha)n(v)o(e)h(an)o(yone)f(looking)g(after)h(the)h(website)g(at)208
3928 y(all)e(time,)g(you)g(might)f(w)o(ant)i(the)f(website)g(to)h
(restart)f(automatically)e(in)j(case)f(of)g(a)h(crash.)0
4140 y Fl(Note)26 b(that)g(ther)o(e)f(is)i(a)g(Ho)o(wT)-8
b(o)26 b(called)g("Sample)h(deployment)f(con\002guration)f(f)n(or)h(a)g
(r)o(eal-w)o(orld)f(website")i(that)e(sho)o(ws)i(a)0
4240 y(full)21 b(sample)g(con\002guration)d(that)i(is)h(r)o(ecommended)
f(f)n(or)g(most)g(websites.)0 4524 y Fa(15.1.1)101 b(Should)25
b(I)f(use)g(the)g(Cherr)s(yPy)h(HTTP)f(ser)s(v)n(er)f(directly)i(or)f
(behind)h(another)h(w)o(ebser)s(v)n(er)f(lik)n(e)377
4641 y(Apache)k(?)0 4844 y Fn(The)g(\002rst)h(decision)e(to)h(mak)o(e)g
(is)h(whether)e(to)h(use)g(the)g(CherryPy)f(HTTP)h(serv)o(er)g
(directly)f(or)h(behind)e(another)h(webserv)o(er)f(lik)o(e)0
4943 y(Apache.)d(Here)c(is)h(a)g(list)g(of)f(adv)n(antages)f(for)g
(each)h(method:)0 5211 y Fk(Use)j(it)g(directly)125 5400
y Fm(\017)41 b Fn(Is)20 b(f)o(aster)h(and)e(uses)i(less)g(ressources)f
(\(no)f(Apache)g(processes)h(and)g(no)g(need)f(to)i(talk)f(between)f
(Apache)h(and)f(CherryPy\))p 0 5549 3901 4 v 3808 5649
a Fk(47)p eop
%%Page: 48 54
48 53 bop 125 83 a Fm(\017)41 b Fn(Is)20 b(easier)h(to)f(set)h(up)0
351 y Fk(Use)i(it)g(behind)i(Apache)125 540 y Fm(\017)41
b Fn(Might)19 b(be)h(f)o(aster)h(for)e(serving)g(static)i(content)f
(\(lik)o(e)g(images\))125 706 y Fm(\017)41 b Fn(Hosting)19
b(pro)o(vider)f(might)i(force)f(you)g(to)h(use)h(Apache)0
936 y(Once)27 b(you')l(v)o(e)d(decided)i(if)h(you)f(w)o(anted)g(to)h
(use)g(CherryPy)f(directly)g(or)g(behind)g(another)f(webserv)o(er)m(,)h
(you)g(still)i(ha)n(v)o(e)e(to)h(decide)0 1036 y(among)19
b(se)n(v)o(eral)g(con\002gurations...)0 1321 y Fa(15.1.2)101
b(Options)28 b(f)m(or)g(deplo)m(ying)i(Cherr)s(yPy)e(directly)0
1524 y Fn(The)20 b(follo)n(wing)e(subsections)i(sho)n(w)g(you)f(what)h
(the)h(dif)n(ferent)d(options)h(are)h(and)g(what)g(the)g(adv)n
(antages/dra)o(wbacks)d(are:)0 1792 y Fk(Single)25 b(thread/process)0
1995 y Fl(Explaination)p Fn(:)i(This)22 b(means)f(that)h(the)f
(CherryPy)g(HTTP)g(serv)o(er)g(will)h(run)f(in)g(one)g(single)h
(thread/process.)27 b(While)22 b(it)g(is)g(handling)0
2094 y(a)f(request,)e(no)h(other)f(request)h(can)g(connect)e(to)j(it)g
(during)d(that)j(time.)0 2241 y(Adv)n(antages:)125 2455
y Fm(\017)41 b Fn(F)o(ast)20 b(for)g(each)g(request)f(\(no)h(need)f(to)
i(create)f(a)g(thread/process)e(for)i(each)g(request\))0
2668 y(Dra)o(wbacks:)125 2881 y Fm(\017)41 b Fn(Cannot)19
b(handle)g(concurrent)f(requests)0 3094 y Fl(Conclusion)p
Fn(:)31 b(This)23 b(method)f(is)i(the)f(def)o(ault)f(con\002guration)e
(and)i(it)i(w)o(orks)f(\002ne)g(for)f(de)n(v)o(elopment,)f(b)n(ut)h(it)
i(should)e(be)h(banned)e(for)0 3194 y(production)c(if)k(you)e(might)h
(ha)n(v)o(e)f(se)n(v)o(eral)h(users)g(accessing)g(your)f(website)i(at)f
(the)g(same)h(time.)0 3462 y Fk(F)n(or)q(king)i(ser)r(v)n(er)0
3665 y Fl(Explaination)p Fn(:)i(This)20 b(means)g(that)g(the)g
(CherryPy)f(HTTP)h(serv)o(er)f(will)i(create)f(a)h(ne)n(w)f(process)f
(to)i(handle)e(each)g(request.)25 b(After)20 b(the)0
3765 y(response)f(is)i(sent)g(back,)e(the)h(process)g(is)h(destro)o
(yed.)0 3912 y(Adv)n(antages:)125 4125 y Fm(\017)41 b
Fn(Can)20 b(handle)f(multiple)h(requests)g(at)g(a)h(time)125
4291 y Fm(\017)41 b Fn(On)20 b(a)g(multiprocessor)f(machine,)f(a)j
(forking)d(serv)o(er)i(will)g(tak)o(e)h(adv)n(antage)d(of)i(the)g(se)n
(v)o(eral)g(processors)0 4504 y(Dra)o(wbacks:)125 4718
y Fm(\017)41 b Fn(Might)19 b(be)h(e)o(xpansi)n(v)o(e)f(to)h(create)g(a)
h(ne)n(w)e(process)h(for)g(each)g(request)f(\(especially)h(if)g
(requests)g(come)f(in)i(v)o(ery)e(f)o(ast\))125 4884
y Fm(\017)41 b Fn(F)o(orking)18 b(doesn')o(t)h(w)o(ork)g(on)h(W)m(indo)
n(ws)125 5050 y Fm(\017)41 b Fn(Cannot)19 b(easily)i(use)f(sessions)h
(as)g(session)f(data)h(cannot)e(be)h(easily)g(shared)g(among)e
(processes)0 5263 y Fl(Conclusion)p Fn(:)26 b(This)20
b(method)f(can)h(be)g(used)g(on)g(non-W)m(indo)n(ws)d(machines)j(if)g
(the)g(website')-5 b(s)21 b(traf)n(\002c)f(isn')o(t)g(too)g(high.)p
0 5549 3901 4 v 0 5649 a Fk(48)1941 b(Chapter)24 b(15.)52
b(Deplo)n(ying)23 b(y)n(our)g(w)o(ebsite)h(f)n(or)e(production)p
eop
%%Page: 49 55
49 54 bop 0 83 a Fk(Threading)24 b(ser)r(v)n(er)0 286
y Fl(Explaination)p Fn(:)k(This)23 b(means)f(that)g(the)g(CherryPy)f
(HTTP)h(serv)o(er)f(will)i(create)f(a)h(ne)n(w)e(thread)h(to)g(handle)f
(each)h(request.)30 b(After)22 b(the)0 386 y(response)d(is)i(sent)g
(back,)e(the)h(thread)g(is)h(destro)o(yed.)0 532 y(Adv)n(antages:)125
746 y Fm(\017)41 b Fn(Can)20 b(handle)f(multiple)h(requests)g(at)g(a)h
(time)125 912 y Fm(\017)41 b Fn(W)-7 b(orks)20 b(on)g(all)h(platforms)e
(\(including)f(W)m(indo)n(ws\))0 1125 y(Dra)o(wbacks:)125
1338 y Fm(\017)41 b Fn(Might)20 b(be)g(e)o(xpansi)n(v)o(e)f(to)i
(create)f(a)h(ne)n(w)g(thread)f(for)g(each)g(request)g(\(although)e
(less)k(e)o(xpensi)n(v)o(e)d(than)h(processes\),)g(especially)208
1438 y(if)g(requests)g(come)f(in)i(v)o(ery)e(f)o(ast)125
1604 y Fm(\017)41 b Fn(On)24 b(a)h(multiprocessor)d(machine,)i(a)h
(threading)d(serv)o(er)h(will)j Fl(not)e Fn(tak)o(e)g(adv)n(antage)e
(of)i(the)h(se)n(v)o(eral)e(processors)h(\(due)f(to)i(the)208
1704 y(Python)19 b(global)g(interpreter)f(lock\))0 1917
y Fl(Conclusion)p Fn(:)26 b(This)20 b(method)f(can)h(be)g(used)g(if)g
(the)g(website')-5 b(s)21 b(traf)n(\002c)f(isn')o(t)g(too)g(high.)0
2185 y Fk(Process)i(pool)0 2388 y Fl(Explaination)p Fn(:)h(This)c
(means)e(that)h(the)g(CherryPy)f(HTTP)h(serv)o(er)f(will)i(create)f(a)g
(\002x)o(ed)f(number)f(of)i(processes)g(at)g(startup,)g(and)f(these)0
2488 y(processes)24 b(will)i(remain)e(all)h(the)g(time.)39
b(If)24 b(one)g(process)h(if)g(b)n(usy)f(handling)f(a)i(request)f(and)h
(another)e(request)h(comes)g(in,)i(then)f(the)0 2587
y(ne)o(xt)19 b(process)h(will)h(step)g(up)e(and)h(handle)f(it.)0
2734 y(Adv)n(antages:)125 2948 y Fm(\017)41 b Fn(Can)20
b(handle)f(multiple)h(requests)g(at)g(a)h(time)125 3114
y Fm(\017)41 b Fn(F)o(ast)20 b(because)g(we)h(don')o(t)d(need)i(to)g
(create)g(a)g(thread)g(or)g(process)f(for)h(each)g(request)125
3280 y Fm(\017)41 b Fn(T)-7 b(ak)o(es)20 b(adv)n(antage)e(of)i
(multi-processor)e(machines)0 3493 y(Dra)o(wbacks:)125
3706 y Fm(\017)41 b Fn(Doesn')o(t)19 b(w)o(ork)g(on)h(W)m(indo)n(ws)125
3872 y Fm(\017)41 b Fn(Cannot)19 b(easily)i(use)f(sessions)h(as)g
(session)f(data)h(cannot)e(be)h(easily)g(shared)g(among)e(processes)0
4086 y Fl(Conclusion)p Fn(:)32 b(This)23 b(method)f(w)o(orks)h(well)h
(on)e(non-W)m(indo)n(ws)f(machines,)i(as)h(long)e(as)i(you)f(don')o(t)e
(ha)n(v)o(e)i(hundreds)e(of)i(concurrent)0 4185 y(users.)0
4453 y Fk(Thread)g(pool)0 4656 y Fl(Explaination)p Fn(:)29
b(This)22 b(means)g(that)g(the)h(CherryPy)e(HTTP)h(serv)o(er)g(will)h
(create)f(a)g(\002x)o(ed)g(number)e(of)i(threads)g(at)h(startup,)f(and)
f(these)0 4756 y(threads)h(will)i(remain)d(all)j(the)e(time.)33
b(If)23 b(one)f(thread)g(if)h(b)n(usy)f(handling)f(a)i(request)f(and)g
(another)g(request)g(comes)g(in,)h(then)g(the)f(ne)o(xt)0
4856 y(thread)d(will)i(step)g(up)e(and)h(handle)f(it.)0
5002 y(Adv)n(antages:)125 5216 y Fm(\017)41 b Fn(Can)20
b(handle)f(multiple)h(requests)g(at)g(a)h(time)125 5382
y Fm(\017)41 b Fn(F)o(ast)20 b(because)g(we)h(don')o(t)d(need)i(to)g
(create)g(a)g(thread)g(or)g(process)f(for)h(each)g(request)p
0 5549 3901 4 v 0 5649 a Fk(15.1.)52 b(Choosing)24 b(y)n(ou)f(deplo)n
(yment)h(con\002gur)o(ation)2119 b(49)p eop
%%Page: 50 56
50 55 bop 0 83 a Fn(Dra)o(wbacks:)125 295 y Fm(\017)41
b Fn(Doesn')o(t)19 b(tak)o(e)h(adv)n(antage)e(of)i(multi-processor)e
(machines.)125 460 y Fm(\017)41 b Fn(Number)18 b(of)i(threads)g(doesn')
o(t)e(increase)i(if)h(we)f(ha)n(v)o(e)g(more)f(concurrent)f(users.)0
672 y Fl(Conclusion)p Fn(:)25 b(This)20 b(method)e(w)o(orks)h(v)o(ery)g
(well)h(and)f(it)h(is)g(the)g(recommended)c(set-up)j(in)h(man)o(y)e
(cases)j(\(as)f(long)e(as)j(you)d(don')o(t)g(ha)n(v)o(e)0
771 y(hundreds)g(of)i(concurrent)e(users\).)0 1039 y
Fk(Other)23 b(alter)r(nativ)n(es)0 1242 y Fn(If)28 b(you)g
Fl(r)o(eally)g Fn(ha)n(v)o(e)g(a)h(lot)g(of)f(traf)n(\002c)g(and)g(the)
h(pre)n(vious)e(methods)h(are)g(not)g(enough)f(or)h(you)g(can)g(not)h
(use)g(them)f(\(if)g(you')l(re)f(on)0 1342 y(W)m(indo)n(ws)20
b(for)f(instance\),)g(then)h(you)f(can)h(use)h(generic)e
(load-balancing.)j(There)d(is)i(a)g(Ho)n(wT)-7 b(o)20
b(in)g(the)g(documentation)d(about)j(it.)0 1626 y Fa(15.1.3)101
b(Options)28 b(f)m(or)g(deplo)m(ying)i(Cherr)s(yPy)e(behind)i(another)g
(w)o(ebser)s(v)n(er)0 1829 y Fn(All)25 b(the)g(con\002gurations)d
(described)i(in)h(the)f(pre)n(vious)f(section)i(are)f(also)h(a)n(v)n
(ailable)g(when)f(deplo)o(ying)e(CherryPy)i(behind)f(another)0
1929 y(webserv)o(er)-5 b(.)37 b(The)25 b(third-party)d(webserv)o(er)h
(will)j(generally)d(be)h(multi-threaded)e(or)j(multi-processes.)37
b(There)24 b(is)h(a)h(Ho)n(wT)-7 b(o)24 b(in)h(the)0
2028 y(documentation)17 b(that)k(e)o(xplains)e(ho)n(w)g(to)i(set)g
(this)f(up.)0 2355 y Fi(15.2)121 b(Con\002gur)o(ation)36
b(\002le)d(options)0 2588 y Fn(Here)20 b(is)h(the)e(list)i(of)f(the)g
(con\002guration)d(\002le)j(options)f(that)h(are)g(used)g(to)g(specify)
f(ho)n(w)g(the)h(CherryPy)f(serv)o(er)g(will)h(be)g(deplo)o(yed.)j(All)
0 2688 y(these)d(options)g(are)g(used)g(within)g(the)g
Fc([server])i Fn(section)e(of)g(the)g(con\002guration)d(\002le)k(\(cf)f
(Chapter)g("Con\002guring)e(CherryPy"\).)125 2900 y Fm(\017)41
b Fl(sock)o(etP)n(ort)p Fn(:)24 b(This)c(indicates)g(which)g(port)f
(the)i(serv)o(er)e(should)g(listen)i(to.)k(Example:)444
3123 y Fh([server])444 3215 y(socketPort=80)125 3520
y Fm(\017)41 b Fl(sock)o(etHost)p Fn(:)24 b(This)c(indicates)g(which)g
(address)g(the)g(serv)o(er)f(should)g(bind)h(to)g(\(the)g(def)o(ault)f
(is)i(localhost\).)j(Example:)444 3744 y Fh([server])444
3835 y(socketHost=192.168.0.23)125 4141 y Fm(\017)41
b Fl(sock)o(etFile)p Fn(:)32 b(This)24 b(is)h(only)e(used)h(on)f(Unix,)
i(if)f(you)f(w)o(ant)h(to)g(use)g(an)g(AF_UNIX)g(sock)o(et)f(instead)h
(of)g(a)g(re)o(gular)e(AF_INET)208 4240 y(sock)o(et.)i(Example:)444
4464 y Fh([server])444 4555 y(socketFile=/tmp/mySocket.soc)125
4861 y Fm(\017)41 b Fl(f)n(orking)p Fn(:)24 b(Set)d(this)g(to)f(1)g(if)
h(you)e(w)o(ant)h(a)h(forking)d(serv)o(er)-5 b(.)25 b(Example:)444
5085 y Fh([server])444 5176 y(socketPort=80)444 5267
y(forking=1)p 0 5549 3901 4 v 0 5649 a Fk(50)1941 b(Chapter)24
b(15.)52 b(Deplo)n(ying)23 b(y)n(our)g(w)o(ebsite)h(f)n(or)e
(production)p eop
%%Page: 51 57
51 56 bop 125 83 a Fm(\017)41 b Fl(thr)o(eading)p Fn(:)24
b(Set)d(this)f(to)h(1)f(if)g(you)g(w)o(ant)g(a)h(threading)d(serv)o(er)
-5 b(.)25 b(Example:)444 307 y Fh([server])444 399 y(socketPort=80)444
490 y(threading=1)125 796 y Fm(\017)41 b Fl(pr)o(ocessP)n(ool)p
Fn(:)24 b(Set)d(this)f(to)h(n)f(\(n>1\))f(if)h(you)g(w)o(ant)g(to)g(ha)
n(v)o(e)g(n)g(processes)g(created)g(at)g(startup.)25
b(Example:)444 1020 y Fh([server])444 1112 y(socketPort=80)444
1203 y(processPool=10)125 1509 y Fm(\017)41 b Fl(thr)o(eadP)n(ool)p
Fn(:)23 b(Set)e(this)g(to)f(n)g(\(n>1\))f(if)i(you)e(w)o(ant)h(to)h(ha)
n(v)o(e)e(n)i(threads)e(created)h(at)g(startup.)25 b(Example:)444
1733 y Fh([server])444 1825 y(socketPort=80)444 1916
y(threadPool=10)125 2222 y Fm(\017)41 b Fl(r)o(e)o(v)o(erseDNS)p
Fn(:)23 b(Set)i(this)f(to)h(1)f(if)g(you)g(w)o(ant)g(to)g(enable)g(re)n
(v)o(erse)f(DNS)i(\(this)f(w)o(ay)g(the)g(full)g(name)g(of)g(the)g
(domain)f(name)g(for)208 2322 y(the)d(clients)g(will)h(be)f(written)g
(to)h(the)f(logs\).)k(The)c(def)o(ault)g(is)h(0.)k(Example:)444
2546 y Fh([server])444 2637 y(socketPort=80)444 2729
y(reverseDNS=1)125 3035 y Fm(\017)41 b Fl(sock)o(etQueueSize)p
Fn(:)26 b(Size)21 b(of)f(the)h(sock)o(et)g(queue)e(\(this)i(v)n(alue)f
(will)i(be)e(passed)h(to)g(the)g(listen\(\))f(function\).)25
b(The)20 b(def)o(ault)g(is)i(5.)208 3135 y(Example:)444
3359 y Fh([server])444 3450 y(socketPort=80)444 3541
y(socketQueueSize=5)125 3848 y Fm(\017)41 b Fl(sslK)n(eyFile)20
b(and)h(sslCerti\002cateFile)p Fn(:)26 b(This)21 b(is)h(used)f(to)g(ha)
n(v)o(e)f(an)h(SSL)g(serv)o(er)-5 b(.)26 b(There)20 b(is)i(a)f(Ho)n(wT)
-7 b(o)21 b(in)g(the)g(documentation)208 3947 y(about)e(it.)125
4113 y Fm(\017)41 b Fl(xmlRpc)p Fn(:)25 b(This)20 b(is)i(used)e(to)g
(ha)n(v)o(e)f(an)i(XML-RPC)f(serv)o(er)-5 b(.)25 b(There)19
b(is)i(a)g(Ho)n(wT)-7 b(o)20 b(in)g(the)g(documentation)d(about)j(it.)0
4327 y(Some)g(of)g(these)g(options)f(ob)o(viously)f(cannot)i(be)g(used)
g(together)e(because)i(the)o(y)f(con\003ict:)125 4540
y Fm(\017)41 b Fl(sock)o(etFile)20 b Fn(and)f Fl(sock)o(etP)n(ort)h
Fn(ob)o(viously)e(con\003ict)h(with)i(each)f(other)125
4706 y Fm(\017)41 b Fl(thr)o(eading)p Fn(,)19 b Fl(f)n(orking)p
Fn(,)g Fl(pr)o(ocessP)n(ool)g Fn(and)h Fl(thr)o(eadP)n(ool)e
Fn(ob)o(viously)g(con\003ict)i(with)h(each)e(other)p
0 5549 3901 4 v 0 5649 a Fk(15.2.)52 b(Con\002gur)o(ation)24
b(\002le)f(options)2660 b(51)p eop
%%Page: 52 58
52 57 bop 0 5549 3901 4 v 0 5649 a Fk(52)p eop
%%Page: 53 59
53 58 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3388 427
y Fj(SIXTEEN)p 0 515 V 2433 978 a Fs(And)57 b(no)m(w)g(what)h(?)0
1457 y Fn(This)20 b(tutorial)g(should)f(be)h(enough)e(to)j(understand)d
(ho)n(w)h(CherryPy)g(w)o(orks)h(and)g(to)g(de)n(v)o(elop)f(some)h
(real-w)o(orld)e(websites)j(with)f(it.)0 1604 y(Y)-9
b(ou)30 b(can)g(also)h(check)f(out)g(the)h(rest)g(of)f(the)h
(documentation)d(\(Ho)n(wT)-7 b(os,)32 b(library)e(module)f(reference)g
(...\))56 b(for)30 b(more)g(adv)n(anced)0 1703 y(features.)0
1850 y(If)20 b(you)f(need)h(some)g(help,)f(just)i(post)f(a)h(message)f
(to)g(the)g(mailing)g(list)h(and)f(we')o(ll)g(be)g(happ)o(y)f(to)i
(help)e(you.)0 1997 y(W)-7 b(e)21 b(hope)e(you')o(ll)h(ha)n(v)o(e)f(as)
i(much)e(fun)h(using)g(CherryPy)f(as)h(we)h(do.)p 0 5549
3901 4 v 3808 5649 a Fk(53)p eop
%%Page: 54 60
54 59 bop 0 5549 3901 4 v 0 5649 a Fk(54)p eop
%%Page: 55 61
55 60 bop 0 83 3901 9 v 3503 230 a Fk(CHAPTER)3176 427
y Fj(SEVENTEEN)p 0 515 V 2080 978 a Fs(Histor)6 b(y)58
b(and)f(License)0 1506 y Fi(17.1)121 b(License)0 1739
y Fn(CherryPy)19 b(is)i(released)f(under)f(the)h(GPL)g(license.)p
0 5549 3901 4 v 3808 5649 a Fk(55)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF

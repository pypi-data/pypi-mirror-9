%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: lib.dvi
%%Pages: 23
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Helvetica Helvetica-Oblique Times-Roman Times-Bold
%%+ Courier Helvetica-Bold Times-Italic Courier-Bold
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -N0 -t a4 lib.dvi -o lib.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2004.03.19:0735
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (lib.dvi)
@start /Fa 135[50 2[55 28 50 33 1[55 55 55 83 22 50 1[22
55 55 28 55 55 50 1[55 9[94 6[66 2[83 3[28 3[66 15[55
55 55 55 55 2[28 46[{TeXBase1Encoding ReEncodeFont}30
99.6264 /Helvetica rf /Fb 133[45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
1[45 1[45 45 45 1[45 1[45 45 45 45 45 45 45 45 45 45
45 45 2[45 45 1[45 45 45 45 45 45 45 1[45 45 45 1[45
2[45 1[45 1[45 45 45 45 45 45 45 45 45 45 45 45 45 1[45
1[45 45 45 33[{TeXBase1Encoding ReEncodeFont}75 74.7198
/Courier rf /Fc 133[50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 1[50 50 50 50 50 50 50 50 50 10[50 2[50
2[50 50 50 50 50 2[50 50 1[50 50 50 50 50 50 6[50 11[50
46[{TeXBase1Encoding ReEncodeFont}42 83.022 /Courier-Bold
rf /Fd 107[46 25[32 37 37 55 37 42 23 32 32 42 42 42
42 60 23 37 23 23 42 42 23 37 42 37 42 42 3[32 1[32 3[69
51 1[46 42 2[51 60 55 69 46 2[28 60 1[51 1[60 55 1[51
3[56 7[42 2[42 42 42 23 21 28 21 1[42 39[42 2[{
TeXBase1Encoding ReEncodeFont}55 83.022 /Times-Italic
rf /Fe 134[72 3[72 72 72 72 72 72 72 72 72 72 72 1[72
72 2[72 1[72 1[72 12[72 72 5[72 4[72 1[72 2[72 1[72 65[{
TeXBase1Encoding ReEncodeFont}24 119.552 /Courier rf
/Ff 104[120 29[60 1[86 1[66 33 60 40 66 66 66 66 100
27 60 1[27 66 66 1[66 66 60 66 66 12[73 80 1[93 80 2[100
66 3[86 1[73 2[86 80 80 9[66 66 66 66 66 66 66 2[33 40
45[{TeXBase1Encoding ReEncodeFont}42 119.552 /Helvetica
rf /Fg 176[93 86 8[80 3[86 65[{TeXBase1Encoding ReEncodeFont}4
119.552 /Helvetica-Bold rf /Fh 104[83 33[46 23 42 28
1[46 46 46 69 18 42 1[18 46 46 23 46 46 42 46 46 8[55
3[51 55 60 1[55 1[60 69 46 2[23 60 1[51 55 60 60 1[55
7[46 46 46 46 46 46 46 46 46 46 1[23 28 45[{
TeXBase1Encoding ReEncodeFont}47 83.022 /Helvetica rf
/Fi 134[50 3[50 50 50 50 50 50 50 50 50 50 50 1[50 50
2[50 1[50 1[50 12[50 50 5[50 4[50 1[50 2[50 1[50 23[50
50 40[{TeXBase1Encoding ReEncodeFont}26 83.022 /Courier
rf /Fj 105[42 28[42 1[60 1[46 28 32 37 2[42 46 69 23
46 1[23 46 42 1[37 46 37 46 42 13[46 2[51 2[78 55 3[65
4[60 1[60 6[28 2[42 5[42 49[{TeXBase1Encoding ReEncodeFont}30
83.022 /Times-Bold rf
%DVIPSBitmapFont: Fk cmsy10 10 2
/Fk 2 16 df<923803FFC0033F13FC4AB67E020715E0913A1FFE007FF8DA7FE0EB07FE4A
C87ED903FCED3FC0D907F0ED0FE0D90FC0ED03F049486F7E49CA7E017E177E4983498348
48EF0F80000319C04917074848EF03E0000F19F049170148CC12F8A2001E1978003E197C
A2003C193C007C193EA20078191EA300F8191FA248190FAA6C191FA20078191EA3007C19
3EA2003C193C003E197CA2001E1978001F19F8A26C6CEF01F06D1703000719E06C6CEF07
C06D170F000119806C6CEF1F006D5F017E177E6D5F6D6C4B5A6D6C4B5AD907F0ED0FE0D9
03FCED3FC0D900FF03FFC7FCDA7FE0EB07FEDA1FFEEB7FF80207B612E002011580DA003F
01FCC8FC030313C0484E7BBB53>13 D<EB1FF0EBFFFE487F000714C04814E04814F04814
F8A24814FCA3B612FEA96C14FCA36C14F8A26C14F06C14E06C14C0000114006C5BEB1FF0
1F1F7BA42A>15 D E
%EndDVIPSBitmapFont
/Fl 104[83 2[37 25[37 42 42 60 42 42 23 32 28 42 42 42
42 65 23 42 23 23 42 42 28 37 42 37 42 37 7[60 1[78 1[60
51 46 55 60 46 60 60 74 51 2[28 60 60 46 51 60 55 55
60 76 5[23 42 1[42 42 42 42 42 42 42 42 23 21 28 21 2[28
28 28 36[46 2[{TeXBase1Encoding ReEncodeFont}68 83.022
/Times-Roman rf /Fm 134[37 6[25 1[42 42 1[62 3[17 42
42 1[42 1[37 34[76 17[21 46[{TeXBase1Encoding ReEncodeFont}12
74.7198 /Helvetica rf /Fn 141[33 4[78 28 2[28 50 4[44
1[44 19[89 7[61 10[28 50 4[50 1[50 50 50 3[25 44[{
TeXBase1Encoding ReEncodeFont}16 99.6264 /Times-Roman
rf /Fo 144[80 80 120 32 2[32 3[80 18[104 13[104 68[{
TeXBase1Encoding ReEncodeFont}8 143.462 /Helvetica rf
/Fp 140[72 6[32 6[80 3[80 14[104 32[80 80 1[40 46[{
TeXBase1Encoding ReEncodeFont}8 143.462 /Helvetica-Oblique
rf /Fq 134[103 3[115 57 103 69 2[115 115 1[46 2[46 115
1[57 115 115 103 115 115 12[126 138 149 1[138 161 149
172 115 3[149 2[138 1[149 67[{TeXBase1Encoding ReEncodeFont}27
206.559 /Helvetica rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 0 83 3901 9 v 441 446 a Fq(Cherr)6 b(yPy)57 b(Standard)g(Libr)n
(ar)6 b(y)56 b(Ref)-6 b(erence)3055 676 y Fp(Release)38
b(0.10)3151 1927 y Fo(Remi)g(Delon)3266 4132 y Fn(March)25
b(19,)g(2004)2975 5317 y(Email:)k Fm(remi@cherr)r(yp)n(y)-7
b(.org)p eop
%%Page: 2 2
2 1 bop 0 83 a Fl(Cop)o(yright)380 80 y(c)357 83 y Fk(\015)20
b Fl(2002-2004)d(CherryPy)i(T)-6 b(eam)20 b(\(team@cherryp)o(y)-5
b(.or)o(g\))15 b(All)20 b(rights)g(reserv)o(ed.)0 230
y(See)h(the)f(end)f(of)h(this)h(document)d(for)i(complete)f(license)h
(and)g(permissions)f(information.)p eop
%%Page: 1 3
1 2 bop 1796 2339 a Fj(Abstract)0 2569 y Fl(CherryPy)19
b(is)i(a)g(Python-based)c(tool)j(for)g(de)n(v)o(eloping)d(dynamic)i
(web)h(sites.)0 2716 y(One)k(of)h(CherryPy')-5 b(s)24
b(main)g(feature)f(is)j Fj(CherryClass)p Fl(:)34 b(an)24
b(e)o(xtension)f(to)i(Python')-5 b(s)24 b(re)o(gular)f(classes.)39
b(A)25 b(CherryClass)g(is)g(a)g(self-)0 2815 y(contained)19
b(module)f(that)j(can)f(contain)f(both)g(the)h(algorithm)f(to)h
(process)g(the)g(data)g(and)g(the)g(templates)g(to)h(render)d(the)j
(result.)0 2962 y(CherryClasses)27 b(are)f(v)o(ery)g(po)n(werful)e(and)
i(easily)h(reusable.)43 b(CherryPy)26 b(comes)g(with)h(a)g(set)g(of)f
(useful)g(CherryClasses)h(that)g(will)0 3062 y(mak)o(e)20
b(your)f(life)h(easier)-5 b(.)0 3209 y(These)20 b(CherryClasses)g(mak)o
(e)g(the)g Fj(CherryPy)g(Standard)f(Library)p Fl(.)0
3356 y(This)g(standard)e(library)h(is)h(still)h(limited)f(for)f(no)n(w)
-5 b(,)17 b(b)n(ut)i(it)h(is)f(already)f(v)o(ery)f(useful.)24
b(W)-7 b(e)20 b(e)o(xpect)d(it)j(to)f(get)f(much)g(bigger)f(v)o(ery)h
(soon.)p eop
%%Page: 2 4
2 3 bop eop
%%Page: 1 5
1 4 bop 2764 747 a Fq(CONTENTS)0 1594 y Fj(1)83 b(Module)20
b(list)3335 b(1)125 1694 y Fl(1.1)110 b Fi(Mail)20 b
Fl(\227)h(Simple)f(smtplib)g(wrapper)f(to)h(send)g(e-mails.)69
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(1)125 1793
y(1.2)110 b Fi(HttpAuthenticate)18 b Fl(\227)j(Basic)g(HTTP)f
(authentication.)73 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(2)125
1893 y(1.3)110 b Fi(CookieAuthenticate)18 b Fl(\227)j(Cookie-based)d
(authentication.)54 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(3)125 1993
y(1.4)110 b Fi(CookieSessionAuthenticate)16 b Fl(\227)21
b(Cookie)f(and)f(session-based)h(authentication.)51 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(5)125 2092
y(1.5)110 b Fi(Form)20 b Fl(\227)h(F)o(orm)f(handling.)26
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(9)125 2192 y(1.6)110
b Fi(MySql)20 b Fl(\227)h(Simple)f(MySQLdb)f(wrapper)g(to)h(access)h(a)
f(MySql)g(database.)67 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(14)125 2291 y(1.7)110
b Fi(MaskTools)19 b Fl(\227)i(Simple)f(HTML)g(patterns.)54
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(14)0 2474 y Fj(A)65 b(History)19 b(and)h(License)2983
b(17)125 2574 y Fl(A.1)92 b(License)44 b(.)e(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(17)p 0 5549 3901 4
v 3882 5649 a Fh(i)p eop
%%Page: 2 6
2 5 bop 0 5549 3901 4 v 0 5649 a Fh(ii)p eop
%%Page: 1 7
1 6 bop 0 83 3901 9 v 3503 230 a Fh(CHAPTER)3641 427
y Fg(ONE)p 0 515 V 2913 978 a Fq(Module)57 b(list)0 1506
y Ff(1.1)121 b Fe(Mail)32 b Ff(\227)h(Simple)f(smtplib)h(wr)o(apper)i
(to)f(send)g(e-mails)n(.)0 1739 y Fl(This)27 b(module)f(is)i(a)g(v)o
(ery)e(simple)h(module)f(\(the)h(source)f(code)h(is)h(only)e(20)h
(lines\))g(that)h(allo)n(ws)f(you)f(to)i(send)f(e-mails)g(from)f(your)0
1839 y(CherryPy)19 b(program.)0 1986 y(The)c(module)f(de\002nes)h(an)g
(abstract)g(CherryClass)g(called)g Fi(Mail)p Fl(,)h(with)g(one)e
(member)g(v)n(ariable)g(called)h Fd(smtpServer)j Fl(and)c(one)h(method)
0 2085 y(called)20 b Fd(sendMail)p Fl(.)0 2232 y(T)-7
b(o)21 b(use)f(it,)h(just)g(deri)n(v)o(e)e(the)i Fd(Mail)f
Fl(CherryClass,)h(set)g Fd(smtpServer)h Fl(in)f(the)p
2167 2232 46 4 v 2218 2232 V 121 w Fd(init)p 2379 2232
V 2430 2232 V 122 w Fl(method,)e(and)h(then)g(call)h
Fd(sendMail)f Fl(to)g(send)h(an)0 2332 y(e-mail:)0 2479
y Fc(variable:)98 b(smtpServer)208 2578 y Fl(String)19
b(containing)g(the)h(address)g(of)f(the)i(Smtp)f(serv)o(er)0
2725 y Fc(function:)98 b(sendMail)p Fi(\()p Fd(sender)-9
b(,)18 b(r)m(eceiver)-9 b(,)20 b(bcc,)g(contentT)-6 b(ype)o(,)18
b(subject,)i(msg)p Fi(\))208 2825 y Fl(This)d(functions)g(sends)g(an)h
(e-mail)f(according)f(to)h(the)h(parameters.)23 b(All)18
b(parameters)f(must)g(be)h(a)g(string.)24 b Fd(contentT)-6
b(ype)16 b Fl(should)208 2924 y(be)25 b(either)g(\224te)o(xt/plain\224)
g(or)g(\224te)o(xt/html\224.)40 b(Depending)23 b(on)j
Fd(contentT)-6 b(ype)p Fl(,)25 b Fd(msg)g Fl(should)g(contain)g(either)
g(plain)g(te)o(xt)g(or)h(html)208 3024 y(te)o(xt.)e(This)d(functions)e
(uses)i(Python')-5 b(s)19 b Fd(smtplib)h Fl(library)f(to)i(send)f(the)g
(e-mail.)25 b(It)20 b(uses)h(the)f(v)n(alue)g(of)g Fd(smtpServer)i
Fl(to)f(send)f(the)208 3124 y(email.)0 3271 y Fc(function:)98
b(sendHtmlMail)p Fi(\()p Fd(sender)-9 b(,)17 b(r)m(eceiver)-9
b(,)20 b(bcc,)g(subject,)g(txtmsg)o(,)g(htmlmsg)p Fi(\))208
3370 y Fl(This)30 b(functions)f(sends)h(an)g(HTML)g(e-mail)g(according)
e(to)j(the)f(parameters.)54 b(All)31 b(parameters)e(must)h(be)g(a)h
(string.)54 b(This)208 3470 y(functions)19 b(uses)i(Python')-5
b(s)19 b Fd(smtplib)i Fl(and)f Fd(MimeWriter)k Fl(modules)19
b(to)i(send)f(the)g(e-mail.)26 b(It)20 b(uses)h(the)g(v)n(alue)f(of)g
Fd(smtpServer)i Fl(to)208 3569 y(send)d(the)i(email.)0
3716 y(Ex)o(emple:)236 3955 y Fb(use)45 b(Mail)236 4046
y(CherryClass)e(MyMail\(Mail\):)236 4137 y(function:)416
4229 y(def)h(__init__\(self\):)595 4320 y
(self.smtpServer='smtp.site.com')236 4411 y(CherryClass)f(Root:)236
4503 y(mask:)416 4594 y(def)h(index\(self\):)595 4685
y(<py-exec="myMail.sendMail\('me@site.com)o(',)39 b
('you@yourhost.com',)j('',)i('text/plain',)f('Hello',)g('Hello,\\nthis)
g(is)h(me'\)">)595 4776 y(<html><body>)774 4868 y(Hi,)h(I)f(just)g
(sent)h(an)f(e-mail)g(to)g(you@yourhost.com)595 4959
y(</body></html>)p 0 5549 3901 4 v 3854 5649 a Fh(1)p
eop
%%Page: 2 8
2 7 bop 0 86 a Ff(1.2)121 b Fe(HttpAuthenticate)29 b
Ff(\227)j(Basic)h(HTTP)g(authentication.)0 336 y Fa(1.2.1)100
b(Module)0 539 y Fl(This)20 b(module)e(allo)n(ws)h(you)g(to)g(protect)g
(a)g(part)g(of)h(your)e(website)h(with)h(a)g(login)e(and)h(a)h(passw)o
(ord,)e(using)h(a)h(basic)g(HTTP)f(authentica-)0 638
y(tion)h(scheme.)0 785 y(All)h(you)f(ha)n(v)o(e)g(to)h(do)f(is)h
(declare)f(a)h(CherryClass)g(that)f(inherits)g(from)g
Fd(HttpA)n(uthenticate)p Fl(,)e(and)i(all)i(your)d(masks)i(and)f(vie)n
(ws)g(will)i(be)0 885 y(automatically)d(protected.)0
1032 y(T)-7 b(o)24 b(perform)d(this)j(magic,)f Fd(HttpA)n(uthenticate)f
Fl(uses)i(A)-5 b(OP)24 b(\(aspect)f(oriented)f(programming\).)31
b(This)23 b(basically)g(means)g(that)h(it)g(will)0 1131
y(add)c(some)g(e)o(xtra)f(code)h(at)g(the)h(be)o(ginning)c(of)j(each)g
(of)g(your)f(masks)h(and)g(vie)n(ws.)0 1278 y(Y)-9 b(ou)20
b(may)f(o)o(v)o(erride)f(the)i(follo)n(wing)f(methods:)0
1425 y Fc(function:)98 b(getPasswordListForLogin)p Fi(\()p
Fd(lo)o(gin)p Fi(\))208 1525 y Fl(This)20 b(is)i(where)e(you)g(specify)
g(what)h(the)f(v)n(alid)g(login/passw)o(ord)f(combinations)g(are.)26
b(The)21 b(input)f(v)n(alue)g(is)h(the)g(login)f(that)h(the)208
1624 y(user)g(entered.)29 b(The)22 b(method)e(should)h(return)f(a)j
(list)g(of)e(all)i(v)n(alid)e(passw)o(ords)g(for)h(this)g(login.)29
b(If)22 b(the)g(login)f(is)h(incorrect,)f(just)208 1724
y(return)e(an)h(empty)f(list.)208 1857 y(Note:)27 b(Being)21
b(able)g(to)g(return)f(se)n(v)o(eral)g(matching)g(passw)o(ords)h(for)f
(a)i(login)e(allo)n(ws)h(you)g(to)g(k)o(eep)g(a)g(\224master)g(k)o(e)o
(y\224)f(passw)o(ord)208 1956 y(that)g(w)o(orks)g(with)g(all)h(logins.)
0 2103 y Fc(mask)49 b(or)h(view:)98 b(unauthorized)p
Fi(\(\))208 2203 y Fl(This)20 b(is)h(the)f(page)g(that)g(is)h
(displayed)e(when)h(the)g(user)g(entered)f(an)h(incorrect)f
(login/passw)o(ord)f(3)j(times)f(in)h(a)f(ro)n(w)-5 b(.)0
2350 y Fc(variable:)98 b(login)208 2449 y Fl(String)19
b(containing)g(the)h(login)f(of)h(the)g(user)g(that)h(is)g(logged)e
(in.)25 b(The)20 b(string)f(is)j(empty)d(if)h(no-one)f(is)i(logged)d
(in.)0 2596 y(Note:)25 b(There)20 b(is)h(no)e(\224logout\224)g(method.)
24 b(Users)d(are)f(automatically)e(logged)h(out)h(when)g(the)o(y)f
(close)h(their)g(bro)n(wser)f(windo)n(w)-5 b(.)0 2743
y Fj(See)21 b(Also:)0 2890 y Fl(Module)e Fi(CookieAuthenticate)e
Fl(\(section)j(1.3\):)208 2990 y(Cookie-based)e(authentication.)0
3136 y(Module)h Fi(CookieSessionAuthenticate)d Fl(\(section)k(1.4\):)
208 3236 y(Cookie/session-based)e(authentication.)0 3521
y Fa(1.2.2)100 b(Example)0 3724 y Fl(The)20 b(follo)n(wing)e(code)i(is)
h(an)f(e)o(x)o(emple)f(that)h(uses)h(the)f(HttpAuthenticate)f(module:)
236 3962 y Fb(use)45 b(HttpAuthenticate)236 4053 y(CherryClass)e
(Root\(HttpAuthenticate\):)236 4145 y(function:)416 4236
y(def)h(getPasswordListForLogin\(login\):)595 4327 y(if)g
(login=='mySecretLogin':)d(return)j(['mySecretPassword'])595
4419 y(return)g([])236 4510 y(mask:)416 4601 y(def)g(index\(self\):)595
4693 y(<html><body>)774 4784 y(Hello)g(<py-eval="self.login">,)d(I)k
(see)f(you)g(know)h(the)f(secret)g(login)g(and)g(password)g(...)595
4875 y(</body></html>)416 4967 y(def)g(unauthorized\(self\):)595
5058 y(<html><body>)774 5149 y(Hey)h(dude,)f(get)g(out)g(!)h(You're)f
(not)g(allowed)g(here)g(if)g(you)h(don't)f(know)g(the)g(login/password)
595 5241 y(</body></html>)p 0 5549 3901 4 v 0 5649 a
Fh(2)3018 b(Chapter)23 b(1.)52 b(Module)25 b(list)p eop
%%Page: 3 9
3 8 bop 0 88 a Ff(1.3)121 b Fe(CookieAuthenticate)28
b Ff(\227)33 b(Cookie-based)j(authentication.)0 338 y
Fa(1.3.1)100 b(Module)0 540 y Fl(A)21 b(cookie-based)c(authentication)i
(allo)n(ws)h(website)g(users)h(to)f(login/logout)e(using)i(a)g
(username)f(and)h(a)g(passw)o(ord.)0 687 y(While)h(the)o(y)e(are)h
(logged)f(in,)h(their)g(session)h(information)c(is)22
b(stored)d(on)h(their)g(computer)e(via)i(a)h(cookie.)0
834 y(If)f(the)o(y)g(are)g(inacti)n(v)o(e)f(for)g(too)h(long,)f(the)o
(y)h(are)g(automatically)f(logged)g(out.)0 981 y(This)h(module)f(pro)o
(vides)g(an)h(easy)g(to)g(use)h(implementation)d(of)i(a)g(cookie-based)
e(authentication.)0 1128 y(Unlik)o(e)k(man)o(y)f(cookie-based)f
(authentication)g(methods,)i(it)h(doesn')o(t)e(require)g(an)o(y)g
(database)h(on)g(the)g(serv)o(er)g(side)g(to)h(store)f(session)0
1228 y(informations.)h(It)d(uses)h(three)f(cookies)f(to)h(store)h(the)f
(session)g(information:)125 1441 y Fk(\017)41 b Fl(One)20
b(cookie)f(called)h Fd(CherryLo)o(gin)g Fl(that)g(contains)f(the)i
(login)e(of)h(the)g(user)125 1607 y Fk(\017)41 b Fl(One)20
b(cookie)f(called)h Fd(CherryDate)g Fl(that)g(contains)g(the)g(time)g
(of)g(the)h(last)g(action)125 1773 y Fk(\017)41 b Fl(One)18
b(cookie)f(called)h Fd(CherryP)-7 b(asswor)m(d)21 b Fl(that)e(contains)
e(the)i(passw)o(ord)e(of)h(the)h(user)m(,)f(encrypted)e(with)i(the)h
(login)e(and)h(the)g(time)208 1873 y(of)h(the)i(last)g(action.)j(This)d
(is)g(to)f(pre)n(v)o(ent)e(someone)h(from)g(manually)g(changing)f(the)j
(last)g(action)e(time.)0 2086 y(T)-7 b(o)21 b(use)h(this)g(module,)d
(you)i(ha)n(v)o(e)f(to)i(declare)e(a)i(CherryClass)f(that)g(inherits)g
(from)f Fd(CookieA)n(uthenticate)p Fl(,)f(and)i(all)h(your)e(masks)h
(and)0 2185 y(vie)n(ws)f(will)h(be)f(automatically)f(protected.)0
2332 y(T)-7 b(o)18 b(perform)e(this)i(magic,)g Fd(CookieA)n
(uthenticate)d Fl(uses)k(A)-5 b(OP)19 b(\(aspect)e(oriented)g
(programming\).)j(This)e(basically)g(means)f(that)h(it)h(will)0
2432 y(add)h(some)g(e)o(xtra)f(code)h(at)g(the)h(be)o(ginning)c(of)j
(each)g(of)g(your)f(masks)h(and)g(vie)n(ws.)0 2579 y(Y)-9
b(ou)20 b(may)f(use)i(the)f(follo)n(wing)e(v)n(ariables)i(and)g
(methods:)0 2726 y Fc(variable:)98 b(loginCookieName)208
2825 y Fl(String)19 b(containing)g(the)h(name)f(of)h(the)g(cookie)g
(where)f(the)h Fd(lo)o(gin)g Fl(is)h(stored.)j(\(def)o(ault)c(v)n(alue)
f(is)i Fd(CherryLo)o(gin)p Fl(\))0 2972 y Fc(variable:)98
b(dateCookieName)208 3072 y Fl(String)19 b(containing)g(the)h(name)f
(of)h(the)g(cookie)g(where)f(the)h Fd(last)h(action)e(time)i
Fl(is)g(stored.)k(\(def)o(ault)19 b(v)n(alue)g(is)i Fd(CherryDate)p
Fl(\))0 3219 y Fc(variable:)98 b(passwordCookieName)208
3318 y Fl(String)19 b(containing)g(the)h(name)f(of)h(the)g(cookie)g
(where)f(the)h Fd(passwor)m(d)j Fl(is)e(stored.)j(\(def)o(ault)19
b(v)n(alue)h(is)h Fd(CherryP)-7 b(asswor)m(d)r Fl(\))0
3465 y Fc(variable:)98 b(timeout)208 3565 y Fl(Inte)o(gers)22
b(containing)f(the)i(timeout)g(in)g(minutes.)34 b(If)23
b(the)g(user)g(is)i(inacti)n(v)o(e)d(for)h(that)g(time,)h(it)g(will)g
(automatically)e(be)h(logged)208 3664 y(out.)h(Def)o(ault)c(v)n(alue)g
(ie)g(60.)25 b(Set)c(it)g(to)f(0)g(if)h(you)e(w)o(ant)h(no)g(timeout.)0
3811 y Fc(function:)98 b(getPasswordListForLogin)p Fi(\()p
Fd(lo)o(gin)p Fi(\))208 3911 y Fl(This)20 b(is)i(where)e(you)g(specify)
g(what)h(the)f(v)n(alid)g(login/passw)o(ord)f(combinations)g(are.)26
b(The)21 b(input)f(v)n(alue)g(is)h(the)g(login)f(that)h(the)208
4011 y(user)g(entered.)29 b(The)22 b(method)e(should)h(return)f(a)j
(list)g(of)e(all)i(v)n(alid)e(passw)o(ords)g(for)h(this)g(login.)29
b(If)22 b(the)g(login)f(is)h(incorrect,)f(just)208 4110
y(return)e(an)h(empty)f(list.)208 4243 y(Note:)27 b(Being)21
b(able)g(to)g(return)f(se)n(v)o(eral)g(matching)g(passw)o(ords)h(for)f
(a)i(login)e(allo)n(ws)h(you)g(to)g(k)o(eep)g(a)g(\224master)g(k)o(e)o
(y\224)f(passw)o(ord)208 4343 y(that)g(w)o(orks)g(with)g(all)h(logins.)
0 4490 y Fc(mask)49 b(or)h(view:)98 b(loginScreen)p Fi(\()p
Fd(messa)o(g)o(e)o(,)18 b(fr)l(omP)-7 b(a)o(g)o(e)o(,)20
b(lo)o(gin=\224)p Fi(\))208 4589 y Fl(This)g(is)h(the)f(page)g(that)g
(is)h(displayed)e(when)h(the)g(user)g(tries)h(to)f(access)h(a)f
(protected)f(page)h(without)f(being)g(logged)g(in.)208
4722 y Fd(messa)o(g)o(e)h Fl(is)h(a)g(string)f(containing)e(the)i
(reason)f(why)h(no)g(user)g(is)h(logged)d(in.)26 b(Possible)20
b(v)n(alues)g(are:)349 4888 y Fk(\017)o Fj(timeoutMessage)p
Fl(:)25 b(This)20 b(means)g(that)g(someone)f(w)o(as)i(logged)e(in,)h(b)
n(ut)g(the)o(y)g(remained)e(inacti)n(v)o(e)i(for)f(too)h(long)349
5021 y Fk(\017)o Fj(wr)o(ongLoginP)o(assw)o(ordMessage)p
Fl(:)26 b(This)c(means)f(that)h(someone)e(is)j(trying)d(to)i(log)f(in,)
h(b)n(ut)g(the)f(login)g(and)g(passw)o(ord)390 5120 y(the)o(y)f
(entered)f(are)h(incorrect)349 5253 y Fk(\017)o Fj(noCookieMessage)p
Fl(:)28 b(This)22 b(means)f(that)h(no)g(informations)e(are)h(a)n(v)n
(ailable:)29 b(this)22 b(is)h(probably)c(the)j(\002rst)h(time)f(the)g
(user)390 5353 y(is)f(coming)e(here)p 0 5549 3901 4 v
0 5649 a Fh(1.3.)52 b Fi(CookieAuthenticate)20 b Fh(\227)j
(Cookie-based)g(authentication.)1565 b(3)p eop
%%Page: 4 10
4 9 bop 208 83 a Fd(fr)l(omP)-7 b(a)o(g)o(e)20 b Fl(is)h(a)f(string)g
(containing)f(the)h(URL)h(of)f(the)g(page)f(the)h(user)h(w)o(as)g
(trying)e(to)h(access.)208 216 y Fd(lo)o(gin)h Fl(is)i(a)f(string)g
(containing)e(the)i(login)f(of)h(the)g(user)g(if)g(an)o(y)-5
b(.)29 b(If)22 b(the)g(string)g(is)h(not)e(empty)-5 b(,)21
b(it)i(means)f(that)g(the)g(user)g(already)208 315 y(entered)d(a)i
(login,)e(b)n(ut)i(the)f(passw)o(ord)g(w)o(as)h(incorrect,)e(or)h(that)
h(the)f(user)g(had)g(a)h(cookie)e(with)i(the)f(login)g(in)h(it.)26
b(This)21 b(allo)n(ws)f(to)208 415 y(display)f(the)h(login)g(in)g(the)g
(form)g(so)g(the)g(user)g(doesn')o(t)f(ha)n(v)o(e)h(to)g(enter)g(it)h
(each)e(time.)208 548 y(The)k(CherryClass)h(comes)f(with)h(a)g(def)o
(ault)f Fd(lo)o(ginScr)m(een)f Fl(mask.)36 b(Y)-9 b(ou')o(ll)23
b(probably)f(w)o(ant)i(to)f(o)o(v)o(erwrite)f(it)j(to)f(customize)f(it)
208 648 y(for)j(your)f(needs.)44 b(All)28 b(you)d(ha)n(v)o(e)h(to)h(do)
g(is)g(de\002ne)f(a)h(form)f(that)h(calls)g(the)g Fd(doLo)o(gin)e
Fl(method)h(with)h(3)f(parameters:)37 b Fd(lo)o(gin)p
Fl(,)208 747 y Fd(passwor)m(d)24 b Fl(and)f Fd(fr)l(omP)-7
b(a)o(g)o(e)p Fl(.)32 b(The)23 b(\002rst)g(tw)o(o)g(are)g(entered)f(by)
g(the)h(user)-5 b(.)33 b(The)22 b(third)g(one)h(should)e(be)i(a)g
(hidden)f(\002eld)h(with)g(the)208 847 y(v)n(alue)c(that')-5
b(s)21 b(passed)f(to)g(the)g(function.)208 980 y(The)f(follo)n(wing)g
(code)g(is)j(the)e(def)o(ault)f(implementation)f(of)i(the)g
Fd(lo)o(ginScr)m(een)f Fl(mask:)444 1204 y Fb(<html><body>)623
1295 y(Message:)44 b(<div)g(py-eval="message">message</div>)623
1386 y(<form)g(method="post")f(action="doLogin">)802
1478 y(Login:)h(<input)g(type=text)f(name=login)h(py-attr="login")e
(value="")h(length=10><br>)802 1569 y(Password:)h(<input)g
(type=password)e(name=password)h(length=10><br>)802 1660
y(<input)h(type=hidden)f(name=fromPage)g(py-attr="fromPage")f
(value=""><br>)802 1752 y(<input)i(type=submit>)623 1843
y(</form>)444 1934 y(</body></html>)0 2136 y Fc(mask)49
b(or)h(view:)98 b(logoutScreen)p Fi(\(\))208 2236 y Fl(This)28
b(page)g(is)i(displayed)d(after)i(the)f(user)h(logged)e(out.)50
b(This)29 b(method)e(is)j(called)e(by)g(the)h Fd(doLo)o(gout)f
Fl(method.)49 b(Y)-9 b(ou)28 b(may)208 2335 y(o)o(v)o(erwrite)18
b(it)j(to)f(suit)h(your)e(needs.)0 2482 y Fc(view:)99
b(doLogout)p Fi(\(\))208 2582 y Fl(This)22 b(is)i(the)e(mask)g(or)h
(vie)n(w)f(you)g(should)f(call)i(to)f(perform)f(a)i(logout.)30
b(This)23 b(method)e(performs)g(the)h(logout,)g(and)g(then)g(calls)208
2681 y(the)e Fd(lo)o(goutScr)m(een)e Fl(method)h(to)h(display)f(the)i
(logout)e(screen.)0 2828 y Fc(variable:)98 b(login)208
2928 y Fl(String)19 b(containing)g(the)h(login)f(of)h(the)g(user)g
(that)h(is)g(logged)e(in.)25 b(The)20 b(string)f(is)j(empty)d(if)h
(no-one)f(is)i(logged)d(in.)0 3075 y Fj(See)j(Also:)0
3222 y Fl(Module)e Fi(CookieSessionAuthenticate)d Fl(\(section)k
(1.4\):)208 3321 y(Cookie/session-based)e(authentication.)0
3468 y(Module)h Fi(HttpAuthenticate)f Fl(\(section)h(1.2\):)208
3568 y(Basic)i(HTTP)f(authentication.)0 3853 y Fa(1.3.2)100
b(Example)0 4056 y Fl(The)20 b(follo)n(wing)e(code)i(is)h(an)f(e)o(x)o
(emple)f(that)h(uses)h(the)f(CookieAuthenticate)e(module:)p
0 5549 3901 4 v 0 5649 a Fh(4)3018 b(Chapter)23 b(1.)52
b(Module)25 b(list)p eop
%%Page: 5 11
5 10 bop 236 174 a Fb(use)45 b(CookieAuthenticate)236
357 y(CherryClass)e(MemberArea\(CookieAuthenticate\):)236
448 y(mask:)416 540 y(def)h(index\(self\):)595 631 y(<html><body>)595
722 y(Welcome)g(to)g(the)g(member)g(area,)g(<py-eval="self.login"><br>)
595 814 y(If)g(you)h(want)f(to)g(log)h(out,)f(just)g(click)g(<a)g
(py-attr="self.getPath\(\)+'/doLogout'")39 b(href="">here</a>.<br>)595
905 y(Otherwise,)k(just)h(click)g(<a)h(py-attr="request.base")c
(href="">here</a>)h(to)i(go)h(back)f(to)h(the)f(home)g(page.)595
996 y(</body></html>)416 1088 y(def)g(loginScreen\(self,)e(message,)h
(fromPage,)h(login=''\):)595 1179 y(<html><body>)774
1270 y(Welcome)g(to)g(the)h(login)f(page.)g(Please)f(enter)h(your)h
(login)f(and)g(password)f(below:)774 1362 y
(<py-if="message==self.wrongLoginPassword)o(Messag)o(e">)954
1453 y(<br><font)g(color=red>Sorry,)f(the)i(login)g(or)h(password)e
(was)i(incorrect</font>)774 1544 y(</py-if>)774 1636
y(<form)f(method="post")f(action="doLogin">)954 1727
y(Login:)g(<input)h(type=text)f(name=login)h(py-attr="login")e
(value="")h(length=10><br>)954 1818 y(Password:)g(<input)h
(type=password)e(name=password)h(length=10><br>)954 1910
y(<input)g(type=hidden)g(name=fromPage)g(py-attr="fromPage")f
(value=""><br>)954 2001 y(<input)h(type=submit)g(value="Login">)774
2092 y(</form>)595 2183 y(</body></html>)416 2275 y(def)h
(logoutScreen\(self\):)595 2366 y(<html><body>)774 2457
y(You)h(have)f(been)g(logged)g(out.<br>)774 2549 y(Click)g(<a)h
(py-attr="request.base")c(href="">here</a>)h(to)i(go)h(back)f(to)h(the)
f(home)g(page.)595 2640 y(</body></html>)236 2731 y(function:)416
2823 y(def)g(getPasswordListForLogin\(self,)c(login\):)595
2914 y(if)k(login=="login":)f(return)h(["password"])595
3005 y(return)g([])236 3188 y(CherryClass)f(Root:)236
3279 y(mask:)416 3371 y(def)h(index\(self\):)595 3462
y(<html><body>)774 3553 y(Welcome)g(to)g(the)h(site.<br>)774
3645 y(Click)f(<a)h(href='memberArea/index'>here</a>)39
b(to)45 b(access)e(the)774 3736 y(member)h(area.)595
3827 y(</body></html>)0 4276 y Ff(1.4)121 b Fe
(CookieSessionAuthenticat)o(e)31 b Ff(\227)37 b(Cookie)h(and)h
(session-based)g(au-)286 4426 y(thentication.)0 4675
y Fa(1.4.1)100 b(Module)0 4878 y Fl(A)21 b(cookie-based)c
(authentication)i(allo)n(ws)h(website)g(users)h(to)f(login/logout)e
(using)i(a)g(username)f(and)h(a)g(passw)o(ord.)0 5025
y(While)h(the)o(y)e(are)h(logged)f(in,)h(their)g(session)h(information)
c(is)22 b(stored)d(on)h(their)g(computer)e(via)i(a)h(cookie.)0
5172 y(If)f(the)o(y)g(are)g(inacti)n(v)o(e)f(for)g(too)h(long,)f(the)o
(y)h(are)g(automatically)f(logged)g(out.)0 5318 y(This)h(module)f(pro)o
(vides)g(an)h(easy)g(to)g(use)h(implementation)d(of)i(a)g(cookie-based)
e(authentication.)p 0 5549 3901 4 v 0 5649 a Fh(1.4.)52
b Fi(CookieSessionAuthenticate)19 b Fh(\227)k(Cookie)g(and)h
(session-based)e(authentication.)750 b(5)p eop
%%Page: 6 12
6 11 bop 0 83 a Fl(This)22 b(module)e(is)i(quite)f(dif)n(ferent)f(from)
h(the)g Fd(CookieA)n(uthenticate)f Fl(module)g(because)h(the)g
(login/passw)o(ord)f(is)i(only)f(check)o(ed)f(once)0
183 y(\(when)f(the)h(user)h(\002rst)f(loggs)g(in\))g(and)g(then)f(the)i
(f)o(act)f(that)g(this)h(user)f(is)h(logged)e(in)h(is)h(stored)f(as)h
(a)g(session.)0 330 y(T)-7 b(o)29 b(use)g(this)g(module,)g(you)f(ha)n
(v)o(e)g(to)g(declare)g(a)h(CherryClass)g(that)f(inherits)h(from)e
Fd(CookieSessionA)n(uthenticate)p Fl(,)h(and)g(all)h(your)0
429 y(masks)20 b(and)g(vie)n(ws)g(will)h(be)f(automatically)f
(protected.)0 576 y(T)-7 b(o)26 b(perform)e(this)i(magic,)h
Fd(CookieSessionA)n(uthenticate)22 b Fl(uses)27 b(A)-5
b(OP)26 b(\(aspect)g(oriented)e(programming\).)38 b(This)26
b(basically)g(means)0 676 y(that)20 b(it)h(will)g(add)f(some)g(e)o
(xtra)f(code)h(at)g(the)h(be)o(ginning)c(of)j(each)g(of)g(your)f(masks)
h(and)g(vie)n(ws.)0 823 y(Y)-9 b(ou)20 b(may)f(use)i(the)f(follo)n
(wing)e(v)n(ariables)i(and)g(methods:)0 969 y Fc(variable:)98
b(sessionIdCookieName)208 1069 y Fl(String)29 b(containing)g(the)h
(name)g(of)g(the)g(cookie)g(where)f(the)i Fd(lo)o(gin/session)e
Fl(informations)g(are)h(stored.)55 b(\(def)o(ault)29
b(v)n(alue)h(is)208 1169 y Fd(CherrySessionId)r Fl(\))0
1316 y Fc(variable:)98 b(timeout)208 1415 y Fl(Inte)o(gers)22
b(containing)f(the)i(timeout)g(in)g(minutes.)34 b(If)23
b(the)g(user)g(is)i(inacti)n(v)o(e)d(for)h(that)g(time,)h(it)g(will)g
(automatically)e(be)h(logged)208 1515 y(out.)h(Def)o(ault)c(v)n(alue)g
(ie)g(60.)25 b(Set)c(it)g(to)f(0)g(if)h(you)e(w)o(ant)h(no)g(timeout.)0
1662 y Fc(function:)98 b(checkLoginAndPassword)p Fi(\()p
Fd(lo)o(gin,)15 b(passwor)m(d)r Fi(\))208 1761 y Fl(This)22
b(is)h(where)f(you)f(specify)g(what)h(the)h(v)n(alid)e(login/passw)o
(ord)g(combinations)f(are.)30 b(This)23 b(method)e(should)g(return)g
(None)g(if)208 1861 y(the)h(login/passw)o(ord)f(are)i(ok)f(and)h(an)f
(error)g(message)h(such)f(as)i(\224Wrong)e(login/passw)o(ord\224)e(or)j
(\224Account)e(disabled\224)h(if)i(the)208 1961 y(login/passw)o(ord)18
b(are)i(not)g(ok.)0 2107 y Fc(mask)49 b(or)h(view:)98
b(loginScreen)p Fi(\()p Fd(messa)o(g)o(e)o(,)18 b(fr)l(omP)-7
b(a)o(g)o(e)o(,)20 b(lo)o(gin=\224)p Fi(\))208 2207 y
Fl(This)g(is)h(the)f(page)g(that)g(is)h(displayed)e(when)h(the)g(user)g
(tries)h(to)f(access)h(a)f(protected)f(page)h(without)f(being)g(logged)
g(in.)208 2339 y Fd(messa)o(g)o(e)h Fl(is)h(a)g(string)f(containing)e
(the)i(reason)f(why)h(no)g(user)g(is)h(logged)d(in.)26
b(Possible)20 b(v)n(alues)g(are:)349 2504 y Fk(\017)o
Fj(timeoutMessage)p Fl(:)25 b(This)20 b(means)g(that)g(someone)f(w)o
(as)i(logged)e(in,)h(b)n(ut)g(the)o(y)g(remained)e(inacti)n(v)o(e)i
(for)f(too)h(long)349 2636 y Fk(\017)o Fj(wr)o(ongLoginP)o(assw)o
(ordMessage)p Fl(:)26 b(This)c(means)f(that)h(someone)e(is)j(trying)d
(to)i(log)f(in,)h(b)n(ut)g(the)f(login)g(and)g(passw)o(ord)390
2736 y(the)o(y)f(entered)f(are)h(incorrect)349 2867 y
Fk(\017)o Fj(noCookieMessage)p Fl(:)28 b(This)22 b(means)f(that)h(no)g
(informations)e(are)h(a)n(v)n(ailable:)29 b(this)22 b(is)h(probably)c
(the)j(\002rst)h(time)f(the)g(user)390 2967 y(is)f(coming)e(here)208
3132 y Fd(fr)l(omP)-7 b(a)o(g)o(e)20 b Fl(is)h(a)f(string)g(containing)
f(the)h(URL)h(of)f(the)g(page)f(the)h(user)h(w)o(as)g(trying)e(to)h
(access.)208 3264 y Fd(lo)o(gin)h Fl(is)i(a)f(string)g(containing)e
(the)i(login)f(of)h(the)g(user)g(if)g(an)o(y)-5 b(.)29
b(If)22 b(the)g(string)g(is)h(not)e(empty)-5 b(,)21 b(it)i(means)f
(that)g(the)g(user)g(already)208 3364 y(entered)d(a)i(login,)e(b)n(ut)i
(the)f(passw)o(ord)g(w)o(as)h(incorrect,)e(or)h(that)h(the)f(user)g
(had)g(a)h(cookie)e(with)i(the)f(login)g(in)h(it.)26
b(This)21 b(allo)n(ws)f(to)208 3464 y(display)f(the)h(login)g(in)g(the)
g(form)g(so)g(the)g(user)g(doesn')o(t)f(ha)n(v)o(e)h(to)g(enter)g(it)h
(each)e(time.)208 3596 y(The)k(CherryClass)h(comes)f(with)h(a)g(def)o
(ault)f Fd(lo)o(ginScr)m(een)f Fl(mask.)36 b(Y)-9 b(ou')o(ll)23
b(probably)f(w)o(ant)i(to)f(o)o(v)o(erwrite)f(it)j(to)f(customize)f(it)
208 3695 y(for)j(your)f(needs.)44 b(All)28 b(you)d(ha)n(v)o(e)h(to)h
(do)g(is)g(de\002ne)f(a)h(form)f(that)h(calls)g(the)g
Fd(doLo)o(gin)e Fl(method)h(with)h(3)f(parameters:)37
b Fd(lo)o(gin)p Fl(,)208 3795 y Fd(passwor)m(d)24 b Fl(and)f
Fd(fr)l(omP)-7 b(a)o(g)o(e)p Fl(.)32 b(The)23 b(\002rst)g(tw)o(o)g(are)
g(entered)f(by)g(the)h(user)-5 b(.)33 b(The)22 b(third)g(one)h(should)e
(be)i(a)g(hidden)f(\002eld)h(with)g(the)208 3895 y(v)n(alue)c(that')-5
b(s)21 b(passed)f(to)g(the)g(function.)208 4027 y(The)f(follo)n(wing)g
(code)g(is)j(the)e(def)o(ault)f(implementation)f(of)i(the)g
Fd(lo)o(ginScr)m(een)f Fl(mask:)444 4251 y Fb(<html><body>)623
4342 y(Message:)44 b(<div)g(py-eval="message">message</div>)623
4433 y(<form)g(method="post")f(action="doLogin">)802
4525 y(Login:)h(<input)g(type=text)f(name=login)h(py-attr="login")e
(value="")h(length=10><br>)802 4616 y(Password:)h(<input)g
(type=password)e(name=password)h(length=10><br>)802 4707
y(<input)h(type=hidden)f(name=fromPage)g(py-attr="fromPage")f
(value=""><br>)802 4799 y(<input)i(type=submit>)623 4890
y(</form>)444 4981 y(</body></html>)0 5183 y Fc(mask)49
b(or)h(view:)98 b(logoutScreen)p Fi(\(\))208 5282 y Fl(This)28
b(page)g(is)i(displayed)d(after)i(the)f(user)h(logged)e(out.)50
b(This)29 b(method)e(is)j(called)e(by)g(the)h Fd(doLo)o(gout)f
Fl(method.)49 b(Y)-9 b(ou)28 b(may)208 5382 y(o)o(v)o(erwrite)18
b(it)j(to)f(suit)h(your)e(needs.)p 0 5549 3901 4 v 0
5649 a Fh(6)3018 b(Chapter)23 b(1.)52 b(Module)25 b(list)p
eop
%%Page: 7 13
7 12 bop 0 83 a Fc(view:)99 b(doLogout)p Fi(\(\))208
183 y Fl(This)22 b(is)i(the)e(mask)g(or)h(vie)n(w)f(you)g(should)f
(call)i(to)f(perform)f(a)i(logout.)30 b(This)23 b(method)e(performs)g
(the)h(logout,)g(and)g(then)g(calls)208 282 y(the)e Fd(lo)o(goutScr)m
(een)e Fl(method)h(to)h(display)f(the)i(logout)e(screen.)0
429 y Fc(variable:)98 b(request.login)208 529 y Fl(String)21
b(containing)f(the)i(login)g(of)f(the)h(user)g(that)g(is)h(logged)e
(in.)31 b(The)21 b(string)h(is)h(empty)e(if)h(no-one)e(is)j(logged)e
(in.)31 b(The)21 b(reason)208 628 y(this)f(is)h(stored)f(in)g(the)h
Fd(r)m(equest)g Fl(global)f(v)n(ariable)f(is)i(to)f(mak)o(e)g(it)h
(thread-safe.)0 775 y Fj(See)g(Also:)0 922 y Fl(Module)e
Fi(CookieAuthenticate)e Fl(\(section)j(1.3\):)208 1022
y(Cookie-based)e(authentication.)0 1169 y(Module)h Fi(HttpAuthenticate)
f Fl(\(section)h(1.2\):)208 1268 y(Basic)i(HTTP)f(authentication.)0
1553 y Fa(1.4.2)100 b(Example)0 1756 y Fl(The)20 b(follo)n(wing)e(code)
i(is)h(an)f(e)o(x)o(emple)f(that)h(uses)h(the)f(CookieAuthenticate)e
(module:)p 0 5549 3901 4 v 0 5649 a Fh(1.4.)52 b Fi
(CookieSessionAuthenticate)19 b Fh(\227)k(Cookie)g(and)h(session-based)
e(authentication.)750 b(7)p eop
%%Page: 8 14
8 13 bop 236 174 a Fb(use)45 b(CookieSessionAuthenticate)236
357 y(CherryClass)e(MemberArea\(CookieSessionAuthenticate\):)236
448 y(mask:)416 540 y(def)h(index\(self\):)595 631 y(<html><body>)595
722 y(Welcome)g(to)g(the)g(member)g(area,)g
(<py-eval="request.login"><br>)595 814 y(If)g(you)h(want)f(to)g(log)h
(out,)f(just)g(click)g(<a)g(py-attr="self.getPath\(\)+'/doLogout'")39
b(href="">here</a>.<br>)595 905 y(Otherwise,)k(just)h(click)g(<a)h
(py-attr="request.base")c(href="">here</a>)h(to)i(go)h(back)f(to)h(the)
f(home)g(page.)595 996 y(</body></html>)416 1088 y(def)g
(loginScreen\(self,)e(message,)h(fromPage,)h(login=''\):)595
1179 y(<html><body>)774 1270 y(Welcome)g(to)g(the)h(login)f(page.)g
(Please)f(enter)h(your)h(login)f(and)g(password)f(below:)774
1362 y(<py-if="message==self.wrongLoginPassword)o(Messag)o(e">)954
1453 y(<br><font)g(color=red>Sorry,)f(the)i(login)g(or)h(password)e
(was)i(incorrect</font>)774 1544 y(</py-if>)774 1636
y(<form)f(method="post")f(action="doLogin">)954 1727
y(Login:)g(<input)h(type=text)f(name=login)h(py-attr="login")e
(value="")h(length=10><br>)954 1818 y(Password:)g(<input)h
(type=password)e(name=password)h(length=10><br>)954 1910
y(<input)g(type=hidden)g(name=fromPage)g(py-attr="fromPage")f
(value=""><br>)954 2001 y(<input)h(type=submit)g(value="Login">)774
2092 y(</form>)595 2183 y(</body></html>)416 2275 y(def)h
(logoutScreen\(self\):)595 2366 y(<html><body>)774 2457
y(You)h(have)f(been)g(logged)g(out.<br>)774 2549 y(Click)g(<a)h
(py-attr="request.base")c(href="">here</a>)h(to)i(go)h(back)f(to)h(the)
f(home)g(page.)595 2640 y(</body></html>)236 2731 y(function:)416
2823 y(def)g(checkLoginAndPassword\(self,)c(login,)k(password\):)595
2914 y(if)g(login)g(==)h('login')f(and)g(password)f(==)i('password':)e
(return)595 3005 y(else:)h(return)g("Wrong)g(login/password")236
3279 y(CherryClass)f(Root:)236 3371 y(mask:)416 3462
y(def)h(index\(self\):)595 3553 y(<html><body>)774 3645
y(Welcome)g(to)g(the)h(site.<br>)774 3736 y(Click)f(<a)h
(href='memberArea/index'>here</a>)39 b(to)45 b(access)e(the)774
3827 y(member)h(area.)595 3919 y(</body></html>)0 4205
y Fl(Note)22 b(that)f(you)g(need)g(to)g(enable)g(sessions)i(in)e(your)g
(con\002guration)d(\002le.)30 b(F)o(or)21 b(instance,)h(if)g(you)e(w)o
(ant)i(to)g(ha)n(v)o(e)f(session)h(data)f(stored)0 4305
y(in)f(RAM,)h(you)e(need)h(to)g(put)g(this)h(in)f(your)f(con\002g)g
(\002le:)236 4543 y Fb([session])236 4634 y(storageType)43
b(=)i(ram)p 0 5549 3901 4 v 0 5649 a Fh(8)3018 b(Chapter)23
b(1.)52 b(Module)25 b(list)p eop
%%Page: 9 15
9 14 bop 0 86 a Ff(1.5)121 b Fe(Form)32 b Ff(\227)h(F)l(or)s(m)g
(handling.)0 336 y Fa(1.5.1)100 b(Introduction)0 539
y Fl(Handling)19 b(complicated)f(forms)i(can)g(really)g(be)g(a)g(pain)g
(sometimes,)g(especially)f(if)i(you)e(w)o(ant)i(to)f(handle)f(user)h
(errors.)0 686 y(The)g(F)o(orm)f(module)g(can)h(sa)n(v)o(e)g(you)g(a)g
(lot)h(of)f(time)g(and)g(trouble,)e(once)i(you')l(v)o(e)e(learned)h(ho)
n(w)h(to)g(use)g(it.)0 832 y(Most)g(of)g(the)h(time,)f(you')o(ll)f(w)o
(ant)h(this:)125 1044 y Fk(\017)41 b Fl(Y)-9 b(our)19
b(form)g(has)h(all)h(sorts)g(of)f(\002elds:)25 b(te)o(xt)20
b(\002elds,)h(te)o(xtareas,)e(checkbox)o(es,)f(radio)h(b)n(uttons,)g
(...)125 1210 y Fk(\017)41 b Fl(By)20 b(def)o(ault,)f(some)h(\002elds)h
(are)f(empty)-5 b(,)19 b(and)h(some)g(ha)n(v)o(e)f(def)o(ault)h(v)n
(alues.)125 1375 y Fk(\017)41 b Fl(Some)19 b(\002elds)i(are)f
(mandatory)-5 b(,)17 b(some)j(aren')o(t.)k(Some)c(\002elds)h(can)f
(only)f(ha)n(v)o(e)h(certain)f(v)n(alues)h(\(e)o(x:)25
b(birthdate,)18 b(price,)i(...\))0 1587 y(And)g(you')o(ll)f(probably)f
(w)o(ant)i(your)f(form)g(to)i(beha)n(v)o(e)e(lik)o(e)h(this:)125
1799 y Fk(\017)41 b Fl(When)20 b(the)g(form)f(is)i(\002rst)g
(displayed,)e(all)h(\002elds)h(are)f(either)g(empty)f(or)h(the)o(y)g
(ha)n(v)o(e)f(a)i(def)o(ault)e(v)n(alue)125 1964 y Fk(\017)41
b Fl(The)19 b(user)h(\002lls)i(the)e(form)f(in)i(and)e(hit)i(the)f
(submit)g(b)n(utton)125 2129 y Fk(\017)41 b Fl(\(At)19
b(this)g(point,)g(you)f(may)g(w)o(ant)i(to)f(use)g(a)g(fe)n(w)g(lines)h
(of)f(ja)n(v)n(ascript)f(to)h(catch)g(tri)n(vial)g(errors.)24
b(But)19 b(if)h(your)e(form)g(is)i(really)e(big,)208
2229 y(you')o(ll)h(probably)f(w)o(ant)i(to)g(catch)g(these)h(errors)e
(on)h(the)g(serv)o(er)f(side)i(...\))125 2394 y Fk(\017)41
b Fl(The)19 b(data)h(is)i(sent)e(to)g(the)h(serv)o(er)m(,)d(which)i
(analyzes)g(it)125 2560 y Fk(\017)41 b Fl(If)20 b(the)g(data)g(is)h
(correct)e(\(no)h(missing)g(\002eld,)g(no)g(wrong)f(v)n(alue,)g(...\),)
g(e)n(v)o(erything)f(continues)h(normally)125 2725 y
Fk(\017)41 b Fl(In)19 b(case)i(some)f(\002elds)h(ha)n(v)o(e)e
(incorrect)g(v)n(alues,)h(you')o(ll)f(probably)f(w)o(ant)i(the)g(follo)
n(wing:)307 2890 y Fj(\226)41 b Fl(Redisplay)20 b(the)g(form,)f(b)n(ut)
h(k)o(eep)g(all)h(v)n(alues)f(that)g(the)g(user)g(entered)f(\(that')-5
b(s)21 b(the)f(painful)f(part)h(...\))307 3022 y Fj(\226)41
b Fl(Display)29 b(a)g(message)f(that)h(stands)g(out)f(at)h(the)g(top)f
(of)h(the)f(form)g(to)h(notify)e(the)i(user)g(that)f(some)h(\002elds)g
(need)f(to)h(be)390 3122 y(changed)307 3254 y Fj(\226)41
b Fl(Display)20 b(a)h(message)f(ne)o(xt)f(to)i(each)f(\002eld)g(that)g
(has)h(an)f(error)0 3466 y(W)-7 b(e')o(ll)21 b(see)g(ho)n(w)f(the)g(F)o
(orm)f(module)g(can)h(help)g(you)f(do)h(that)g(...)0
3751 y Fa(1.5.2)100 b(Module)0 3953 y Fl(This)20 b(module)f(de\002nes)h
(4)g(CherryClasses:)0 4221 y Fh(F)n(or)r(mField)0 4424
y Fl(A)h(F)o(ormField)e(instance)h(is)h(used)f(for)f(each)h(of)g(the)g
(form)f(\002elds.)0 4571 y Fc(function:)p 553 4571 46
4 v 604 4571 V 199 w(init)p 854 4571 V 904 4571 V 101
w Fi(\()p Fd(label,)g(name)o(,)h(typ,)g(mask=None)o(,)f(mandatory=0,)f
(size=15,)i(optionList=[],)g(defaultV)-9 b(alue=\224,)18
b(validate=None)p Fi(\))208 4671 y Fd(label)h Fl(is)j(a)e(string)g
(that)g(will)h(be)f(displayed)f(ne)o(xt)h(to)g(the)g(\002eld.)208
4803 y Fd(name)f Fl(is)i(a)g(string)f(containing)e(the)i(name)g(of)g
(the)g(\002eld.)208 4936 y Fd(typ)d Fl(is)i(a)f(string)g(containing)d
(the)j(type)f(of)h(the)g(\002eld.)24 b(It)18 b(can)f(be)h(one)f(of)h
(the)g(follo)n(wing:)k(te)o(xt,)c(passw)o(ord,)f(\002le,)i(hidden,)d
(submit,)208 5035 y(image,)j(select,)i(te)o(xtarea,)e(radio,)g
(checkbox)208 5168 y Fd(mask)29 b Fl(is)f(a)g(mask)g(used)f(to)h
(render)e(the)h(\002eld.)47 b(The)28 b(def)o(ault)e(v)n(alue)h(is)i
Fd(defaultF)-9 b(ormMask.defaultMask)q Fl(.)44 b(The)27
b(mask)h(will)208 5268 y(recei)n(v)o(e)19 b(the)h(F)o(ormField)f
(instance)h(as)h(an)f(ar)o(gument)e(and)h(it)i(should)e(return)g(some)h
(HTML)g(to)h(render)e(the)h(\002eld.)208 5400 y Fd(mandatory)e
Fl(is)j(an)f(inte)o(ger)f(that)i(indicates)f(whether)f(the)h(\002eld)g
(is)h(mandatory)d(or)i(not.)p 0 5549 3901 4 v 0 5649
a Fh(1.5.)52 b Fi(Form)22 b Fh(\227)i(F)n(or)r(m)e(handling.)2784
b(9)p eop
%%Page: 10 16
10 15 bop 208 83 a Fd(size)21 b Fl(is)g(an)f(inte)o(ger)f(that)h
(indicates)g(the)h(size)f(of)g(the)h(\002eld.)208 216
y Fd(mandatory)16 b Fl(is)j(an)g(inte)o(ger)e(that)h(indicates)g
(whether)g(the)g(\002eld)g(is)i(mandatory)c(or)i(not)f(\(it)i(is)g
(only)f(used)g(for)g(some)g(of)g(the)g(\002elds)208 315
y(lik)o(e)i(te)o(xt)g(or)g(passw)o(ord\).)208 448 y Fd(optionList)k
Fl(is)h(a)f(list)h(of)f(strings)g(containing)d(the)j(dif)n(ferent)e
(options)h(for)g(a)i(\002ed)f(\(is)g(is)h(only)e(used)g(for)h(radio)f
(and)g(checkbox)208 548 y(\002elds\).)208 681 y Fd(defaultV)-9
b(alue)17 b Fl(is)22 b(a)e(string)g(containing)e(the)j(def)o(ault)e(v)n
(alue)g(for)h(the)g(\002eld.)208 814 y Fd(validate)h
Fl(is)i(a)f(function)e(used)i(to)g(v)n(alidate)f(the)h(\002eld.)31
b(The)21 b(function)g(will)h(recei)n(v)o(e)f(the)h(v)n(alue)g(of)f(the)
h(\002eld)h(as)f(an)g(ar)o(gument,)208 913 y(and)d(it)i(should)e
(return)g Fd(None)h Fl(if)h(the)f(v)n(alue)f(is)j(correct,)d(or)h(a)g
(string)g(containing)e(the)i(error)g(message)g(if)g(the)g(v)n(alue)g
(is)h(not.)0 1182 y Fh(F)n(or)r(mSepar)o(ator)0 1384
y Fl(A)g(F)o(ormSeparator)c(instance)j(is)h(used)f(to)g(display)g(some)
g(te)o(xt)g(or)g(images)g(between)f(the)i(dif)n(ferent)d(\002elds)j(of)
f(the)g(form.)0 1531 y Fc(function:)p 553 1531 46 4 v
604 1531 V 199 w(init)p 854 1531 V 904 1531 V 101 w Fi(\()p
Fd(label,)f(mask)q Fi(\))208 1631 y Fd(label)g Fl(is)j(a)e(string)g
(that)g(will)h(be)f(used)g(by)g(the)g(mask)g(to)h(kno)n(w)e(what)h(to)g
(display)-5 b(.)208 1764 y Fd(mask)23 b Fl(is)g(a)f(mask)g(used)f(to)h
(render)f(the)h(\002eld.)30 b(The)21 b(mask)h(will)h(recei)n(v)o(e)e
(the)g(F)o(ormSeparator)f(instance)h(as)i(an)f(ar)o(gument)d(and)208
1863 y(it)h(should)g(return)f(some)h(HTML)g(to)g(render)f(the)h
(separator)-5 b(.)0 2132 y Fh(Def)n(aultF)n(or)r(mMask)0
2335 y Fl(This)25 b(CherryClass)f(contains)g(a)h(def)o(ault)f
(implementation)e(of)j(a)g(mask)f(for)g(the)h(\002elds.)38
b(Y)-9 b(ou')o(ll)24 b(probably)f(w)o(ant)h(to)h(use)g(your)e(o)n(wn)0
2434 y(masks)d(for)g(your)f(o)n(wn)g(design.)25 b(The)20
b(ne)o(xt)f(section)h(e)o(xplains)f(ho)n(w)h(to)g(write)h(your)d(o)n
(wn)i(\002eld)h(masks.)0 2703 y Fh(F)n(or)r(m)0 2905
y Fl(The)26 b(is)h(the)f(main)g(CherryClass)g(of)g(the)g(module.)42
b(T)-7 b(o)26 b(create)g(a)h(form,)f(you)f(should)g(declare)h(a)g
(CherryClass)h(that)f(inherits)g(from)0 3005 y(F)o(orm.)0
3152 y(Y)-9 b(ou)20 b(may)f(use)i(the)f(follo)n(wing)e(v)n(ariables)i
(and)g(methods:)0 3299 y Fc(variable:)98 b(method)208
3398 y Fl(String)19 b(containing)g(the)h Fd(method)h
Fl(attrib)n(ute)f(of)g(the)g(form)f(tag.)25 b(It)c(may)e(be)i
Fd(send)h Fl(or)e Fd(post)q Fl(.)25 b(The)20 b(def)o(ault)f(v)n(alue)h
(is)h Fd(post)0 3545 y Fc(variable:)98 b(enctype)208
3645 y Fl(String)23 b(containing)f(the)j Fd(enctype)e
Fl(attrib)n(ute)h(of)f(the)i(form)e(tag.)36 b(F)o(or)24
b(instance,)h(for)e(a)i(form)e(that)h(allo)n(ws)h(the)f(user)g(to)g
(upload)208 3745 y(\002les,)29 b(you)d(w)o(ould)g(use)i
Fd(multipart/form-data)d Fl(The)h(def)o(ault)h(v)n(alue)f(is)i(an)f
(empty)f(string,)i(which)f(means)f(that)h(the)g Fd(enctype)208
3844 y Fl(attrib)n(ute)19 b(wile)i(be)f(omitted.)0 3991
y Fc(variable:)98 b(fieldList)208 4091 y Fl(List)23 b(containing)e
(instances)i(of)g(the)g(F)o(ormField)f(and)g(F)o(ormInstance)f
(CherryClasses.)34 b(This)23 b(list)h(determines)e(which)g(\002elds)208
4190 y(and)28 b(separators)g(will)h(be)g(displayed,)g(and)f(in)h(which)
f(order)-5 b(.)50 b Fd(\002eldList)30 b Fl(should)e(be)g(set)i(in)f
(the)p 3084 4190 V 3135 4190 V 130 w Fd(init)p 3297 4190
V 3347 4190 V 130 w Fl(method)e(of)i(the)208 4290 y(CherryClass.)0
4437 y Fc(function:)98 b(formView)p Fi(\()p Fd(leaveV)-9
b(alues=0)p Fi(\))208 4536 y Fl(This)21 b(function)f(returns)g(the)h
(HTML)h(code)e(for)h(the)g(form.)27 b(if)22 b Fd(leaveV)-9
b(alues)20 b Fl(is)i(f)o(alse,)g(it)g(will)g(use)g(the)f(def)o(ault)g
(v)n(alue)f(for)h(each)208 4636 y(of)27 b(the)h(\002elds.)48
b(If)28 b Fd(leaveV)-9 b(alues)26 b Fl(is)j(true,)g(it)g(will)f(use)h
(the)e(v)n(alues)h(that)g(are)g(in)g Fd(r)m(equest.par)o(amMap)d
Fl(\(in)i(other)g(w)o(ords,)j(the)208 4736 y(v)n(alues)19
b(that)i(were)f(entered)f(by)h(the)g(user\))0 4883 y
Fc(function:)98 b(validateFields)p Fi(\(\))208 4982 y
Fl(This)25 b(function)f(should)h(be)h(o)o(v)o(erwritten)d(if)j(you)f
(need)g(to)h(perform)d(some)j(v)n(alidation)e(that)i(in)m(v)n(olv)o(es)
e(se)n(v)o(eral)h(\002elds)h(at)h(the)208 5082 y(same)20
b(time)g(\(for)f(instance,)h(checking)f(that)h(2)g(passw)o(ords)g
(match\).)208 5215 y(If)g(a)g(\002eld)h(has)f(an)g(error)m(,)f(the)h
(function)e(should)h(set)i(the)g Fd(err)l(orMessa)o(g)o(e)g
Fl(member)e(v)n(ariable)g(of)h(the)g(F)o(ormField)f(instance.)p
0 5549 3901 4 v 0 5649 a Fh(10)2972 b(Chapter)23 b(1.)52
b(Module)25 b(list)p eop
%%Page: 11 17
11 16 bop 0 83 a Fc(function:)98 b(setFieldErrorMessage)p
Fi(\()p Fd(\002eldName)o(,)15 b(err)l(orMessa)o(g)o(e)p
Fi(\))208 183 y Fl(Sets)21 b(the)f Fd(err)l(orMessa)o(g)o(e)h
Fl(member)e(v)n(ariable)g(of)h(the)g(F)o(ormField)f(instance)h(whose)g
(name)f(is)j Fd(\002eldName)p Fl(.)0 330 y Fc(function:)98
b(getFieldOptionList)p Fi(\()p Fd(\002eldName)p Fi(\))208
429 y Fl(Returns)20 b(the)g Fd(optionList)h Fl(member)e(v)n(ariable)g
(of)h(the)g(F)o(ormField)f(instance)h(whose)g(name)f(is)i
Fd(\002eldName)p Fl(.)0 576 y Fc(function:)98 b(getFieldDefaultValue)p
Fi(\()p Fd(\002eldName)p Fi(\))208 676 y Fl(Returns)20
b(the)g Fd(defaultV)-9 b(alue)18 b Fl(member)g(v)n(ariable)i(of)f(the)i
(F)o(ormField)e(instance)h(whose)f(name)h(is)h Fd(\002eldName)p
Fl(.)0 823 y Fc(function:)98 b(setFieldDefaultValue)p
Fi(\()p Fd(\002eldName)o(,)15 b(defaultV)-9 b(alue)p
Fi(\))208 922 y Fl(Sets)21 b(the)f Fd(defaultV)-9 b(alue)18
b Fl(member)h(v)n(ariable)g(of)h(the)g(F)o(ormField)f(instance)h(whose)
g(name)f(is)i Fd(\002eldName)p Fl(.)0 1069 y Fc(function:)98
b(getFieldNameList)p Fi(\()p Fd(e)n(xceptList=[])p Fi(\))208
1169 y Fl(Returns)18 b(the)g(list)i(of)e(\002eld)g(names,)g(based)g(on)
g(the)h Fd(\002eldList)h Fl(member)d(v)n(ariable.)23
b(Names)18 b(that)h(are)f(in)h Fd(e)n(xceptList)h Fl(are)f(omitted.)0
1316 y Fc(function:)98 b(validateForm)p Fi(\(\))208 1415
y Fl(This)20 b(function)e(checks)i(if)h(the)f(data)g(that)g(the)g(user)
g(entered)f(is)j(correct)d(or)h(not.)k(It)d(returns)e(1)h(if)h(it)g
(is,)g(0)f(otherwise.)0 1562 y Fc(view:)99 b(postForm)p
Fi(\()p Fd(**kw)p Fi(\))208 1662 y Fl(This)20 b(vie)n(w)g(is)h
(automatically)d(called)i(when)g(the)g(user)g(submits)g(the)g(form.)k
(Y)-9 b(ou)19 b(should)g(o)o(v)o(erwrite)f(this)j(vie)n(w)f(and)f(add)h
(your)208 1761 y(o)n(wn)f(code)h(to)g(handle)f(the)h(form)f(data.)25
b(T)-7 b(ypical)20 b(code)g(for)f(this)i(vie)n(w)f(looks)g(lik)o(e)g
(this:)444 1985 y Fb(def)44 b(postForm\(self,)f(**kw\):)623
2077 y(if)i(self.validateForm\(\):)802 2168 y(#)g(Yes,)f(the)h(data)f
(is)g(correct)802 2259 y(#)h(Do)g(what)f(you)g(want)g(here)802
2351 y(pass)623 2442 y(else:)802 2533 y(#)h(No,)f(the)h(data)f(is)g
(incorrect)802 2625 y(#)h(Redisplay)e(the)i(form)f(and)g(tell)g(the)h
(user)f(to)g(fix)h(the)f(errors:)802 2716 y(return)g
("<html><body><font)e(color=red>Fill)h(out)h(missing)g
(fields</font>"+self.formView\(1\)+"</b)o(ody></)o(html>")0
3057 y Fa(1.5.3)100 b(Wr)q(iting)29 b(a)f(f)m(or)r(m)h(mask)0
3260 y Fl(The)22 b(module)f(comes)h(with)h(a)g(def)o(ault)f(mask)g(for)
g(forms,)g(b)n(ut)g(you')o(ll)g(probably)e(w)o(ant)i(to)h(change)e(it)i
(to)g(use)g(your)e(o)n(wn)h(design.)31 b(All)0 3360 y(you)19
b(ha)n(v)o(e)h(to)g(do)g(is)h(write)f(your)f(o)n(wn)h(form)f(mask.)0
3506 y(A)k(form)f(mask)g(tak)o(es)h(a)g(F)o(ormField)e(instance)h(as)i
(an)e(input)g(and)g(returns)g(some)g(HTML)g(code)g(as)h(output.)31
b(Don')o(t)21 b(for)o(get)g(that)i(your)0 3606 y(mask)j(should)g(be)h
(setting)f(the)h(v)n(alue)f(of)g(the)h(\002eld)g(according)d(the)j(the)
g Fd(curr)m(entV)-9 b(alue)25 b Fl(member)g(v)n(ariable.)43
b(Moreo)o(v)o(er)m(,)25 b(it)j(should)0 3706 y(handle)19
b(the)h(\002eld)h(dif)n(ferently)d(if)i(the)g Fd(err)l(orMessa)o(g)o(e)
i Fl(is)f(set.)0 3853 y(F)o(or)f(instance,)f(a)i(mask)f(for)g(a)g(te)o
(xt)g(\002eld)h(could)e(look)g(lik)o(e)i(this:)236 4091
y Fb(if)45 b(field.typ=='text':)416 4182 y(result='\045s:)e(<input)g
(type=text)h(name="\045s")f(value="\045s")g(size="\045s">'\045\()595
4273 y(field.label,)g(field.name,)g(field.currentValue,)e(field.size\))
416 4365 y(if)j(field.errorMessage:)595 4456 y(result+=')f(<font)h
(color=red>\045s</font>'\045field.errorMessage)236 4547
y(return)g(result+'<br>')0 4834 y Fl(Things)25 b(are)g(a)h(bit)g
(trickier)f(for)g(select)i(box)o(es,)e(radio)g(b)n(uttons)g(or)h
(checkbox)o(es)d(because)i(you)g(ha)n(v)o(e)g(to)g(loop)g(o)o(v)o(er)g
(the)g Fd(optionList)0 4934 y Fl(member)19 b(v)n(ariable)g(and)h(match)
f(each)h(v)n(alue)g(against)f Fd(curr)m(entV)-9 b(alue)p
Fl(.)0 5080 y(F)o(or)20 b(instance,)f(for)h(a)h(select)f(box,)f(the)i
(mask)f(could)f(look)g(lik)o(e)i(this:)p 0 5549 3901
4 v 0 5649 a Fh(1.5.)52 b Fi(Form)22 b Fh(\227)i(F)n(or)r(m)e
(handling.)2738 b(11)p eop
%%Page: 12 18
12 17 bop 236 174 a Fb(if)45 b(field.typ=='select':)416
266 y(result='\045s:)e(<select)g(name="\045s")h
(size="\045s">'\045\(field.label,)c(field.name,)j(field.size\))416
357 y(for)h(optionValue)f(in)h(optionList:)595 448 y(if)g
(optionValue==field.currentValue:)c(checked=')j(checked')595
540 y(else:)h(checked='')595 631 y
(result+='<option\045s>\045s</option>'\045\(check)o(ed,opt)o(ionVal)o
(ue\))416 722 y(result+='</select>)416 814 y(if)g(field.errorMessage:)
595 905 y(result+=')f(<font)h
(color=red>\045s</font>'\045field.errorMessage)236 996
y(return)g(result+'<br>')0 1420 y Fa(1.5.4)100 b(Putting)29
b(it)f(together)0 1622 y Fl(Let')-5 b(s)21 b(see)g(ho)n(w)e(we)i(use)f
(all)h(these)f(CherryClasses,)g(v)n(ariables)g(and)f(methods)h(to)g(b)n
(uild)g(a)g(nice)g(form.)0 1769 y(W)-7 b(e)26 b(are)f(going)f(to)h(b)n
(uild)f(a)i(form)e(where)g(users)h(choose)f(a)i(login)e(and)g(a)i
(passw)o(ord,)f(enter)f(their)h(e-mail,)h(their)e(country)f(and)i
(their)0 1869 y(hobbies.)0 2016 y(W)-7 b(e)21 b(need)f(6)g(\002elds:)
125 2229 y Fk(\017)41 b Fl(One)20 b(te)o(xt)g(\002eld)g(for)g(the)g
(login)f(\(this)i(\002eld)f(is)h(mandatory\))125 2395
y Fk(\017)41 b Fl(T)-7 b(w)o(o)20 b(passw)o(ord)g(\002elds)g(for)g(the)
g(passw)o(ord)f(\(which)h(the)o(y)f(must)h(enter)g(twice\))125
2561 y Fk(\017)41 b Fl(One)20 b(te)o(xt)g(\002eld)g(for)g(their)g
(e-mail)f(\(this)i(\002eld)f(is)h(optional\))125 2727
y Fk(\017)41 b Fl(One)20 b(select)g(\002eld)h(for)e(their)h(country)f
(\(the)h(def)o(ault)f(v)n(alue)g(is)j(USA\))125 2893
y Fk(\017)41 b Fl(One)20 b(checkbox)e(list)j(for)e(their)h(hobbies)f
(\(this)i(\002eld)f(is)h(optional\))0 3107 y(Plus)g(we')o(ll)f(add)g
(one)g(line)g(between)f(the)h(e-mail)g(\002eld)h(and)e(the)i(country)d
(\002eld.)0 3253 y(Here)i(is)h(what)f(the)h(code)e(could)g(be:)p
0 5549 3901 4 v 0 5649 a Fh(12)2972 b(Chapter)23 b(1.)52
b(Module)25 b(list)p eop
%%Page: 13 19
13 18 bop 236 174 a Fb(use)45 b(Form,)f(MaskTools)236
357 y(#)h(We)f(start)g(by)h(creating)e(a)i(CherryClass)e(that)h
(inherits)g(from)g(Form)236 448 y(#)h(This)f(CherryClass)f(will)h(hold)
g(all)h(the)f(informations)f(about)h(the)g(form)g(we)h(want)f(to)g
(create)236 540 y(CherryClass)f(MyForm\(Form\):)236 631
y(function:)416 722 y(def)h(__init__\(self\):)595 814
y(#)h(Instantiate)e(all)h(fields)g(plus)g(3)g(separators)g(\(one)g(at)g
(the)h(beginning,)e(one)h(for)g(the)h(line)f(and)g(one)h(at)f(the)g
(end\))595 905 y(headerSep=FormSeparator\('',)c
(defaultFormMask.defaultHeader\))595 996 y
(login=FormField\(label='Login:',)f(name='login',)k(mandatory=1,)g
(typ='text'\))595 1088 y(password=FormField\(label='Password:',)38
b(name='password',)43 b(mandatory=1,)f(typ='password'\))595
1179 y(password2=FormField\(label='Confirm)d(password:',)k
(name='password2',)f(mandatory=1,)h(typ='password'\))595
1270 y(email=FormField\(label='E-mail:',)c(name='email',)k(typ='text',)
g(validate=self.validateEmail\))595 1362 y(lineSep=FormSeparator\('',)e
(self.lineSeparator\))595 1453 y(country=FormField\(label='Country:',)e
(name='country',)j(typ='select',)h(optionList=['USA',)f('Andorra',)h
('Lichtenstein',)f('CherryPyLand'],)g(defaultValue='USA'\))595
1544 y(hobbies=FormField\(label='Hobbies:',)d(name='hobbies',)j
(typ='checkbox',)g(optionList=['Using)g(CherryPy',)h('Eating)h(Cherry)g
(Pie']\))595 1636 y(submit=FormField\(label='',)c(name='Submit',)j
(typ='submit'\))595 1727 y(footerSep=FormSeparator\('',)d
(defaultFormMask.defaultFooter\))595 1818 y(self.fieldList=[headerSep,)
g(login,)k(password,)f(password2,)h(email,)f(lineSep,)h(country,)f
(hobbies,)h(submit,)g(footerSep])416 2001 y(#)g(Function)g(that)g
(checks)g(if)g(an)h(e-mail)e(is)i(correct)f(or)g(not)416
2092 y(def)g(validateEmail\(self,)e(email\):)595 2183
y(try:)774 2275 y(before,)i(after=email.split\('@'\))774
2366 y(if)h(not)f(before)g(or)g(after.find\('.'\)==-1:)e(raise)i
('Error')595 2457 y(except:)g(return)f("Wrong)h(email")416
2640 y(#)g(Function)g(that)g(performs)f(general)h(validation)f(of)i
(the)f(form.)g(In)g(our)h(case,)f(we)g(need)g(to)h(check)416
2731 y(#)f(that)g(the)h(passwords)e(match)416 2823 y(def)h
(validateFields\(self\):)595 2914 y(#)h(Warning:)e(paramMap)h(could)g
(have)g(no)g("password")f(or)i("password2")e(key)h(if)h(the)f(user)g
(didn't)g(fill)g(out)g(the)h(fields)595 3005 y(if)f
(request.paramMap.get\('password',''\)!=requ)o(est.pa)o(ramMap)o
(.get\(')o(passwo)o(rd2',')o('\):)774 3097 y(#)h(Set)f(errorMessage)f
(for)h(password)g(fields)774 3188 y
(self.setFieldErrorMessage\('password',)39 b('Not)44
b(matching'\))774 3279 y(self.setFieldErrorMessage\('password2',)39
b('Not)44 b(matching'\))236 3462 y(mask:)416 3553 y(#)g(Line)g
(separator)g(used)g(to)g(draw)h(a)f(line)g(between)g(the)g(email)g
(field)g(and)h(the)f(country)g(field)416 3645 y(def)g
(lineSeparator\(self,)e(label\):)595 3736 y(<tr><td)i(colspan=3)f
(height=1)g(bgColor=black)g(py-eval="maskTools.x\(\)"></td></tr>)236
3919 y(view:)416 4010 y(def)h(postForm\(self,)e(**kw\):)595
4101 y(if)i(self.validateForm\(\):)774 4193 y(return)g(root.formOk\(\))
595 4284 y(else:)774 4375 y(return)g("<html><body><font)e
(color=red>Please)g(correct)i(the)g(errors)g(\(fields)f(in)i
(red\)</font>"+self.formView\(1\)+"</body><)o(/html>)o(")236
4649 y(#)g(Now)f(we)h(just)f(have)g(to)h(create)e(a)i(regular)f(Root)g
(CherryClass,)f(that)h(will)g(call)g(some)g(of)h(MyForm's)e(methods)236
4741 y(CherryClass)g(Root:)236 4832 y(mask:)416 4923
y(def)h(index\(self\):)595 5015 y(<html><body>)774 5106
y(Welcome,)g(please)g(fill)g(out)g(the)g(form)g(below:)774
5197 y(<py-eval="myForm.formView\(\)">)595 5289 y(</body></html>)416
5380 y(def)g(formOk\(self\):)595 5471 y(<html><body>)774
5562 y(Thank)g(you)h(for)f(filling)g(out)g(the)g(form.<br>)774
5654 y(All)h(values)e(were)i(correct)595 5745 y(</body></html>)p
0 5549 3901 4 v 0 5649 a Fh(1.5.)52 b Fi(Form)22 b Fh(\227)i(F)n(or)r
(m)e(handling.)2738 b(13)p eop
%%Page: 14 20
14 19 bop 0 88 a Ff(1.6)121 b Fe(MySql)32 b Ff(\227)g(Simple)h(MySQLdb)
h(wr)o(apper)h(to)f(access)f(a)h(MySql)e(database)n(.)0
321 y Fl(This)20 b(module)f(is)i(a)g(v)o(ery)e(simple)h(module.)k(The)c
(source)f(code)g(is)j(the)e(follo)n(wing:)236 559 y Fb(import)44
b(MySQLdb)236 742 y(################)236 833 y(CherryClass)f(MySql)h
(abstract:)236 924 y(################)236 1016 y(function:)416
1107 y(def)g(openConnection\(self,)d(host,)j(user,)g(passwd,)g(db\):)
595 1198 y(self.connection=MySQLdb.connect\(host,)38
b(user,)44 b(passwd,)g(db\))416 1290 y(def)g(query\(self,)f(query\):)
595 1381 y(c=self.connection.cursor\(\))595 1472 y(c.execute\(query\))
595 1564 y(res=c.fetchall\(\))595 1655 y(c.close\(\))595
1746 y(return)h(res)0 2033 y Fl(All)21 b(it)g(does)f(is)h(it)g(pro)o
(vides)d(a)j(CherryClass)f(wrapper)f(to)h(the)g(Python)f(MySQLdb)g
(module)0 2180 y(All)i(you)f(ha)n(v)o(e)g(to)g(do)g(to)h(use)g(it)g(is)
g(declare)f(a)h(CherryClass)f(that)h(inherits)f(from)f(MySql,)h(call)h
(the)g Fd(openConnection)c Fl(method)i(in)i(the)p 0 2279
46 4 v 51 2279 V 96 2279 a Fd(init)p 212 2279 V 263 2279
V 122 w Fl(method,)e(and)g(use)i Fd(query)f Fl(to)g(e)o(x)o(ecute)f(a)h
(query)f(and)h(get)g(the)g(result.)0 2426 y(The)h(connection)f(will)i
(be)g(automatically)e(opened)g(when)i(the)f(serv)o(er)g(gets)h(started)
g(\(when)f(your)f(CherryClass)i(gets)g(instantiated\),)0
2526 y(and)e(it)h(will)f(remain)g(open)f(until)h(the)g(serv)o(er)f
(dies.)0 2673 y(The)h(follo)n(wing)e(code)i(is)h(an)f(e)o(xample)f(on)h
(ho)n(w)f(to)i(use)f(the)g(module:)236 2911 y Fb(use)45
b(MySql)236 3002 y(CherryClass)e(MyDb\(MySql\):)236 3094
y(function:)416 3185 y(def)h(__init__\(self\):)595 3276
y(self.openConnection\('host',)c('user',)k('password',)f('database'\))
236 3459 y(CherryClass)g(Root:)236 3550 y(mask:)416 3641
y(def)h(index\(self\):)595 3733 y(<html><body>)774 3824
y(Hello,)g(there)g(are)g(currently)g(<py-eval="myDb.query\('select)c
(count\(*\))j(from)h(user'\)[0][0]">)f(users)h(in)g(the)h(database)595
3915 y(</body></html>)0 4426 y Ff(1.7)121 b Fe(MaskTools)31
b Ff(\227)h(Simple)h(HTML)h(patter)s(ns)n(.)0 4658 y
Fl(This)21 b(module)e(is)i(a)g(simple)f(module)f(that)i(contains)e(a)i
(fe)n(w)f(commonly)e(used)j(HTML)f(patterns.)25 b(Its)c(main)f(purpose)
e(is)k(to)e(sho)n(w)g(you)0 4758 y(that)g(it)h(ease)g(v)o(ery)e(easy)h
(to)h(create)e(your)g(o)n(wn)h(masks)g(and)g(reuse)g(them)g(all)g(o)o
(v)o(er)f(your)g(website.)0 4905 y Fc(mask:)99 b(x)p
Fi(\(\))208 5004 y Fl(Returns)20 b(the)g(code)f(for)h(a)g(transparent)f
(pix)o(el.)24 b(This)d(is)g(v)o(ery)e(useful)h(when)f(you)g(w)o(ant)i
(to)f(dra)o(w)g(1-pix)o(el)e(wide)i(lines.)208 5137 y(The)f(w)o(ay)i
(it)g(is)g(used)f(is)h(the)f(follo)n(wing:)p 0 5549 3901
4 v 0 5649 a Fh(14)2972 b(Chapter)23 b(1.)52 b(Module)25
b(list)p eop
%%Page: 15 21
15 20 bop 444 174 a Fb(#)44 b(Draw)h(a)f(1px)h(by)f(100px)g(blue)g
(line)444 266 y(<table)g(border=0)f(cellspacing=0)g
(cellpadding=0><tr><td)e(width=100)i(height=1)h(bgColor=blue)f
(py-eval="maskTools.x\(\)"></td></tr></t)o(able>)0 469
y Fc(mask:)99 b(displayByColumn)p Fi(\()p Fd(dataList,)16
b(numberOfColumns=2,)i(columnW)-5 b(idth=0,)19 b(gapW)-5
b(idth=50,)18 b(tdClass=\224)p Fi(\))208 569 y Fl(This)i(function)e
(displays)i(a)h(list)g(of)f(data)g(on)g(se)n(v)o(eral)f(columns.)208
702 y Fd(dataList)i Fl(is)g(a)g(list)g(of)f(strings)g(that)g(you)g(w)o
(ant)g(to)g(display)208 835 y Fd(numberOfColumns)e Fl(is)j(the)g
(number)d(of)i(columns)f(that)h(you)g(w)o(ant)g(to)g(use)h(to)f
(display)g(the)g(data)208 968 y Fd(columnW)-5 b(idth)18
b Fl(is)k(used)e(if)g(you)f(w)o(ant)i(to)f(use)g(a)h(speci\002c)f(with)
h(for)e(the)i(columns)e(\(in)h(pix)o(els\))208 1100 y
Fd(gapW)-5 b(idth)19 b Fl(is)i(the)f(number)e(of)i(pix)o(els)g(between)
f(each)h(column)208 1233 y Fd(tdClass)g Fl(is)i(the)e(style)g(sheet)h
(class)g(to)f(use)h(to)f(display)g(the)g(strings)208
1366 y(Example:)444 1590 y Fb(#)44 b(Display)g(integers)g(from)g(1)g
(to)h(102)f(in)h(7)f(columns)g(with)g(20)h(pixels)f(between)f(each)h
(column:)444 1681 y(<py-eval="maskTools.displayByColumn\(ma)o(p\(str,)o
(range\()o(1,103\))o(\),)39 b(7,)44 b(0,)h(20\)">)0 1885
y Fc(mask:)99 b(displayByLine)p Fi(\()p Fd(dataList,)17
b(numberOfLines=2,)h(lineHeight=0,)h(gapHeight=50)p Fi(\))208
1985 y Fl(This)h(function)e(displays)i(a)h(list)g(of)f(data)g(on)g(se)n
(v)o(eral)f(lines.)208 2118 y Fd(dataList)i Fl(is)g(a)g(list)g(of)f
(strings)g(that)g(you)g(w)o(ant)g(to)g(display)208 2250
y Fd(numberOfLines)f Fl(is)i(the)f(number)f(of)h(lines)g(that)g(you)g
(w)o(ant)g(to)g(use)h(to)f(display)g(the)g(data)208 2383
y Fd(lineHeight)g Fl(is)h(used)f(if)h(you)e(w)o(ant)h(to)h(use)f(a)h
(speci\002c)f(height)g(for)f(the)h(lines)h(\(in)f(pix)o(els\))208
2516 y Fd(gapHeight)f Fl(is)i(the)g(number)d(of)i(pix)o(els)g(between)f
(each)h(line)208 2649 y Fd(tdClass)g Fl(is)i(the)e(style)g(sheet)h
(class)g(to)f(use)h(to)f(display)g(the)g(strings)208
2782 y(Example:)444 3006 y Fb(#)44 b(Display)g(integers)g(from)g(1)g
(to)h(102)f(in)h(7)f(lines)g(with)h(5)f(pixels)g(between)g(each)g
(line:)444 3097 y(<py-eval="maskTools.displayByLine\(map\()o(str,ra)o
(nge\(1,)o(103\)\),)38 b(7,)45 b(0,)f(5\)">)0 3301 y
Fc(mask:)99 b(textInBox)p Fi(\()p Fd(te)n(xt,)19 b(boxColor=\224blac)n
(k\224,)f(insideColor=\224white\224)p Fi(\))208 3401
y Fl(This)i(function)e(displays)i(a)h(te)o(xt)f(in)g(a)h(box)208
3533 y Fd(te)n(xt)h Fl(is)f(the)f(te)o(xt)g(to)h(display)e(inside)h
(the)h(box)208 3666 y Fd(boxColor)g Fl(is)g(the)f(color)g(of)f(the)i
(border)d(of)i(the)g(box)208 3799 y Fd(insideColor)h
Fl(is)g(the)g(color)e(of)h(the)g(background)d(of)j(the)g(box)208
3932 y(Example:)444 4156 y Fb(<py-eval="maskTools.textInBox\('This)39
b(is)44 b(some)g(text)h(displayed)e(in)h(a)h(red)f(box)h(filled)e(with)
i(yellow',)e(boxColor='red',)f(insideColor='yellow'\)">)p
0 5549 3901 4 v 0 5649 a Fh(1.7.)52 b Fi(MaskTools)22
b Fh(\227)h(Simple)h(HTML)f(patter)r(ns)o(.)2191 b(15)p
eop
%%Page: 16 22
16 21 bop 0 5549 3901 4 v 0 5649 a Fh(16)p eop
%%Page: 17 23
17 22 bop 0 83 3901 9 v 3480 230 a Fh(APPENDIX)3814 427
y Fg(A)p 0 515 V 2080 978 a Fq(Histor)6 b(y)58 b(and)f(License)0
1506 y Ff(A.1)120 b(License)0 1739 y Fl(CherryPy)19 b(is)i(released)f
(under)f(the)h(GPL)g(license.)p 0 5549 3901 4 v 3808
5649 a Fh(17)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF

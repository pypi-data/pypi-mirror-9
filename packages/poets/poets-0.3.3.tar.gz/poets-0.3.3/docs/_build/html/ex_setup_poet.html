

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setting up a Poet base class &mdash; poets 0.3.3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="poets 0.3.3 documentation" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> poets</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction to poets, the Python Open Earth Observation Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#supported-data">Supported Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#contribute">Contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#ancillary-data">Ancillary data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#some-notes-before-we-start">Some notes before we start</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#setting-up-a-poet-base-class">Setting up a Poet base class</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#usage-of-custom-shapefiles">Usage of custom shapefiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#adding-a-source">Adding a source</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#download-and-resample-data">Download and resample data</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#reading-and-plotting-images">Reading and plotting images</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#reading-and-plotting-time-series">Reading and plotting time series</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#web-interface">Web Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#complete-example">Complete Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="_rst/modules.html">Module Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="_rst/poets.html">poets package</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">poets</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Setting up a Poet base class</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/ex_setup_poet.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="setting-up-a-poet-base-class">
<h1>Setting up a Poet base class<a class="headerlink" href="#setting-up-a-poet-base-class" title="Permalink to this headline">¶</a></h1>
<p>To be able to use poets, a <a class="reference internal" href="_rst/poets.html#poets.poet.Poet" title="poets.poet.Poet"><tt class="xref py py-class docutils literal"><span class="pre">poets.poet.Poet</span></tt></a> class must be initialized.
You can find a description of the class parameters and attribures here: <a class="reference internal" href="_rst/poets.html#poets.poet.Poet" title="poets.poet.Poet"><tt class="xref py py-class docutils literal"><span class="pre">poets.poet.Poet</span></tt></a>.</p>
<p>In[1]:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">poets.poet</span> <span class="kn">import</span> <span class="n">Poet</span>

<span class="c"># poets attributes:</span>
<span class="n">rootpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;D:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;Test&#39;</span><span class="p">)</span>
<span class="n">regions</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;AU&#39;</span><span class="p">]</span> <span class="c"># clipping to Austria</span>
<span class="n">spatial_resolution</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">temporal_resolution</span> <span class="o">=</span> <span class="s">&#39;dekad&#39;</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">nan_value</span> <span class="o">=</span> <span class="o">-</span><span class="mi">99</span>

<span class="c"># initializing Poet class:</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Poet</span><span class="p">(</span><span class="n">rootpath</span><span class="p">,</span> <span class="n">regions</span><span class="p">,</span> <span class="n">spatial_resolution</span><span class="p">,</span> <span class="n">temporal_resolution</span><span class="p">,</span>
         <span class="n">start_date</span><span class="p">,</span> <span class="n">nan_value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="usage-of-custom-shapefiles">
<h1>Usage of custom shapefiles<a class="headerlink" href="#usage-of-custom-shapefiles" title="Permalink to this headline">¶</a></h1>
<p>Resampling and clipping data to a regions specified in a custom shapefile is available since v0.3.1.
A link to the custom shapefile must be set with the
<a class="reference internal" href="_rst/poets.html#poets.poet.Poet" title="poets.poet.Poet"><tt class="xref py py-class docutils literal"><span class="pre">poets.poet.Poet</span></tt></a> <cite>shapefile</cite> parameter.
The shapefile itself must contain one attribute whicht contains a unique ID or Code,
which is used to select the desired region/area with the <a class="reference internal" href="_rst/poets.html#poets.poet.Poet" title="poets.poet.Poet"><tt class="xref py py-class docutils literal"><span class="pre">poets.poet.Poet</span></tt></a>
<cite>regions</cite> parameter. The shapefile must be in given in WGS 84.</p>
<p>The following example extends the code from <cite>In[1]</cite> with the shapefile parameter. In this case,
the shapefile is locally stored at <cite>D:\Shapefiles\shapefile1.shp</cite>, and we want to clip the data
to <cite>region1</cite> and <cite>region2</cite>.
Please note that the file-suffix &#8221;.shp&#8221; MUST NOT be set in the shapefile parameter!</p>
<p>In[2]:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># use custom shapefile:</span>
<span class="n">shapefile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;D:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;Shapefiles&#39;</span><span class="p">,</span> <span class="s">&#39;shapefile1&#39;</span><span class="p">)</span>
<span class="n">regions</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;region1&#39;</span><span class="p">,</span> <span class="s">&#39;region2&#39;</span><span class="p">]</span>

<span class="c"># initializing Poet class:</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Poet</span><span class="p">(</span><span class="n">rootpath</span><span class="p">,</span> <span class="n">regions</span><span class="p">,</span> <span class="n">spatial_resolution</span><span class="p">,</span> <span class="n">temporal_resolution</span><span class="p">,</span>
         <span class="n">start_date</span><span class="p">,</span> <span class="n">nan_value</span><span class="p">,</span> <span class="n">shapefile</span><span class="o">=</span><span class="n">shapefile</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-a-source">
<h1>Adding a source<a class="headerlink" href="#adding-a-source" title="Permalink to this headline">¶</a></h1>
<p>Data sources can be added via the <a class="reference internal" href="_rst/poets.html#poets.poet.Poet.add_source" title="poets.poet.Poet.add_source"><tt class="xref py py-class docutils literal"><span class="pre">poets.poet.Poet.add_source</span></tt></a> method.
In order to be able to extract the date out of the filename of imagefiles, it is necessary to provide
the location of the date attributes within the filename with the parameter <cite>filedate</cite>. We know that
this is very unfortunate, but we&#8217;ll promise to work on a more convenient method.</p>
<p>In[3]:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># source attributes:</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">&#39;MODIS_LST&#39;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s">&quot;MOD11C1_D_LSTDA_{YYYY}_{MM}-{DD}.png&quot;</span>
<span class="n">filedate</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;YYYY&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="s">&#39;MM&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">23</span><span class="p">),</span> <span class="s">&#39;DD&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">)}</span>
<span class="n">temp_res</span> <span class="o">=</span> <span class="s">&#39;daily&#39;</span>
<span class="n">host</span> <span class="o">=</span> <span class="s">&quot;neoftp.sci.gsfc.nasa.gov&quot;</span>
<span class="n">protocol</span> <span class="o">=</span> <span class="s">&#39;FTP&#39;</span>
<span class="n">directory</span> <span class="o">=</span> <span class="s">&quot;/gs/MOD11C1_D_LSTDA/&quot;</span>
<span class="n">begin_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">nan_value</span> <span class="o">=</span> <span class="mi">255</span>

<span class="c"># initializing the data source:</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">filedate</span><span class="p">,</span> <span class="n">temp_res</span><span class="p">,</span> <span class="n">host</span><span class="p">,</span> <span class="n">protocol</span><span class="p">,</span>
             <span class="n">directory</span><span class="o">=</span><span class="n">directory</span><span class="p">,</span> <span class="n">begin_date</span><span class="o">=</span><span class="n">begin_date</span><span class="p">,</span>
             <span class="n">nan_value</span><span class="o">=</span><span class="n">nan_value</span><span class="p">)</span>
</pre></div>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Thomas Mistelbauer.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
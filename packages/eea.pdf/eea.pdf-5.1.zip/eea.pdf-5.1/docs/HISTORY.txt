Changelog
=========

5.1 - (2015-02-26)
------------------
* Change: removed icons from disclaimer added in previous egg release since
  they didn't pdf print correctly
  [ichimdav refs #23322]
* Feature: added pdfdisclaimer.pt with logic that goes into the disclaimer
  browser page in order for the contents of it to easily be modifiable
  [ichimdav refs #23322]

5.0 - (2015-02-25)
------------------
* Bug fix: Fixed PDF memcache when called with/without ajax_load
  [voineali refs #23103]
* Bug fix: Fixed UnicodeDecodeError within download.pdf template
  [voineali refs #23338]
* Bug fix: Fixed download as PDF actions permissions
  [avoinea]
* Bug fix: Fixed viewlet name
  [avoinea]
* Bug fix: Fixed download link when fallback PDF is provided within parent
  [voineali refs #23291]
* Change: Moved async API to eea.converter in order to reuse it for other
  async jobs (e.g. eea.epub)
  [voineali refs #22971

4.9 - (2015-02-16)
------------------
* Feature: Added possibility to add a fallback PDF file within context called
  **action-download-pdf** in order to temporarily stop dynamic PDF
  generation and statically return this item.
  [voineali refs #22970]
* Change: Do not merge pdf.print.css in order to easily reuse it within epub export
  [voineali refs #22686]
* Change: Added timestamp and print notice on pdf disclaimer page
  [ichimdav refs #22442]
* Change: removed publishing house copyright notice from the pdf disclaimer page
  [ichimdav refs #22442]
* Feature: Added possibility to use specific ZPT macro while exporting collection PDF body
  [voineali refs #22686]
* i18n: Add Italian translation
  [cekk]

4.8 - (2015-02-03)
------------------
* Feature: Added "Download as PDF" action also within export_actions category
  [voineali refs #22686]

4.7 - (2014-12-23)
------------------
* Bug fix: Use *with* statement with temporary files in order to ensure that they
  are safely closed before exit
  [voineali refs #22080]

4.6 - (2014-12-02)
------------------
* Bug fix: Use shared temporary directory defined by eea.converter 8.5+
  in order to avoid surprises while using together with zc.async
  [voineali refs #21958]

4.5 - (2014-11-20)
------------------
* Change: new egg release to include documentation folder
  [ghicaale refs #21453]

4.4 - (2014-11-20)
------------------
* Feature: Extend eea.cache invalidation form with PDF option in order to be
  able to manually invalidate latest generated PDF within Cache tab
  [voineali refs #21630]
* Change: cover images are enhanced if eea.depiction is installed
  by using the image named image within the folder instead of
  needing to add the image to the coverImage field
  [ichim-david refs #21637]
* Feature: added coverImage field to folderish content which allows
  you to set custom images for the cover page
  [ichimd-david refs #21637]
* Change: Refactoring default themes: page for simple items and
  book for collections and folderish items
  [avoinea]
* Bug fix: Fix letter spacing within headers
  [avoinea]
* Feature: Update documentation
  [avoinea]

4.3 - (2014-10-15)
------------------
* Change: Bring several improvements to the PDF output from custom.
  use Palatino by default. better margins for certain elements.
  moved some css to standard print.css
  [demarant]

4.2 - (2014-10-01)
------------------
* Bug fix: Cleanup temporary files in all cases generated by this package
  [voineali refs #21149]
* Change: Prefix temporary files with package name: eea.pdf.
  [voineali refs #21149]
* Bug fix: Avoid collision when multiple async workers generate the same file
  [voineali refs #21149]
* Feature: Added "javascript-delay" option per theme in order to wait for
  javascript to execute
  [voineali refs #21068]
* Bug fix: Safely get title_or_id with PDF content-rules
  [voineali refs #21068]
* Feature: mark the beginning of the convertion by creating a .tmp files
  [ghicaale refs #20972]

4.1 - (2014-09-16)
------------------
* Bug fix: Fixed 'AttributeError: async' within PDF Settings control panel
  [avoinea]

4.0 - (2014-09-15)
------------------
* Upgrade step: (optional) Within Plone > Site setup > PDF Settings ensure that
  all PDF themes have Asynchronous property checked and increase timeout to 3600
  [voineali refs #20845]
* Upgrade step: (optional) Within Plone > Site setup > Content-rules review all
  PDF related content-rules.
  As these rules are triggered by an async job **DO NOT USE** other string
  substitutions while sending emails than the ones the start with **$download_**
  [voineali refs #20845]
* Upgrade step: (optional) On server machine add a cleanup cron to remove generated
  PDF files older than 7 days (or more, depending on your storage size)
  [voineali refs #20845]
* Upgrade step: Within "Plone > Site setup > Add-ons" click on
  upgrade button available for EEA PDF
* Feature: Ask for email when user tries to asynchronously export PDF if the
  system can't get it from current user's profile
  [voineali refs #20846]
* Feature: Generate PDFs asynchronously with plone.app.async.
  Enabled by default with this version. It can be manually disabled from
  Site Setup > PDF Settings > Theme
  [voineali refs #20843]

3.2 - (2014-09-07)
------------------
* Bug fix: Re-release broken version 3.1
  [avoinea]

3.1 - (2014-08-27)
------------------
* Feature: Speed-up PDF export by caching pdf.body method using memcached
  if eea.cache is present
  [voineali refs #20678]
* Feature: Added print CSS for embeded daviz charts
  [voineali refs #20523]

3.0 - (2014-08-12)
------------------
* Upgrade step: Assign "Can download PDF" permission to
  CommonEditor
* Upgrade step: Within "Plone > Site setup > Add-ons" click on
  upgrade button available for EEA PDF
* Change: Added i18n translations
  [voineali refs #20431]
* Bug fix: Hide some indicators boxes within PDF export
  [voineali refs #20454]
* Bug fix: Fixed spacing for key messages and related items
  [voineali refs #20457]
* Bug fix: Fixed CSS used for tables within PDF export
  [voineali refs #20462]
* Change: Skip description within PDF cover if length of first sentence is
  greather that 80 characters
  [voineali refs #20456]
* Feature: Include iframes and interpret javascript. Also added option to
  disable javascript per theme.
  [voineali refs #20459]
* Cleanup: Removed beautifulsoup4 dependency and cleanup all fixes made with
  this tool
  [voineali refs #20459]
* Feature: Added global and local PDF settings for collection and folderish
  content-types: Max depth, Max breadth and Total Max Items
  [voineali refs #20436]
* Feature: Added possibility to locally override PDF Theme to use
  within PDF export
  [voineali refs #20436]
* Feature: Added possibility to locally disable PDF export
  [voineali refs #20436]
* Feature: Added IPDFAware marker interface in order to easily support
  PDF export. Added Dexterity support, also.
  [voineali refs #20436]
* Feature: Added "Can download PDF" and "Can customize PDF" permissions
  [voineali refs #20436]
* Change: Removed default PDF theme concept. If there is no PDF Theme assigned
  for a content-type, PDF can't be downloaded
  [voineali refs #20436]

2.0 - (2014-07-16)
------------------
* Feature: added style for excluding certain parts from PDF.
  [demarant #20255]
* Upgrade step: Within "Plone > Site setup > Add-ons" click on
  upgrade button available for EEA PDF
* Upgrade step: Within "Plone > Site setup > Add-ons" uninstall
  collective.sendaspdf
* Feature: Added table of contents support
  [voineali refs #20268]
* Feature: Added custom pdf.body for Topic and Collection content-types that
  is an aggregated page based on query results pdf.body
  [voineali refs #20267]
* Feature: Added custom pdf.body for Plone Folder ctype that is an aggregated
  page based on children pdf.body
  [voineali refs #20267]
* Cleanup: Remove collective.sendaspdf dependency
  [voineali refs #20268]

1.1 - (2014-06-30)
------------------
* Bug fix: fixed condition for print css which failed when using
  collective.sendaspdf to download a pdf
  [ichimdav refs #19880]
* Bug fix: use plone.app.vocabularies.ReallyUserFriendlyTypes for better
  portal types matching
  [ichim-david refs #19880]

1.0 - (2014-06-06)
------------------
* Upgrade step: Within "Plone > Site setup > Add-ons" install "EEA PDF"
  [voineali refs #19761]
* Initial release


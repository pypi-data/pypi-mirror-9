<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pymnl.attributes Module &mdash; pymnl 0.6 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pymnl 0.6 documentation" href="index.html" />
    <link rel="next" title="pymnl.genl Module" href="genl.html" />
    <link rel="prev" title="pymnl Module" href="pymnl.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>pymnl 0.6 documentation</span></a></h1>
        <h2 class="heading"><span>pymnl.attributes Module</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="pymnl.html">pymnl Module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="genl.html">pymnl.genl Module</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-pymnl.attributes">
<span id="pymnl-attributes-module"></span><h1>pymnl.attributes Module<a class="headerlink" href="#module-pymnl.attributes" title="Permalink to this headline">¶</a></h1>
<p class="local-contents-table">Netlink attributes can have the following types:</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>TYPE_UNSPEC</td>
<td>Unspecified type</td>
</tr>
<tr class="row-odd"><td>TYPE_U8</td>
<td>8-bit integer</td>
</tr>
<tr class="row-even"><td>TYPE_U16</td>
<td>16-bit integer</td>
</tr>
<tr class="row-odd"><td>TYPE_U32</td>
<td>32-bit integer</td>
</tr>
<tr class="row-even"><td>TYPE_U64</td>
<td>64-bit integer</td>
</tr>
<tr class="row-odd"><td>TYPE_STRING</td>
<td>character string</td>
</tr>
<tr class="row-even"><td>TYPE_FLAG</td>
<td>flag</td>
</tr>
<tr class="row-odd"><td>TYPE_MSECS</td>
<td>micro seconds (64bit)</td>
</tr>
<tr class="row-even"><td>TYPE_NESTED</td>
<td>nested attributes</td>
</tr>
<tr class="row-odd"><td>TYPE_NESTED_COMPAT</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>TYPE_NUL_STRING</td>
<td>null-terminated character string</td>
</tr>
<tr class="row-odd"><td>TYPE_BINARY</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<dl class="data">
<dt id="pymnl.attributes.NLA_F_NESTED">
<code class="descclassname">pymnl.attributes.</code><code class="descname">NLA_F_NESTED</code><a class="headerlink" href="#pymnl.attributes.NLA_F_NESTED" title="Permalink to this definition">¶</a></dt>
<dd><p>Signifies whether the attribute has nested attributes.</p>
</dd></dl>

<dl class="data">
<dt id="pymnl.attributes.NLA_F_NET_BYTEORDER">
<code class="descclassname">pymnl.attributes.</code><code class="descname">NLA_F_NET_BYTEORDER</code><a class="headerlink" href="#pymnl.attributes.NLA_F_NET_BYTEORDER" title="Permalink to this definition">¶</a></dt>
<dd><p>Signifies whether the attribute is in network byte order.</p>
</dd></dl>

<dl class="data">
<dt id="pymnl.attributes.NLA_ALIGNTO">
<code class="descclassname">pymnl.attributes.</code><code class="descname">NLA_ALIGNTO</code><a class="headerlink" href="#pymnl.attributes.NLA_ALIGNTO" title="Permalink to this definition">¶</a></dt>
<dd><p>The size to which netlink attributes should be aligned.</p>
</dd></dl>

<dl class="function">
<dt id="pymnl.attributes.NLA_ALIGN">
<code class="descclassname">pymnl.attributes.</code><code class="descname">NLA_ALIGN</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.NLA_ALIGN" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that returns the size of <code class="xref py py-data docutils literal"><span class="pre">x</span></code> aligned to the size of
<a class="reference internal" href="#pymnl.attributes.NLA_ALIGNTO" title="pymnl.attributes.NLA_ALIGNTO"><code class="xref py py-data docutils literal"><span class="pre">NLA_ALIGNTO</span></code></a>.</p>
</dd></dl>

<dl class="data">
<dt id="pymnl.attributes.ATTR_HDRLEN">
<code class="descclassname">pymnl.attributes.</code><code class="descname">ATTR_HDRLEN</code><a class="headerlink" href="#pymnl.attributes.ATTR_HDRLEN" title="Permalink to this definition">¶</a></dt>
<dd><p>The aligned size of an attribute header.</p>
</dd></dl>

<dl class="class">
<dt id="pymnl.attributes.Attr">
<em class="property">class </em><code class="descclassname">pymnl.attributes.</code><code class="descname">Attr</code><span class="sig-paren">(</span><em>type=None</em>, <em>value=None</em>, <em>packed_data=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Netlink Length-Type-Value (LTV) attribute:</p>
<div class="highlight-python"><div class="highlight"><pre>|&lt;-- 2 bytes --&gt;|&lt;-- 2 bytes --&gt;|&lt;-- variable --&gt;|
-------------------------------------------------
|     length    |      type     |      value     |
-------------------------------------------------
|&lt;--------- header ------------&gt;|&lt;-- payload ---&gt;|
</pre></div>
</div>
<p>The payload of the Netlink message contains sequences of
attributes that are expressed in LTV format.</p>
<p>Attr stores the value in packed format, internally.  The value
is immediately packed when an Attr is created via non-packed data.
It will be unpacked, as needed, when called for through the
get_*() methods.</p>
<dl class="method">
<dt id="pymnl.attributes.Attr.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>type=None</em>, <em>value=None</em>, <em>packed_data=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new Attr object.</p>
<p>type - attribute's type (see NLA_* constants in linux/netlink.h)</p>
<p>value - string or number representing the payload</p>
<dl class="docutils">
<dt>packed_data - This is the binary string containing the</dt>
<dd>attribute data.  This could be the output from another
object's get_binary() method or data directly from Netlink.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.__len__">
<code class="descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the length of the packed attribute (in bytes).</p>
</dd></dl>

<dl class="attribute">
<dt id="pymnl.attributes.Attr.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#pymnl.attributes.Attr.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_binary">
<code class="descname">get_binary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_binary" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a packed struct to include in message payload.</p>
<p>Adds null-bytes to end to pad attribute's length to
a multiple of NLA_ALIGNTO.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the non-header data string, a.k.a. the attribute's
payload (not it's Payload).</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_str">
<code class="descname">get_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value as a string.</p>
<p>Raises TypeError if the data length is zero.  Also raises
TypeError if type is TYPE_NUL_STRING and is not null-terminated.
A string should have a non-zero length and a null-terminated
string should have a null termination or something went wrong.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_str_stripped">
<code class="descname">get_str_stripped</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_str_stripped" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value as a string, without zero terminator.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the attribute's type.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_u16">
<code class="descname">get_u16</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_u16" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value as a two byte integer.</p>
<p>Raises TypeError if the data length does not match
the length expected for the type.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_u32">
<code class="descname">get_u32</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_u32" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value as a four byte integer.</p>
<p>Raises TypeError if the data length does not match
the length expected for the type.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_u64">
<code class="descname">get_u64</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_u64" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value as an eight byte integer.</p>
<p>Raises TypeError if the data length does not match
the length expected for the type.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_u8">
<code class="descname">get_u8</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_u8" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value as a one byte integer.</p>
<p>Raises TypeError if the data length does not match
the length expected for the type.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.get_value_len">
<code class="descname">get_value_len</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.get_value_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the length of the data payload.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.is_nested">
<code class="descname">is_nested</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.is_nested" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the nested flag is set, else return False.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pymnl.attributes.Attr.new_str">
<em class="property">classmethod </em><code class="descname">new_str</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.new_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Attr object with a non-zero-terminated string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pymnl.attributes.Attr.new_strz">
<em class="property">classmethod </em><code class="descname">new_strz</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.new_strz" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Attr object with a zero-terminated string.</p>
<p>This method will add the null termination.  Pass this
method a non-zero-terminated string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pymnl.attributes.Attr.new_u16">
<em class="property">classmethod </em><code class="descname">new_u16</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.new_u16" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new two byte long Attr object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pymnl.attributes.Attr.new_u32">
<em class="property">classmethod </em><code class="descname">new_u32</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.new_u32" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new four byte long Attr object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pymnl.attributes.Attr.new_u64">
<em class="property">classmethod </em><code class="descname">new_u64</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.new_u64" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new eight byte long Attr object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pymnl.attributes.Attr.new_u8">
<em class="property">classmethod </em><code class="descname">new_u8</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.new_u8" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new one byte long Attr object.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the attribute type and value.</p>
<p>type - attribute's type (see NLA_* constants in linux/netlink.h)</p>
<p>value - string representing the payload</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.toggle_nested">
<code class="descname">toggle_nested</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.toggle_nested" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the nested flag on and off for the Attr object.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.Attr.type_valid">
<code class="descname">type_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.Attr.type_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return False if the type is not known, otherwise return True.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymnl.attributes.AttrParser">
<em class="property">class </em><code class="descclassname">pymnl.attributes.</code><code class="descname">AttrParser</code><span class="sig-paren">(</span><em>data_obj=None</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.AttrParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for attribute parsers.</p>
<p>This class provides the most basic parsing capability.  In most
cases, you should use a subclass with callback methods or even
replace the parse() method.</p>
<p>However, AttrParser will handle simple attribute data.  And return
a list of the attributes found.</p>
<dl class="method">
<dt id="pymnl.attributes.AttrParser.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>data_obj=None</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.AttrParser.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a string for netlink attributes.</p>
<dl class="docutils">
<dt>data_obj - An optional object with attributes.  The data</dt>
<dd>object can be passed here and will be immediately parsed.
Or the object can be sent to the parse() method after
initialization.  See parse() for more details.</dd>
</dl>
<p>offset - offset into data at which to start</p>
</dd></dl>

<dl class="attribute">
<dt id="pymnl.attributes.AttrParser.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#pymnl.attributes.AttrParser.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.AttrParser.get_attrs">
<code class="descname">get_attrs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.AttrParser.get_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of attributes parsed from data string.</p>
<p>If the data string is passed on object creation, and no
callback methods have been assigned, this method can be
used to get the list of attributes.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.AttrParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>data_obj</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.AttrParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a (possibly empty) list of Attr processed from the
binary string.</p>
<dl class="docutils">
<dt>data_obj - An object containing attributes and providing the</dt>
<dd>get_binary() method.  See Message and Payload for examples
of get_binary().</dd>
</dl>
<p>offset - offset into data at which to start</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.AttrParser.parse_nested">
<code class="descname">parse_nested</code><span class="sig-paren">(</span><em>data_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.AttrParser.parse_nested" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a (possibly empty) list of Attr processed from the
binary string.</p>
<dl class="docutils">
<dt>data_obj - An object containing nested attributes and providing</dt>
<dd>the get_data() method.  get_data() must return the non-header
binary string to be parsed here.  See Payload and Attr
for examples of get_data().</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymnl.attributes.AttrParser.parse_string">
<code class="descname">parse_string</code><span class="sig-paren">(</span><em>data</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.attributes.AttrParser.parse_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the attributes.</p>
<p>data - raw data to parse</p>
<p>offset - offset into data at which to start</p>
<p>This method takes care of the low-level detail of finding
attributes in a data string and returns individual
attributes one at a time (parse_string() is a generator).</p>
<p>Subclasses can override parse() and still use parse_string()
to retrieve individual attributes from the data.</p>
</dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="pymnl.html">pymnl Module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="genl.html">pymnl.genl Module</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Sean Robinson.
      Last updated on 2015-03-21.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pymnl.nlsocket Module &mdash; pymnl 0.6 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pymnl 0.6 documentation" href="index.html" />
    <link rel="next" title="Using pymnl with Python 2 vs Python 3" href="python-versions.html" />
    <link rel="prev" title="pymnl.message Module" href="message.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>pymnl 0.6 documentation</span></a></h1>
        <h2 class="heading"><span>pymnl.nlsocket Module</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="message.html">pymnl.message Module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="python-versions.html">Using pymnl with Python 2 vs Python 3</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-pymnl.nlsocket">
<span id="pymnl-nlsocket-module"></span><h1>pymnl.nlsocket Module<a class="headerlink" href="#module-pymnl.nlsocket" title="Permalink to this headline">¶</a></h1>
<dl class="local-contents-table data">
<dt id="pymnl.nlsocket.SOCKET_AUTOPID">
<code class="descclassname">pymnl.nlsocket.</code><code class="descname">SOCKET_AUTOPID</code><a class="headerlink" href="#pymnl.nlsocket.SOCKET_AUTOPID" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this value as the pid parameter to <a class="reference internal" href="#pymnl.nlsocket.Socket.bind" title="pymnl.nlsocket.Socket.bind"><code class="xref py py-meth docutils literal"><span class="pre">Socket.bind()</span></code></a> for automatic
port ID selection.</p>
</dd></dl>

<dl class="data">
<dt id="pymnl.nlsocket.SOCKET_BUFFER_SIZE">
<code class="descclassname">pymnl.nlsocket.</code><code class="descname">SOCKET_BUFFER_SIZE</code><a class="headerlink" href="#pymnl.nlsocket.SOCKET_BUFFER_SIZE" title="Permalink to this definition">¶</a></dt>
<dd><p>The buffer size used when reading from and writing to the netlink
socket.  It is the smaller of 8 KiB or the system page size.</p>
</dd></dl>

<dl class="data">
<dt id="pymnl.nlsocket.SOL_NETLINK">
<code class="descclassname">pymnl.nlsocket.</code><code class="descname">SOL_NETLINK</code><a class="headerlink" href="#pymnl.nlsocket.SOL_NETLINK" title="Permalink to this definition">¶</a></dt>
<dd><p>Socket level for netlink.</p>
</dd></dl>

<dl class="class">
<dt id="pymnl.nlsocket.Socket">
<em class="property">class </em><code class="descclassname">pymnl.nlsocket.</code><code class="descname">Socket</code><span class="sig-paren">(</span><em>bus</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket" title="Permalink to this definition">¶</a></dt>
<dd><p>A netlink socket.</p>
<dl class="method">
<dt id="pymnl.nlsocket.Socket.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>bus</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>bus - the netlink socket bus ID</dt>
<dd>(see NETLINK_* constants in linux/netlink.h)</dd>
</dl>
<p>Raises an exception on error.</p>
</dd></dl>

<dl class="attribute">
<dt id="pymnl.nlsocket.Socket.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#pymnl.nlsocket.Socket.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.bind">
<code class="descname">bind</code><span class="sig-paren">(</span><em>pid=0</em>, <em>groups=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Bind netlink socket.</p>
<dl class="docutils">
<dt>pid - The port ID you want to use.  You can use</dt>
<dd>SOCKET_AUTOPID (which is 0) for automatic port ID
selection.</dd>
</dl>
<p>groups - the group of message you're interested in</p>
<p>Raises an exception on error.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the socket.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.get_groups">
<code class="descname">get_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.get_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain netlink groups from netlink socket.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.get_portid">
<code class="descname">get_portid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.get_portid" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain netlink PortID from netlink socket.</p>
<p>This method returns the netlink PortID of this netlink socket.
It's a common mistake to assume that this PortID equals the
process ID which is not always true. This is the case if you
open more than one socket that is binded to the same netlink
subsystem from the same process.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.get_sock">
<code class="descname">get_sock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.get_sock" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the underlying socket object.</p>
<p>This is useful if you need to set non-netlink socket options.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.getsockopt">
<code class="descname">getsockopt</code><span class="sig-paren">(</span><em>optname</em>, <em>buflen=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.getsockopt" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Netlink socket option.</p>
<p>optname - the option to get</p>
<p>buflen - optional (see Python's socket module)</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.recv">
<code class="descname">recv</code><span class="sig-paren">(</span><em>bufsize=4096</em>, <em>flags=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a netlink message.</p>
<dl class="docutils">
<dt>bufsize - max data to receive</dt>
<dd>Use SOCKET_BUFFER_SIZE (which is 8KB, see
linux/netlink.h for more information). Using this
buffer size ensures that your buffer is big enough
to store the netlink message without truncating it.</dd>
</dl>
<p>flags - see socket.recv()</p>
<p>Raises an exception on error.  Otherwise, it returns a
MessageList.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>nl_message</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a netlink message.</p>
<p>nl_message - the netlink message to be sent</p>
<p>Raises an exception on error. Otherwise, it returns the number of
bytes sent.</p>
</dd></dl>

<dl class="method">
<dt id="pymnl.nlsocket.Socket.setsockopt">
<code class="descname">setsockopt</code><span class="sig-paren">(</span><em>optname</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pymnl.nlsocket.Socket.setsockopt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set Netlink socket option.</p>
<p>optname - option to set</p>
<p>value - value to set for the option</p>
<p>This method allows you to set some Netlink socket options. As
of this writing (see linux/netlink.h), the existing options are:</p>
<blockquote>
<div><ul class="simple">
<li>NETLINK_ADD_MEMBERSHIP</li>
<li>NETLINK_DROP_MEMBERSHIP</li>
<li>NETLINK_PKTINFO</li>
<li>NETLINK_BROADCAST_ERROR</li>
<li>NETLINK_NO_ENOBUFS</li>
</ul>
</div></blockquote>
<p>In the early days, Netlink only supported 32 groups expressed
in a 32-bits mask. However, since 2.6.14, Netlink may have up
to 2^32 multicast groups but you have to use setsockopt() with
NETLINK_ADD_MEMBERSHIP to join a given multicast group. This
method internally calls setsockopt() to join a given netlink
multicast group. You can still use Socket.bind() and the 32-bit
mask to join a set of Netlink multicast groups.</p>
<p>See Python's socket module for more information about value.</p>
</dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="message.html">pymnl.message Module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="python-versions.html">Using pymnl with Python 2 vs Python 3</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Sean Robinson.
      Last updated on 2015-03-21.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>
<loading-panel ng-if="loading"></loading-panel>
<div ng-if="!loading">
    <heading-bar heading="Changes">
        <dropdown ctxt-obj="paginator.limiter"></dropdown>
        <paginator pager="paginator.pager"></paginator>
    </heading-bar>

    <div class="row" class="row"><div class="col-sm-10 col-sm-offset-1">
        <panel>
            <panel-heading>Changes</panel-heading>
            <panel-body>
                <table class="table table-condensed table-hover">
                    <thead>
                        <tr>
                            <th class="col-sm-1">ID</th>
                            <th class="col-sm-2">User</th>
                            <th class="col-sm-1">Event</th>
                            <th class="col-sm-1">Resource Type</th>
                            <th class="col-sm-1">Resource ID</th>
                            <th class="col-sm-2">Change At</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="change in changes">
                            <td>
                                <a ng-href="/sites/[[siteId]]/changes/[[change.id]]">
                                    [[change.id]]
                                </a>
                            </td>
                            <td>[[change.user.email]]</td>
                            <td>[[change.event]]</td>
                            <td>[[change.resource_name]]</td>
                            <td>[[change.resource_id]]</td>
                            <td>[[change.change_at|from_now]]</td>
                        </tr>
                    </tbody>
                </table>
            </panel-body>
        </panel>

    </div></div>
</div>

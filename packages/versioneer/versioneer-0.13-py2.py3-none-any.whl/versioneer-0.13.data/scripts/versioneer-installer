#!python

import os, base64

VERSIONEER_b64 = """
CiMgVmVyc2lvbjogMC4xMwoKIiIiClRoZSBWZXJzaW9uZWVyCj09PT09PT09
PT09PT09CgoqIGxpa2UgYSByb2NrZXRlZXIsIGJ1dCBmb3IgdmVyc2lvbnMh
CiogaHR0cHM6Ly9naXRodWIuY29tL3dhcm5lci9weXRob24tdmVyc2lvbmVl
cgoqIEJyaWFuIFdhcm5lcgoqIExpY2Vuc2U6IFB1YmxpYyBEb21haW4KKiBD
b21wYXRpYmxlIFdpdGg6IHB5dGhvbjIuNiwgMi43LCAzLjIsIDMuMywgMy40
LCBhbmQgcHlweQoqIFshW0xhdGVzdCBWZXJzaW9uXShodHRwczovL3B5cGlw
LmluL3ZlcnNpb24vdmVyc2lvbmVlci9iYWRnZS5zdmc/c3R5bGU9ZmxhdCld
KGh0dHBzOi8vcHlwaS5weXRob24ub3JnL3B5cGkvdmVyc2lvbmVlci8pCiog
WyFbQnVpbGQgU3RhdHVzXShodHRwczovL3RyYXZpcy1jaS5vcmcvd2FybmVy
L3B5dGhvbi12ZXJzaW9uZWVyLnBuZz9icmFuY2g9bWFzdGVyKV0oaHR0cHM6
Ly90cmF2aXMtY2kub3JnL3dhcm5lci9weXRob24tdmVyc2lvbmVlcikKClRo
aXMgaXMgYSB0b29sIGZvciBtYW5hZ2luZyBhIHJlY29yZGVkIHZlcnNpb24g
bnVtYmVyIGluIGRpc3R1dGlscy1iYXNlZApweXRob24gcHJvamVjdHMuIFRo
ZSBnb2FsIGlzIHRvIHJlbW92ZSB0aGUgdGVkaW91cyBhbmQgZXJyb3ItcHJv
bmUgInVwZGF0ZQp0aGUgZW1iZWRkZWQgdmVyc2lvbiBzdHJpbmciIHN0ZXAg
ZnJvbSB5b3VyIHJlbGVhc2UgcHJvY2Vzcy4gTWFraW5nIGEgbmV3CnJlbGVh
c2Ugc2hvdWxkIGJlIGFzIGVhc3kgYXMgcmVjb3JkaW5nIGEgbmV3IHRhZyBp
biB5b3VyIHZlcnNpb24tY29udHJvbApzeXN0ZW0sIGFuZCBtYXliZSBtYWtp
bmcgbmV3IHRhcmJhbGxzLgoKCiMjIFF1aWNrIEluc3RhbGwKCiogYHBpcCBp
bnN0YWxsIHZlcnNpb25lZXJgIHRvIHNvbWV3aGVyZSB0byB5b3VyICRQQVRI
CiogcnVuIGB2ZXJzaW9uZWVyLWluc3RhbGxlcmAgaW4geW91ciBzb3VyY2Ug
dHJlZTogdGhpcyBpbnN0YWxscyBgdmVyc2lvbmVlci5weWAKKiBmb2xsb3cg
dGhlIGluc3RydWN0aW9ucyBiZWxvdyAoYWxzbyBpbiB0aGUgYHZlcnNpb25l
ZXIucHlgIGRvY3N0cmluZykKCiMjIFZlcnNpb24gSWRlbnRpZmllcnMKClNv
dXJjZSB0cmVlcyBjb21lIGZyb20gYSB2YXJpZXR5IG9mIHBsYWNlczoKCiog
YSB2ZXJzaW9uLWNvbnRyb2wgc3lzdGVtIGNoZWNrb3V0IChtb3N0bHkgdXNl
ZCBieSBkZXZlbG9wZXJzKQoqIGEgbmlnaHRseSB0YXJiYWxsLCBwcm9kdWNl
ZCBieSBidWlsZCBhdXRvbWF0aW9uCiogYSBzbmFwc2hvdCB0YXJiYWxsLCBw
cm9kdWNlZCBieSBhIHdlYi1iYXNlZCBWQ1MgYnJvd3NlciwgbGlrZSBnaXRo
dWIncwogICJ0YXJiYWxsIGZyb20gdGFnIiBmZWF0dXJlCiogYSByZWxlYXNl
IHRhcmJhbGwsIHByb2R1Y2VkIGJ5ICJzZXR1cC5weSBzZGlzdCIsIGRpc3Ry
aWJ1dGVkIHRocm91Z2ggUHlQSQoKV2l0aGluIGVhY2ggc291cmNlIHRyZWUs
IHRoZSB2ZXJzaW9uIGlkZW50aWZpZXIgKGVpdGhlciBhIHN0cmluZyBvciBh
IG51bWJlciwKdGhpcyB0b29sIGlzIGZvcm1hdC1hZ25vc3RpYykgY2FuIGNv
bWUgZnJvbSBhIHZhcmlldHkgb2YgcGxhY2VzOgoKKiBhc2sgdGhlIFZDUyB0
b29sIGl0c2VsZiwgZS5nLiAiZ2l0IGRlc2NyaWJlIiAoZm9yIGNoZWNrb3V0
cyksIHdoaWNoIGtub3dzCiAgYWJvdXQgcmVjZW50ICJ0YWdzIiBhbmQgYW4g
YWJzb2x1dGUgcmV2aXNpb24taWQKKiB0aGUgbmFtZSBvZiB0aGUgZGlyZWN0
b3J5IGludG8gd2hpY2ggdGhlIHRhcmJhbGwgd2FzIHVucGFja2VkCiogYW4g
ZXhwYW5kZWQgVkNTIGtleXdvcmQgKCRJZCQsIGV0YykKKiBhIGBfdmVyc2lv
bi5weWAgY3JlYXRlZCBieSBzb21lIGVhcmxpZXIgYnVpbGQgc3RlcAoKRm9y
IHJlbGVhc2VkIHNvZnR3YXJlLCB0aGUgdmVyc2lvbiBpZGVudGlmaWVyIGlz
IGNsb3NlbHkgcmVsYXRlZCB0byBhIFZDUwp0YWcuIFNvbWUgcHJvamVjdHMg
dXNlIHRhZyBuYW1lcyB0aGF0IGluY2x1ZGUgbW9yZSB0aGFuIGp1c3QgdGhl
IHZlcnNpb24Kc3RyaW5nIChlLmcuICJteXByb2plY3QtMS4yIiBpbnN0ZWFk
IG9mIGp1c3QgIjEuMiIpLCBpbiB3aGljaCBjYXNlIHRoZSB0b29sCm5lZWRz
IHRvIHN0cmlwIHRoZSB0YWcgcHJlZml4IHRvIGV4dHJhY3QgdGhlIHZlcnNp
b24gaWRlbnRpZmllci4gRm9yCnVucmVsZWFzZWQgc29mdHdhcmUgKGJldHdl
ZW4gdGFncyksIHRoZSB2ZXJzaW9uIGlkZW50aWZpZXIgc2hvdWxkIHByb3Zp
ZGUKZW5vdWdoIGluZm9ybWF0aW9uIHRvIGhlbHAgZGV2ZWxvcGVycyByZWNy
ZWF0ZSB0aGUgc2FtZSB0cmVlLCB3aGlsZSBhbHNvCmdpdmluZyB0aGVtIGFu
IGlkZWEgb2Ygcm91Z2hseSBob3cgb2xkIHRoZSB0cmVlIGlzIChhZnRlciB2
ZXJzaW9uIDEuMiwgYmVmb3JlCnZlcnNpb24gMS4zKS4gTWFueSBWQ1Mgc3lz
dGVtcyBjYW4gcmVwb3J0IGEgZGVzY3JpcHRpb24gdGhhdCBjYXB0dXJlcyB0
aGlzLApmb3IgZXhhbXBsZSAnZ2l0IGRlc2NyaWJlIC0tdGFncyAtLWRpcnR5
IC0tYWx3YXlzJyByZXBvcnRzIHRoaW5ncyBsaWtlCiIwLjctMS1nNTc0YWI5
OC1kaXJ0eSIgdG8gaW5kaWNhdGUgdGhhdCB0aGUgY2hlY2tvdXQgaXMgb25l
IHJldmlzaW9uIHBhc3QgdGhlCjAuNyB0YWcsIGhhcyBhIHVuaXF1ZSByZXZp
c2lvbiBpZCBvZiAiNTc0YWI5OCIsIGFuZCBpcyAiZGlydHkiIChpdCBoYXMK
dW5jb21taXR0ZWQgY2hhbmdlcy4KClRoZSB2ZXJzaW9uIGlkZW50aWZpZXIg
aXMgdXNlZCBmb3IgbXVsdGlwbGUgcHVycG9zZXM6CgoqIHRvIGFsbG93IHRo
ZSBtb2R1bGUgdG8gc2VsZi1pZGVudGlmeSBpdHMgdmVyc2lvbjogYG15cHJv
amVjdC5fX3ZlcnNpb25fX2AKKiB0byBjaG9vc2UgYSBuYW1lIGFuZCBwcmVm
aXggZm9yIGEgJ3NldHVwLnB5IHNkaXN0JyB0YXJiYWxsCgojIyBUaGVvcnkg
b2YgT3BlcmF0aW9uCgpWZXJzaW9uZWVyIHdvcmtzIGJ5IGFkZGluZyBhIHNw
ZWNpYWwgYF92ZXJzaW9uLnB5YCBmaWxlIGludG8geW91ciBzb3VyY2UKdHJl
ZSwgd2hlcmUgeW91ciBgX19pbml0X18ucHlgIGNhbiBpbXBvcnQgaXQuIFRo
aXMgYF92ZXJzaW9uLnB5YCBrbm93cyBob3cgdG8KZHluYW1pY2FsbHkgYXNr
IHRoZSBWQ1MgdG9vbCBmb3IgdmVyc2lvbiBpbmZvcm1hdGlvbiBhdCBpbXBv
cnQgdGltZS4gSG93ZXZlciwKd2hlbiB5b3UgdXNlICJzZXR1cC5weSBidWls
ZCIgb3IgInNldHVwLnB5IHNkaXN0IiwgYF92ZXJzaW9uLnB5YCBpbiB0aGUg
bmV3CmNvcHkgaXMgcmVwbGFjZWQgYnkgYSBzbWFsbCBzdGF0aWMgZmlsZSB0
aGF0IGNvbnRhaW5zIGp1c3QgdGhlIGdlbmVyYXRlZAp2ZXJzaW9uIGRhdGEu
CgpgX3ZlcnNpb24ucHlgIGFsc28gY29udGFpbnMgYCRSZXZpc2lvbiRgIG1h
cmtlcnMsIGFuZCB0aGUgaW5zdGFsbGF0aW9uCnByb2Nlc3MgbWFya3MgYF92
ZXJzaW9uLnB5YCB0byBoYXZlIHRoaXMgbWFya2VyIHJld3JpdHRlbiB3aXRo
IGEgdGFnIG5hbWUKZHVyaW5nIHRoZSAiZ2l0IGFyY2hpdmUiIGNvbW1hbmQu
IEFzIGEgcmVzdWx0LCBnZW5lcmF0ZWQgdGFyYmFsbHMgd2lsbApjb250YWlu
IGVub3VnaCBpbmZvcm1hdGlvbiB0byBnZXQgdGhlIHByb3BlciB2ZXJzaW9u
LgoKCiMjIEluc3RhbGxhdGlvbgoKRmlyc3QsIGRlY2lkZSBvbiB2YWx1ZXMg
Zm9yIHRoZSBmb2xsb3dpbmcgY29uZmlndXJhdGlvbiB2YXJpYWJsZXM6Cgoq
IGBWQ1NgOiB0aGUgdmVyc2lvbiBjb250cm9sIHN5c3RlbSB5b3UgdXNlLiBD
dXJyZW50bHkgYWNjZXB0cyAiZ2l0Ii4KCiogYHZlcnNpb25maWxlX3NvdXJj
ZWA6CgogIEEgcHJvamVjdC1yZWxhdGl2ZSBwYXRobmFtZSBpbnRvIHdoaWNo
IHRoZSBnZW5lcmF0ZWQgdmVyc2lvbiBzdHJpbmdzIHNob3VsZAogIGJlIHdy
aXR0ZW4uIFRoaXMgaXMgdXN1YWxseSBhIGBfdmVyc2lvbi5weWAgbmV4dCB0
byB5b3VyIHByb2plY3QncyBtYWluCiAgYF9faW5pdF9fLnB5YCBmaWxlLCBz
byBpdCBjYW4gYmUgaW1wb3J0ZWQgYXQgcnVudGltZS4gSWYgeW91ciBwcm9q
ZWN0IHVzZXMKICBgc3JjL215cHJvamVjdC9fX2luaXRfXy5weWAsIHRoaXMg
c2hvdWxkIGJlIGBzcmMvbXlwcm9qZWN0L192ZXJzaW9uLnB5YC4KICBUaGlz
IGZpbGUgc2hvdWxkIGJlIGNoZWNrZWQgaW4gdG8geW91ciBWQ1MgYXMgdXN1
YWw6IHRoZSBjb3B5IGNyZWF0ZWQgYmVsb3cKICBieSBgc2V0dXAucHkgdmVy
c2lvbmVlcmAgd2lsbCBpbmNsdWRlIGNvZGUgdGhhdCBwYXJzZXMgZXhwYW5k
ZWQgVkNTCiAga2V5d29yZHMgaW4gZ2VuZXJhdGVkIHRhcmJhbGxzLiBUaGUg
J2J1aWxkJyBhbmQgJ3NkaXN0JyBjb21tYW5kcyB3aWxsCiAgcmVwbGFjZSBp
dCB3aXRoIGEgY29weSB0aGF0IGhhcyBqdXN0IHRoZSBjYWxjdWxhdGVkIHZl
cnNpb24gc3RyaW5nLgoKICBUaGlzIG11c3QgYmUgc2V0IGV2ZW4gaWYgeW91
ciBwcm9qZWN0IGRvZXMgbm90IGhhdmUgYW55IG1vZHVsZXMgKGFuZCB3aWxs
CiAgdGhlcmVmb3JlIG5ldmVyIGltcG9ydCBgX3ZlcnNpb24ucHlgKSwgc2lu
Y2UgInNldHVwLnB5IHNkaXN0IiAtYmFzZWQgdHJlZXMKICBzdGlsbCBuZWVk
IHNvbWV3aGVyZSB0byByZWNvcmQgdGhlIHByZS1jYWxjdWxhdGVkIHZlcnNp
b24gc3RyaW5ncy4gQW55d2hlcmUKICBpbiB0aGUgc291cmNlIHRyZWUgc2hv
dWxkIGRvLiBJZiB0aGVyZSBpcyBhIGBfX2luaXRfXy5weWAgbmV4dCB0byB5
b3VyCiAgYF92ZXJzaW9uLnB5YCwgdGhlIGBzZXR1cC5weSB2ZXJzaW9uZWVy
YCBjb21tYW5kIChkZXNjcmliZWQgYmVsb3cpIHdpbGwKICBhcHBlbmQgc29t
ZSBgX192ZXJzaW9uX19gLXNldHRpbmcgYXNzaWdubWVudHMsIGlmIHRoZXkg
YXJlbid0IGFscmVhZHkKICBwcmVzZW50LgoKKiBgdmVyc2lvbmZpbGVfYnVp
bGRgOgoKICBMaWtlIGB2ZXJzaW9uZmlsZV9zb3VyY2VgLCBidXQgcmVsYXRp
dmUgdG8gdGhlIGJ1aWxkIGRpcmVjdG9yeSBpbnN0ZWFkIG9mCiAgdGhlIHNv
dXJjZSBkaXJlY3RvcnkuIFRoZXNlIHdpbGwgZGlmZmVyIHdoZW4geW91ciBz
ZXR1cC5weSB1c2VzCiAgJ3BhY2thZ2VfZGlyPScuIElmIHlvdSBoYXZlIGBw
YWNrYWdlX2Rpcj17J215cHJvamVjdCc6ICdzcmMvbXlwcm9qZWN0J31gLAog
IHRoZW4geW91IHdpbGwgcHJvYmFibHkgaGF2ZSBgdmVyc2lvbmZpbGVfYnVp
bGQ9J215cHJvamVjdC9fdmVyc2lvbi5weSdgIGFuZAogIGB2ZXJzaW9uZmls
ZV9zb3VyY2U9J3NyYy9teXByb2plY3QvX3ZlcnNpb24ucHknYC4KCiAgSWYg
dGhpcyBpcyBzZXQgdG8gTm9uZSwgdGhlbiBgc2V0dXAucHkgYnVpbGRgIHdp
bGwgbm90IGF0dGVtcHQgdG8gcmV3cml0ZQogIGFueSBgX3ZlcnNpb24ucHlg
IGluIHRoZSBidWlsdCB0cmVlLiBJZiB5b3VyIHByb2plY3QgZG9lcyBub3Qg
aGF2ZSBhbnkKICBsaWJyYXJpZXMgKGUuZy4gaWYgaXQgb25seSBidWlsZHMg
YSBzY3JpcHQpLCB0aGVuIHlvdSBzaG91bGQgdXNlCiAgYHZlcnNpb25maWxl
X2J1aWxkID0gTm9uZWAgYW5kIG92ZXJyaWRlIGBkaXN0dXRpbHMuY29tbWFu
ZC5idWlsZF9zY3JpcHRzYAogIHRvIGV4cGxpY2l0bHkgaW5zZXJ0IGEgY29w
eSBvZiBgdmVyc2lvbmVlci5nZXRfdmVyc2lvbigpYCBpbnRvIHlvdXIKICBn
ZW5lcmF0ZWQgc2NyaXB0LgoKKiBgdGFnX3ByZWZpeGA6CgogIGEgc3RyaW5n
LCBsaWtlICdQUk9KRUNUTkFNRS0nLCB3aGljaCBhcHBlYXJzIGF0IHRoZSBz
dGFydCBvZiBhbGwgVkNTIHRhZ3MuCiAgSWYgeW91ciB0YWdzIGxvb2sgbGlr
ZSAnbXlwcm9qZWN0LTEuMi4wJywgdGhlbiB5b3Ugc2hvdWxkIHVzZQogIHRh
Z19wcmVmaXg9J215cHJvamVjdC0nLiBJZiB5b3UgdXNlIHVucHJlZml4ZWQg
dGFncyBsaWtlICcxLjIuMCcsIHRoaXMKICBzaG91bGQgYmUgYW4gZW1wdHkg
c3RyaW5nLgoKKiBgcGFyZW50ZGlyX3ByZWZpeGA6CgogIGEgc3RyaW5nLCBm
cmVxdWVudGx5IHRoZSBzYW1lIGFzIHRhZ19wcmVmaXgsIHdoaWNoIGFwcGVh
cnMgYXQgdGhlIHN0YXJ0IG9mCiAgYWxsIHVucGFja2VkIHRhcmJhbGwgZmls
ZW5hbWVzLiBJZiB5b3VyIHRhcmJhbGwgdW5wYWNrcyBpbnRvCiAgJ215cHJv
amVjdC0xLjIuMCcsIHRoaXMgc2hvdWxkIGJlICdteXByb2plY3QtJy4KClRo
aXMgdG9vbCBwcm92aWRlcyBvbmUgc2NyaXB0LCBuYW1lZCBgdmVyc2lvbmVl
ci1pbnN0YWxsZXJgLiBUaGF0IHNjcmlwdCBkb2VzCm9uZSB0aGluZzogd3Jp
dGUgYSBjb3B5IG9mIGB2ZXJzaW9uZWVyLnB5YCBpbnRvIHRoZSBjdXJyZW50
IGRpcmVjdG9yeS4KClRvIHZlcnNpb25lZXItZW5hYmxlIHlvdXIgcHJvamVj
dDoKCiogMTogUnVuIGB2ZXJzaW9uZWVyLWluc3RhbGxlcmAgdG8gY29weSBg
dmVyc2lvbmVlci5weWAgaW50byB0aGUgdG9wIG9mIHlvdXIKICBzb3VyY2Ug
dHJlZS4KCiogMjogYWRkIHRoZSBmb2xsb3dpbmcgbGluZXMgdG8gdGhlIHRv
cCBvZiB5b3VyIGBzZXR1cC5weWAsIHdpdGggdGhlCiAgY29uZmlndXJhdGlv
biB2YWx1ZXMgeW91IGRlY2lkZWQgZWFybGllcjoKCiAgICAgICAgaW1wb3J0
IHZlcnNpb25lZXIKICAgICAgICB2ZXJzaW9uZWVyLlZDUyA9ICdnaXQnCiAg
ICAgICAgdmVyc2lvbmVlci52ZXJzaW9uZmlsZV9zb3VyY2UgPSAnc3JjL215
cHJvamVjdC9fdmVyc2lvbi5weScKICAgICAgICB2ZXJzaW9uZWVyLnZlcnNp
b25maWxlX2J1aWxkID0gJ215cHJvamVjdC9fdmVyc2lvbi5weScKICAgICAg
ICB2ZXJzaW9uZWVyLnRhZ19wcmVmaXggPSAnJyAjIHRhZ3MgYXJlIGxpa2Ug
MS4yLjAKICAgICAgICB2ZXJzaW9uZWVyLnBhcmVudGRpcl9wcmVmaXggPSAn
bXlwcm9qZWN0LScgIyBkaXJuYW1lIGxpa2UgJ215cHJvamVjdC0xLjIuMCcK
CiogMzogYWRkIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzIHRvIHRoZSBzZXR1
cCgpIGNhbGwgaW4geW91ciBzZXR1cC5weToKCiAgICAgICAgdmVyc2lvbj12
ZXJzaW9uZWVyLmdldF92ZXJzaW9uKCksCiAgICAgICAgY21kY2xhc3M9dmVy
c2lvbmVlci5nZXRfY21kY2xhc3MoKSwKCiogNDogbm93IHJ1biBgc2V0dXAu
cHkgdmVyc2lvbmVlcmAsIHdoaWNoIHdpbGwgY3JlYXRlIGBfdmVyc2lvbi5w
eWAsIGFuZCB3aWxsCiAgbW9kaWZ5IHlvdXIgYF9faW5pdF9fLnB5YCAoaWYg
b25lIGV4aXN0cyBuZXh0IHRvIGBfdmVyc2lvbi5weWApIHRvIGRlZmluZQog
IGBfX3ZlcnNpb25fX2AgKGJ5IGNhbGxpbmcgYSBmdW5jdGlvbiBmcm9tIGBf
dmVyc2lvbi5weWApLiBJdCB3aWxsIGFsc28KICBtb2RpZnkgeW91ciBgTUFO
SUZFU1QuaW5gIHRvIGluY2x1ZGUgYm90aCBgdmVyc2lvbmVlci5weWAgYW5k
IHRoZSBnZW5lcmF0ZWQKICBgX3ZlcnNpb24ucHlgIGluIHNkaXN0IHRhcmJh
bGxzLgoKKiA1OiBjb21taXQgdGhlc2UgY2hhbmdlcyB0byB5b3VyIFZDUy4g
VG8gbWFrZSBzdXJlIHlvdSB3b24ndCBmb3JnZXQsCiAgYHNldHVwLnB5IHZl
cnNpb25lZXJgIHdpbGwgbWFyayBldmVyeXRoaW5nIGl0IHRvdWNoZWQgZm9y
IGFkZGl0aW9uLgoKIyMgUG9zdC1JbnN0YWxsYXRpb24gVXNhZ2UKCk9uY2Ug
ZXN0YWJsaXNoZWQsIGFsbCB1c2VzIG9mIHlvdXIgdHJlZSBmcm9tIGEgVkNT
IGNoZWNrb3V0IHNob3VsZCBnZXQgdGhlCmN1cnJlbnQgdmVyc2lvbiBzdHJp
bmcuIEFsbCBnZW5lcmF0ZWQgdGFyYmFsbHMgc2hvdWxkIGluY2x1ZGUgYW4g
ZW1iZWRkZWQKdmVyc2lvbiBzdHJpbmcgKHNvIHVzZXJzIHdobyB1bnBhY2sg
dGhlbSB3aWxsIG5vdCBuZWVkIGEgVkNTIHRvb2wgaW5zdGFsbGVkKS4KCklm
IHlvdSBkaXN0cmlidXRlIHlvdXIgcHJvamVjdCB0aHJvdWdoIFB5UEksIHRo
ZW4gdGhlIHJlbGVhc2UgcHJvY2VzcyBzaG91bGQKYm9pbCBkb3duIHRvIHR3
byBzdGVwczoKCiogMTogZ2l0IHRhZyAxLjAKKiAyOiBweXRob24gc2V0dXAu
cHkgcmVnaXN0ZXIgc2Rpc3QgdXBsb2FkCgpJZiB5b3UgZGlzdHJpYnV0ZSBp
dCB0aHJvdWdoIGdpdGh1YiAoaS5lLiB1c2VycyB1c2UgZ2l0aHViIHRvIGdl
bmVyYXRlCnRhcmJhbGxzIHdpdGggYGdpdCBhcmNoaXZlYCksIHRoZSBwcm9j
ZXNzIGlzOgoKKiAxOiBnaXQgdGFnIDEuMAoqIDI6IGdpdCBwdXNoOyBnaXQg
cHVzaCAtLXRhZ3MKCkN1cnJlbnRseSwgYWxsIHZlcnNpb24gc3RyaW5ncyBt
dXN0IGJlIGJhc2VkIHVwb24gYSB0YWcuIFZlcnNpb25lZXIgd2lsbApyZXBv
cnQgInVua25vd24iIHVudGlsIHlvdXIgdHJlZSBoYXMgYXQgbGVhc3Qgb25l
IHRhZyBpbiBpdHMgaGlzdG9yeS4gVGhpcwpyZXN0cmljdGlvbiB3aWxsIGJl
IGZpeGVkIGV2ZW50dWFsbHkgKHNlZSBpc3N1ZSAjMTIpLgoKIyMgVmVyc2lv
bi1TdHJpbmcgRmxhdm9ycwoKQ29kZSB3aGljaCB1c2VzIFZlcnNpb25lZXIg
Y2FuIGxlYXJuIGFib3V0IGl0cyB2ZXJzaW9uIHN0cmluZyBhdCBydW50aW1l
IGJ5CmltcG9ydGluZyBgX3ZlcnNpb25gIGZyb20geW91ciBtYWluIGBfX2lu
aXRfXy5weWAgZmlsZSBhbmQgcnVubmluZyB0aGUKYGdldF92ZXJzaW9ucygp
YCBmdW5jdGlvbi4gRnJvbSB0aGUgIm91dHNpZGUiIChlLmcuIGluIGBzZXR1
cC5weWApLCB5b3UgY2FuCmltcG9ydCB0aGUgdG9wLWxldmVsIGB2ZXJzaW9u
ZWVyLnB5YCBhbmQgcnVuIGBnZXRfdmVyc2lvbnMoKWAuCgpCb3RoIGZ1bmN0
aW9ucyByZXR1cm4gYSBkaWN0aW9uYXJ5IHdpdGggZGlmZmVyZW50IGtleXMg
Zm9yIGRpZmZlcmVudCBmbGF2b3JzCm9mIHRoZSB2ZXJzaW9uIHN0cmluZzoK
CiogYFsndmVyc2lvbiddYDogY29uZGVuc2VkIHRhZytkaXN0YW5jZStzaG9y
dGlkK2RpcnR5IGlkZW50aWZpZXIuIEZvciBnaXQsCiAgdGhpcyB1c2VzIHRo
ZSBvdXRwdXQgb2YgYGdpdCBkZXNjcmliZSAtLXRhZ3MgLS1kaXJ0eSAtLWFs
d2F5c2AgYnV0IHN0cmlwcwogIHRoZSB0YWdfcHJlZml4LiBGb3IgZXhhbXBs
ZSAiMC4xMS0yLWcxMDc2Yzk3LWRpcnR5IiBpbmRpY2F0ZXMgdGhhdCB0aGUg
dHJlZQogIGlzIGxpa2UgdGhlICIxMDc2Yzk3IiBjb21taXQgYnV0IGhhcyB1
bmNvbW1pdHRlZCBjaGFuZ2VzICgiLWRpcnR5IiksIGFuZAogIHRoYXQgdGhp
cyBjb21taXQgaXMgdHdvIHJldmlzaW9ucyAoIi0yLSIpIGJleW9uZCB0aGUg
IjAuMTEiIHRhZy4gRm9yCiAgcmVsZWFzZWQgc29mdHdhcmUgKGV4YWN0bHkg
ZXF1YWwgdG8gYSBrbm93biB0YWcpLCB0aGUgaWRlbnRpZmllciB3aWxsIG9u
bHkKICBjb250YWluIHRoZSBzdHJpcHBlZCB0YWcsIGUuZy4gIjAuMTEiLgoK
KiBgWydmdWxsJ11gOiBkZXRhaWxlZCByZXZpc2lvbiBpZGVudGlmaWVyLiBG
b3IgR2l0LCB0aGlzIGlzIHRoZSBmdWxsIFNIQTEKICBjb21taXQgaWQsIGZv
bGxvd2VkIGJ5ICItZGlydHkiIGlmIHRoZSB0cmVlIGNvbnRhaW5zIHVuY29t
bWl0dGVkIGNoYW5nZXMsCiAgZS5nLiAiMTA3NmM5NzhhOGQzY2ZjNzBmNDA4
ZmU1OTc0YWE2YzA5MmM5NDlhYy1kaXJ0eSIuCgpTb21lIHZhcmlhbnRzIGFy
ZSBtb3JlIHVzZWZ1bCB0aGFuIG90aGVycy4gSW5jbHVkaW5nIGBmdWxsYCBp
biBhIGJ1ZyByZXBvcnQKc2hvdWxkIGFsbG93IGRldmVsb3BlcnMgdG8gcmVj
b25zdHJ1Y3QgdGhlIGV4YWN0IGNvZGUgYmVpbmcgdGVzdGVkIChvcgppbmRp
Y2F0ZSB0aGUgcHJlc2VuY2Ugb2YgbG9jYWwgY2hhbmdlcyB0aGF0IHNob3Vs
ZCBiZSBzaGFyZWQgd2l0aCB0aGUKZGV2ZWxvcGVycykuIGB2ZXJzaW9uYCBp
cyBzdWl0YWJsZSBmb3IgZGlzcGxheSBpbiBhbiAiYWJvdXQiIGJveCBvciBh
IENMSQpgLS12ZXJzaW9uYCBvdXRwdXQ6IGl0IGNhbiBiZSBlYXNpbHkgY29t
cGFyZWQgYWdhaW5zdCByZWxlYXNlIG5vdGVzIGFuZCBsaXN0cwpvZiBidWdz
IGZpeGVkIGluIHZhcmlvdXMgcmVsZWFzZXMuCgpJbiB0aGUgZnV0dXJlLCB0
aGlzIHdpbGwgYWxzbyBpbmNsdWRlIGEKW1BFUC0wNDQwXShodHRwOi8vbGVn
YWN5LnB5dGhvbi5vcmcvZGV2L3BlcHMvcGVwLTA0NDAvKSAtY29tcGF0aWJs
ZSBmbGF2b3IKKGUuZy4gYDEuMi5wb3N0MC5kZXYxMjNgKS4gVGhpcyBsb3Nl
cyBhIGxvdCBvZiBpbmZvcm1hdGlvbiAoYW5kIGhhcyBubyByb29tCmZvciBh
IGhhc2gtYmFzZWQgcmV2aXNpb24gaWQpLCBidXQgaXMgc2FmZSB0byB1c2Ug
aW4gYSBgc2V0dXAucHlgCiJgdmVyc2lvbj1gIiBhcmd1bWVudC4gSXQgYWxz
byBlbmFibGVzIHRvb2xzIGxpa2UgKnBpcCogdG8gY29tcGFyZSB2ZXJzaW9u
CnN0cmluZ3MgYW5kIGV2YWx1YXRlIGNvbXBhdGliaWxpdHkgY29uc3RyYWlu
dCBkZWNsYXJhdGlvbnMuCgpUaGUgYHNldHVwLnB5IHZlcnNpb25lZXJgIGNv
bW1hbmQgYWRkcyB0aGUgZm9sbG93aW5nIHRleHQgdG8geW91cgpgX19pbml0
X18ucHlgIHRvIHBsYWNlIGEgYmFzaWMgdmVyc2lvbiBpbiBgWU9VUlBST0pF
Q1QuX192ZXJzaW9uX19gOgoKICAgIGZyb20gLl92ZXJzaW9uIGltcG9ydCBn
ZXRfdmVyc2lvbnMKICAgIF9fdmVyc2lvbl9fID0gZ2V0X3ZlcnNpb25zKClb
J3ZlcnNpb24nXQogICAgZGVsIGdldF92ZXJzaW9ucwoKIyMgVXBkYXRpbmcg
VmVyc2lvbmVlcgoKVG8gdXBncmFkZSB5b3VyIHByb2plY3QgdG8gYSBuZXcg
cmVsZWFzZSBvZiBWZXJzaW9uZWVyLCBkbyB0aGUgZm9sbG93aW5nOgoKKiBp
bnN0YWxsIHRoZSBuZXcgVmVyc2lvbmVlciAoYHBpcCBpbnN0YWxsIC1VIHZl
cnNpb25lZXJgIG9yIGVxdWl2YWxlbnQpCiogcmUtcnVuIGB2ZXJzaW9uZWVy
LWluc3RhbGxlcmAgaW4geW91ciBzb3VyY2UgdHJlZSB0byByZXBsYWNlIHlv
dXIgY29weSBvZgogIGB2ZXJzaW9uZWVyLnB5YAoqIGVkaXQgYHNldHVwLnB5
YCwgaWYgbmVjZXNzYXJ5LCB0byBpbmNsdWRlIGFueSBuZXcgY29uZmlndXJh
dGlvbiBzZXR0aW5ncwogIGluZGljYXRlZCBieSB0aGUgcmVsZWFzZSBub3Rl
cwoqIHJlLXJ1biBgc2V0dXAucHkgdmVyc2lvbmVlcmAgdG8gcmVwbGFjZSBg
U1JDL192ZXJzaW9uLnB5YAoqIGNvbW1pdCBhbnkgY2hhbmdlZCBmaWxlcwoK
IyMjIFVwZ3JhZGluZyBmcm9tIDAuMTAgdG8gMC4xMQoKWW91IG11c3QgYWRk
IGEgYHZlcnNpb25lZXIuVkNTID0gImdpdCJgIHRvIHlvdXIgYHNldHVwLnB5
YCBiZWZvcmUgcmUtcnVubmluZwpgc2V0dXAucHkgdmVyc2lvbmVlcmAuIFRo
aXMgd2lsbCBlbmFibGUgdGhlIHVzZSBvZiBhZGRpdGlvbmFsIHZlcnNpb24t
Y29udHJvbApzeXN0ZW1zIChTVk4sIGV0YykgaW4gdGhlIGZ1dHVyZS4KCiMj
IyBVcGdyYWRpbmcgZnJvbSAwLjExIHRvIDAuMTIKCk5vdGhpbmcgc3BlY2lh
bC4KCiMjIEZ1dHVyZSBEaXJlY3Rpb25zCgpUaGlzIHRvb2wgaXMgZGVzaWdu
ZWQgdG8gbWFrZSBpdCBlYXNpbHkgZXh0ZW5kZWQgdG8gb3RoZXIgdmVyc2lv
bi1jb250cm9sCnN5c3RlbXM6IGFsbCBWQ1Mtc3BlY2lmaWMgY29tcG9uZW50
cyBhcmUgaW4gc2VwYXJhdGUgZGlyZWN0b3JpZXMgbGlrZQpzcmMvZ2l0LyAu
IFRoZSB0b3AtbGV2ZWwgYHZlcnNpb25lZXIucHlgIHNjcmlwdCBpcyBhc3Nl
bWJsZWQgZnJvbSB0aGVzZQpjb21wb25lbnRzIGJ5IHJ1bm5pbmcgbWFrZS12
ZXJzaW9uZWVyLnB5IC4gSW4gdGhlIGZ1dHVyZSwgbWFrZS12ZXJzaW9uZWVy
LnB5CndpbGwgdGFrZSBhIFZDUyBuYW1lIGFzIGFuIGFyZ3VtZW50LCBhbmQg
d2lsbCBjb25zdHJ1Y3QgYSB2ZXJzaW9uIG9mCmB2ZXJzaW9uZWVyLnB5YCB0
aGF0IGlzIHNwZWNpZmljIHRvIHRoZSBnaXZlbiBWQ1MuIEl0IG1pZ2h0IGFs
c28gdGFrZSB0aGUKY29uZmlndXJhdGlvbiBhcmd1bWVudHMgdGhhdCBhcmUg
Y3VycmVudGx5IHByb3ZpZGVkIG1hbnVhbGx5IGR1cmluZwppbnN0YWxsYXRp
b24gYnkgZWRpdGluZyBzZXR1cC5weSAuIEFsdGVybmF0aXZlbHksIGl0IG1p
Z2h0IGdvIHRoZSBvdGhlcgpkaXJlY3Rpb24gYW5kIGluY2x1ZGUgY29kZSBm
cm9tIGFsbCBzdXBwb3J0ZWQgVkNTIHN5c3RlbXMsIHJlZHVjaW5nIHRoZQpu
dW1iZXIgb2YgaW50ZXJtZWRpYXRlIHNjcmlwdHMuCgoKIyMgTGljZW5zZQoK
VG8gbWFrZSBWZXJzaW9uZWVyIGVhc2llciB0byBlbWJlZCwgYWxsIGl0cyBj
b2RlIGlzIGhlcmVieSByZWxlYXNlZCBpbnRvIHRoZQpwdWJsaWMgZG9tYWlu
LiBUaGUgYF92ZXJzaW9uLnB5YCB0aGF0IGl0IGNyZWF0ZXMgaXMgYWxzbyBp
biB0aGUgcHVibGljCmRvbWFpbi4KCiIiIgoKaW1wb3J0IG9zLCBzeXMsIHJl
LCBzdWJwcm9jZXNzLCBlcnJubwpmcm9tIGRpc3R1dGlscy5jb3JlIGltcG9y
dCBDb21tYW5kCmZyb20gZGlzdHV0aWxzLmNvbW1hbmQuc2Rpc3QgaW1wb3J0
IHNkaXN0IGFzIF9zZGlzdApmcm9tIGRpc3R1dGlscy5jb21tYW5kLmJ1aWxk
IGltcG9ydCBidWlsZCBhcyBfYnVpbGQKCiMgdGhlc2UgY29uZmlndXJhdGlv
biBzZXR0aW5ncyB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgc2V0dXAucHkgYWZ0
ZXIgaXQKIyBpbXBvcnRzIHVzCnZlcnNpb25maWxlX3NvdXJjZSA9IE5vbmUK
dmVyc2lvbmZpbGVfYnVpbGQgPSBOb25lCnRhZ19wcmVmaXggPSBOb25lCnBh
cmVudGRpcl9wcmVmaXggPSBOb25lClZDUyA9IE5vbmUKCiMgdGhlc2UgZGlj
dGlvbmFyaWVzIGNvbnRhaW4gVkNTLXNwZWNpZmljIHRvb2xzCkxPTkdfVkVS
U0lPTl9QWSA9IHt9CgoKZGVmIHJ1bl9jb21tYW5kKGNvbW1hbmRzLCBhcmdz
LCBjd2Q9Tm9uZSwgdmVyYm9zZT1GYWxzZSwgaGlkZV9zdGRlcnI9RmFsc2Up
OgogICAgYXNzZXJ0IGlzaW5zdGFuY2UoY29tbWFuZHMsIGxpc3QpCiAgICBw
ID0gTm9uZQogICAgZm9yIGMgaW4gY29tbWFuZHM6CiAgICAgICAgdHJ5Ogog
ICAgICAgICAgICAjIHJlbWVtYmVyIHNoZWxsPUZhbHNlLCBzbyB1c2UgZ2l0
LmNtZCBvbiB3aW5kb3dzLCBub3QganVzdCBnaXQKICAgICAgICAgICAgcCA9
IHN1YnByb2Nlc3MuUG9wZW4oW2NdICsgYXJncywgY3dkPWN3ZCwgc3Rkb3V0
PXN1YnByb2Nlc3MuUElQRSwKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RkZXJyPShzdWJwcm9jZXNzLlBJUEUgaWYgaGlkZV9zdGRlcnIK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNl
IE5vbmUpKQogICAgICAgICAgICBicmVhawogICAgICAgIGV4Y2VwdCBFbnZp
cm9ubWVudEVycm9yOgogICAgICAgICAgICBlID0gc3lzLmV4Y19pbmZvKClb
MV0KICAgICAgICAgICAgaWYgZS5lcnJubyA9PSBlcnJuby5FTk9FTlQ6CiAg
ICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiB2ZXJib3Nl
OgogICAgICAgICAgICAgICAgcHJpbnQoInVuYWJsZSB0byBydW4gJXMiICUg
YXJnc1swXSkKICAgICAgICAgICAgICAgIHByaW50KGUpCiAgICAgICAgICAg
IHJldHVybiBOb25lCiAgICBlbHNlOgogICAgICAgIGlmIHZlcmJvc2U6CiAg
ICAgICAgICAgIHByaW50KCJ1bmFibGUgdG8gZmluZCBjb21tYW5kLCB0cmll
ZCAlcyIgJSAoY29tbWFuZHMsKSkKICAgICAgICByZXR1cm4gTm9uZQogICAg
c3Rkb3V0ID0gcC5jb21tdW5pY2F0ZSgpWzBdLnN0cmlwKCkKICAgIGlmIHN5
cy52ZXJzaW9uID49ICczJzoKICAgICAgICBzdGRvdXQgPSBzdGRvdXQuZGVj
b2RlKCkKICAgIGlmIHAucmV0dXJuY29kZSAhPSAwOgogICAgICAgIGlmIHZl
cmJvc2U6CiAgICAgICAgICAgIHByaW50KCJ1bmFibGUgdG8gcnVuICVzIChl
cnJvcikiICUgYXJnc1swXSkKICAgICAgICByZXR1cm4gTm9uZQogICAgcmV0
dXJuIHN0ZG91dAoKTE9OR19WRVJTSU9OX1BZWydnaXQnXSA9ICcnJwojIFRo
aXMgZmlsZSBoZWxwcyB0byBjb21wdXRlIGEgdmVyc2lvbiBudW1iZXIgaW4g
c291cmNlIHRyZWVzIG9idGFpbmVkIGZyb20KIyBnaXQtYXJjaGl2ZSB0YXJi
YWxsIChzdWNoIGFzIHRob3NlIHByb3ZpZGVkIGJ5IGdpdGh1YnMgZG93bmxv
YWQtZnJvbS10YWcKIyBmZWF0dXJlKS4gRGlzdHJpYnV0aW9uIHRhcmJhbGxz
IChidWlsdCBieSBzZXR1cC5weSBzZGlzdCkgYW5kIGJ1aWxkCiMgZGlyZWN0
b3JpZXMgKHByb2R1Y2VkIGJ5IHNldHVwLnB5IGJ1aWxkKSB3aWxsIGNvbnRh
aW4gYSBtdWNoIHNob3J0ZXIgZmlsZQojIHRoYXQganVzdCBjb250YWlucyB0
aGUgY29tcHV0ZWQgdmVyc2lvbiBudW1iZXIuCgojIFRoaXMgZmlsZSBpcyBy
ZWxlYXNlZCBpbnRvIHRoZSBwdWJsaWMgZG9tYWluLiBHZW5lcmF0ZWQgYnkK
IyB2ZXJzaW9uZWVyLTAuMTMgKGh0dHBzOi8vZ2l0aHViLmNvbS93YXJuZXIv
cHl0aG9uLXZlcnNpb25lZXIpCgojIHRoZXNlIHN0cmluZ3Mgd2lsbCBiZSBy
ZXBsYWNlZCBieSBnaXQgZHVyaW5nIGdpdC1hcmNoaXZlCmdpdF9yZWZuYW1l
cyA9ICIlKERPTExBUilzRm9ybWF0OiUlZCUoRE9MTEFSKXMiCmdpdF9mdWxs
ID0gIiUoRE9MTEFSKXNGb3JtYXQ6JSVIJShET0xMQVIpcyIKCiMgdGhlc2Ug
c3RyaW5ncyBhcmUgZmlsbGVkIGluIHdoZW4gJ3NldHVwLnB5IHZlcnNpb25l
ZXInIGNyZWF0ZXMgX3ZlcnNpb24ucHkKdGFnX3ByZWZpeCA9ICIlKFRBR19Q
UkVGSVgpcyIKcGFyZW50ZGlyX3ByZWZpeCA9ICIlKFBBUkVOVERJUl9QUkVG
SVgpcyIKdmVyc2lvbmZpbGVfc291cmNlID0gIiUoVkVSU0lPTkZJTEVfU09V
UkNFKXMiCgppbXBvcnQgZXJybm8KaW1wb3J0IG9zCmltcG9ydCByZQppbXBv
cnQgc3VicHJvY2VzcwppbXBvcnQgc3lzCgoKZGVmIHJ1bl9jb21tYW5kKGNv
bW1hbmRzLCBhcmdzLCBjd2Q9Tm9uZSwgdmVyYm9zZT1GYWxzZSwgaGlkZV9z
dGRlcnI9RmFsc2UpOgogICAgYXNzZXJ0IGlzaW5zdGFuY2UoY29tbWFuZHMs
IGxpc3QpCiAgICBwID0gTm9uZQogICAgZm9yIGMgaW4gY29tbWFuZHM6CiAg
ICAgICAgdHJ5OgogICAgICAgICAgICAjIHJlbWVtYmVyIHNoZWxsPUZhbHNl
LCBzbyB1c2UgZ2l0LmNtZCBvbiB3aW5kb3dzLCBub3QganVzdCBnaXQKICAg
ICAgICAgICAgcCA9IHN1YnByb2Nlc3MuUG9wZW4oW2NdICsgYXJncywgY3dk
PWN3ZCwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RkZXJyPShzdWJwcm9jZXNzLlBJUEUgaWYg
aGlkZV9zdGRlcnIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBlbHNlIE5vbmUpKQogICAgICAgICAgICBicmVhawogICAgICAg
IGV4Y2VwdCBFbnZpcm9ubWVudEVycm9yOgogICAgICAgICAgICBlID0gc3lz
LmV4Y19pbmZvKClbMV0KICAgICAgICAgICAgaWYgZS5lcnJubyA9PSBlcnJu
by5FTk9FTlQ6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAg
ICBpZiB2ZXJib3NlOgogICAgICAgICAgICAgICAgcHJpbnQoInVuYWJsZSB0
byBydW4gJSVzIiAlJSBhcmdzWzBdKQogICAgICAgICAgICAgICAgcHJpbnQo
ZSkKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgIGVsc2U6CiAgICAgICAg
aWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoInVuYWJsZSB0byBmaW5k
IGNvbW1hbmQsIHRyaWVkICUlcyIgJSUgKGNvbW1hbmRzLCkpCiAgICAgICAg
cmV0dXJuIE5vbmUKICAgIHN0ZG91dCA9IHAuY29tbXVuaWNhdGUoKVswXS5z
dHJpcCgpCiAgICBpZiBzeXMudmVyc2lvbiA+PSAnMyc6CiAgICAgICAgc3Rk
b3V0ID0gc3Rkb3V0LmRlY29kZSgpCiAgICBpZiBwLnJldHVybmNvZGUgIT0g
MDoKICAgICAgICBpZiB2ZXJib3NlOgogICAgICAgICAgICBwcmludCgidW5h
YmxlIHRvIHJ1biAlJXMgKGVycm9yKSIgJSUgYXJnc1swXSkKICAgICAgICBy
ZXR1cm4gTm9uZQogICAgcmV0dXJuIHN0ZG91dAoKCmRlZiB2ZXJzaW9uc19m
cm9tX3BhcmVudGRpcihwYXJlbnRkaXJfcHJlZml4LCByb290LCB2ZXJib3Nl
PUZhbHNlKToKICAgICMgU291cmNlIHRhcmJhbGxzIGNvbnZlbnRpb25hbGx5
IHVucGFjayBpbnRvIGEgZGlyZWN0b3J5IHRoYXQgaW5jbHVkZXMKICAgICMg
Ym90aCB0aGUgcHJvamVjdCBuYW1lIGFuZCBhIHZlcnNpb24gc3RyaW5nLgog
ICAgZGlybmFtZSA9IG9zLnBhdGguYmFzZW5hbWUocm9vdCkKICAgIGlmIG5v
dCBkaXJuYW1lLnN0YXJ0c3dpdGgocGFyZW50ZGlyX3ByZWZpeCk6CiAgICAg
ICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoImd1ZXNzaW5nIHJv
b3RkaXIgaXMgJyUlcycsIGJ1dCAnJSVzJyBkb2Vzbid0IHN0YXJ0IHdpdGgg
IgogICAgICAgICAgICAgICAgICAicHJlZml4ICclJXMnIiAlJSAocm9vdCwg
ZGlybmFtZSwgcGFyZW50ZGlyX3ByZWZpeCkpCiAgICAgICAgcmV0dXJuIE5v
bmUKICAgIHJldHVybiB7InZlcnNpb24iOiBkaXJuYW1lW2xlbihwYXJlbnRk
aXJfcHJlZml4KTpdLCAiZnVsbCI6ICIifQoKCmRlZiBnaXRfZ2V0X2tleXdv
cmRzKHZlcnNpb25maWxlX2Ficyk6CiAgICAjIHRoZSBjb2RlIGVtYmVkZGVk
IGluIF92ZXJzaW9uLnB5IGNhbiBqdXN0IGZldGNoIHRoZSB2YWx1ZSBvZiB0
aGVzZQogICAgIyBrZXl3b3Jkcy4gV2hlbiB1c2VkIGZyb20gc2V0dXAucHks
IHdlIGRvbid0IHdhbnQgdG8gaW1wb3J0IF92ZXJzaW9uLnB5LAogICAgIyBz
byB3ZSBkbyBpdCB3aXRoIGEgcmVnZXhwIGluc3RlYWQuIFRoaXMgZnVuY3Rp
b24gaXMgbm90IHVzZWQgZnJvbQogICAgIyBfdmVyc2lvbi5weS4KICAgIGtl
eXdvcmRzID0ge30KICAgIHRyeToKICAgICAgICBmID0gb3Blbih2ZXJzaW9u
ZmlsZV9hYnMsICJyIikKICAgICAgICBmb3IgbGluZSBpbiBmLnJlYWRsaW5l
cygpOgogICAgICAgICAgICBpZiBsaW5lLnN0cmlwKCkuc3RhcnRzd2l0aCgi
Z2l0X3JlZm5hbWVzID0iKToKICAgICAgICAgICAgICAgIG1vID0gcmUuc2Vh
cmNoKHInPVxzKiIoLiopIicsIGxpbmUpCiAgICAgICAgICAgICAgICBpZiBt
bzoKICAgICAgICAgICAgICAgICAgICBrZXl3b3Jkc1sicmVmbmFtZXMiXSA9
IG1vLmdyb3VwKDEpCiAgICAgICAgICAgIGlmIGxpbmUuc3RyaXAoKS5zdGFy
dHN3aXRoKCJnaXRfZnVsbCA9Iik6CiAgICAgICAgICAgICAgICBtbyA9IHJl
LnNlYXJjaChyJz1ccyoiKC4qKSInLCBsaW5lKQogICAgICAgICAgICAgICAg
aWYgbW86CiAgICAgICAgICAgICAgICAgICAga2V5d29yZHNbImZ1bGwiXSA9
IG1vLmdyb3VwKDEpCiAgICAgICAgZi5jbG9zZSgpCiAgICBleGNlcHQgRW52
aXJvbm1lbnRFcnJvcjoKICAgICAgICBwYXNzCiAgICByZXR1cm4ga2V5d29y
ZHMKCgpkZWYgZ2l0X3ZlcnNpb25zX2Zyb21fa2V5d29yZHMoa2V5d29yZHMs
IHRhZ19wcmVmaXgsIHZlcmJvc2U9RmFsc2UpOgogICAgaWYgbm90IGtleXdv
cmRzOgogICAgICAgIHJldHVybiB7fSAgIyBrZXl3b3JkLWZpbmRpbmcgZnVu
Y3Rpb24gZmFpbGVkIHRvIGZpbmQga2V5d29yZHMKICAgIHJlZm5hbWVzID0g
a2V5d29yZHNbInJlZm5hbWVzIl0uc3RyaXAoKQogICAgaWYgcmVmbmFtZXMu
c3RhcnRzd2l0aCgiJEZvcm1hdCIpOgogICAgICAgIGlmIHZlcmJvc2U6CiAg
ICAgICAgICAgIHByaW50KCJrZXl3b3JkcyBhcmUgdW5leHBhbmRlZCwgbm90
IHVzaW5nIikKICAgICAgICByZXR1cm4ge30gICMgdW5leHBhbmRlZCwgc28g
bm90IGluIGFuIHVucGFja2VkIGdpdC1hcmNoaXZlIHRhcmJhbGwKICAgIHJl
ZnMgPSBzZXQoW3Iuc3RyaXAoKSBmb3IgciBpbiByZWZuYW1lcy5zdHJpcCgi
KCkiKS5zcGxpdCgiLCIpXSkKICAgICMgc3RhcnRpbmcgaW4gZ2l0LTEuOC4z
LCB0YWdzIGFyZSBsaXN0ZWQgYXMgInRhZzogZm9vLTEuMCIgaW5zdGVhZCBv
ZgogICAgIyBqdXN0ICJmb28tMS4wIi4gSWYgd2Ugc2VlIGEgInRhZzogIiBw
cmVmaXgsIHByZWZlciB0aG9zZS4KICAgIFRBRyA9ICJ0YWc6ICIKICAgIHRh
Z3MgPSBzZXQoW3JbbGVuKFRBRyk6XSBmb3IgciBpbiByZWZzIGlmIHIuc3Rh
cnRzd2l0aChUQUcpXSkKICAgIGlmIG5vdCB0YWdzOgogICAgICAgICMgRWl0
aGVyIHdlJ3JlIHVzaW5nIGdpdCA8IDEuOC4zLCBvciB0aGVyZSByZWFsbHkg
YXJlIG5vIHRhZ3MuIFdlIHVzZQogICAgICAgICMgYSBoZXVyaXN0aWM6IGFz
c3VtZSBhbGwgdmVyc2lvbiB0YWdzIGhhdmUgYSBkaWdpdC4gVGhlIG9sZCBn
aXQgJSVkCiAgICAgICAgIyBleHBhbnNpb24gYmVoYXZlcyBsaWtlIGdpdCBs
b2cgLS1kZWNvcmF0ZT1zaG9ydCBhbmQgc3RyaXBzIG91dCB0aGUKICAgICAg
ICAjIHJlZnMvaGVhZHMvIGFuZCByZWZzL3RhZ3MvIHByZWZpeGVzIHRoYXQg
d291bGQgbGV0IHVzIGRpc3Rpbmd1aXNoCiAgICAgICAgIyBiZXR3ZWVuIGJy
YW5jaGVzIGFuZCB0YWdzLiBCeSBpZ25vcmluZyByZWZuYW1lcyB3aXRob3V0
IGRpZ2l0cywgd2UKICAgICAgICAjIGZpbHRlciBvdXQgbWFueSBjb21tb24g
YnJhbmNoIG5hbWVzIGxpa2UgInJlbGVhc2UiIGFuZAogICAgICAgICMgInN0
YWJpbGl6YXRpb24iLCBhcyB3ZWxsIGFzICJIRUFEIiBhbmQgIm1hc3RlciIu
CiAgICAgICAgdGFncyA9IHNldChbciBmb3IgciBpbiByZWZzIGlmIHJlLnNl
YXJjaChyJ1xkJywgcildKQogICAgICAgIGlmIHZlcmJvc2U6CiAgICAgICAg
ICAgIHByaW50KCJkaXNjYXJkaW5nICclJXMnLCBubyBkaWdpdHMiICUlICIs
Ii5qb2luKHJlZnMtdGFncykpCiAgICBpZiB2ZXJib3NlOgogICAgICAgIHBy
aW50KCJsaWtlbHkgdGFnczogJSVzIiAlJSAiLCIuam9pbihzb3J0ZWQodGFn
cykpKQogICAgZm9yIHJlZiBpbiBzb3J0ZWQodGFncyk6CiAgICAgICAgIyBz
b3J0aW5nIHdpbGwgcHJlZmVyIGUuZy4gIjIuMCIgb3ZlciAiMi4wcmMxIgog
ICAgICAgIGlmIHJlZi5zdGFydHN3aXRoKHRhZ19wcmVmaXgpOgogICAgICAg
ICAgICByID0gcmVmW2xlbih0YWdfcHJlZml4KTpdCiAgICAgICAgICAgIGlm
IHZlcmJvc2U6CiAgICAgICAgICAgICAgICBwcmludCgicGlja2luZyAlJXMi
ICUlIHIpCiAgICAgICAgICAgIHJldHVybiB7InZlcnNpb24iOiByLAogICAg
ICAgICAgICAgICAgICAgICJmdWxsIjoga2V5d29yZHNbImZ1bGwiXS5zdHJp
cCgpfQogICAgIyBubyBzdWl0YWJsZSB0YWdzLCBzbyB3ZSB1c2UgdGhlIGZ1
bGwgcmV2aXNpb24gaWQKICAgIGlmIHZlcmJvc2U6CiAgICAgICAgcHJpbnQo
Im5vIHN1aXRhYmxlIHRhZ3MsIHVzaW5nIGZ1bGwgcmV2aXNpb24gaWQiKQog
ICAgcmV0dXJuIHsidmVyc2lvbiI6IGtleXdvcmRzWyJmdWxsIl0uc3RyaXAo
KSwKICAgICAgICAgICAgImZ1bGwiOiBrZXl3b3Jkc1siZnVsbCJdLnN0cmlw
KCl9CgoKZGVmIGdpdF92ZXJzaW9uc19mcm9tX3Zjcyh0YWdfcHJlZml4LCBy
b290LCB2ZXJib3NlPUZhbHNlKToKICAgICMgdGhpcyBydW5zICdnaXQnIGZy
b20gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZSB0cmVlLiBUaGlzIG9ubHkgZ2V0
cyBjYWxsZWQKICAgICMgaWYgdGhlIGdpdC1hcmNoaXZlICdzdWJzdCcga2V5
d29yZHMgd2VyZSAqbm90KiBleHBhbmRlZCwgYW5kCiAgICAjIF92ZXJzaW9u
LnB5IGhhc24ndCBhbHJlYWR5IGJlZW4gcmV3cml0dGVuIHdpdGggYSBzaG9y
dCB2ZXJzaW9uIHN0cmluZywKICAgICMgbWVhbmluZyB3ZSdyZSBpbnNpZGUg
YSBjaGVja2VkIG91dCBzb3VyY2UgdHJlZS4KCiAgICBpZiBub3Qgb3MucGF0
aC5leGlzdHMob3MucGF0aC5qb2luKHJvb3QsICIuZ2l0IikpOgogICAgICAg
IGlmIHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJubyAuZ2l0IGluICUl
cyIgJSUgcm9vdCkKICAgICAgICByZXR1cm4ge30KCiAgICBHSVRTID0gWyJn
aXQiXQogICAgaWYgc3lzLnBsYXRmb3JtID09ICJ3aW4zMiI6CiAgICAgICAg
R0lUUyA9IFsiZ2l0LmNtZCIsICJnaXQuZXhlIl0KICAgIHN0ZG91dCA9IHJ1
bl9jb21tYW5kKEdJVFMsIFsiZGVzY3JpYmUiLCAiLS10YWdzIiwgIi0tZGly
dHkiLCAiLS1hbHdheXMiXSwKICAgICAgICAgICAgICAgICAgICAgICAgIGN3
ZD1yb290KQogICAgaWYgc3Rkb3V0IGlzIE5vbmU6CiAgICAgICAgcmV0dXJu
IHt9CiAgICBpZiBub3Qgc3Rkb3V0LnN0YXJ0c3dpdGgodGFnX3ByZWZpeCk6
CiAgICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgZm10ID0gInRhZyAn
JSVzJyBkb2Vzbid0IHN0YXJ0IHdpdGggcHJlZml4ICclJXMnIgogICAgICAg
ICAgICBwcmludChmbXQgJSUgKHN0ZG91dCwgdGFnX3ByZWZpeCkpCiAgICAg
ICAgcmV0dXJuIHt9CiAgICB0YWcgPSBzdGRvdXRbbGVuKHRhZ19wcmVmaXgp
Ol0KICAgIHN0ZG91dCA9IHJ1bl9jb21tYW5kKEdJVFMsIFsicmV2LXBhcnNl
IiwgIkhFQUQiXSwgY3dkPXJvb3QpCiAgICBpZiBzdGRvdXQgaXMgTm9uZToK
ICAgICAgICByZXR1cm4ge30KICAgIGZ1bGwgPSBzdGRvdXQuc3RyaXAoKQog
ICAgaWYgdGFnLmVuZHN3aXRoKCItZGlydHkiKToKICAgICAgICBmdWxsICs9
ICItZGlydHkiCiAgICByZXR1cm4geyJ2ZXJzaW9uIjogdGFnLCAiZnVsbCI6
IGZ1bGx9CgoKZGVmIGdldF92ZXJzaW9ucyhkZWZhdWx0PXsidmVyc2lvbiI6
ICJ1bmtub3duIiwgImZ1bGwiOiAiIn0sIHZlcmJvc2U9RmFsc2UpOgogICAg
IyBJIGFtIGluIF92ZXJzaW9uLnB5LCB3aGljaCBsaXZlcyBhdCBST09UL1ZF
UlNJT05GSUxFX1NPVVJDRS4gSWYgd2UgaGF2ZQogICAgIyBfX2ZpbGVfXywg
d2UgY2FuIHdvcmsgYmFja3dhcmRzIGZyb20gdGhlcmUgdG8gdGhlIHJvb3Qu
IFNvbWUKICAgICMgcHkyZXhlL2JiZnJlZXplL25vbi1DUHl0aG9uIGltcGxl
bWVudGF0aW9ucyBkb24ndCBkbyBfX2ZpbGVfXywgaW4gd2hpY2gKICAgICMg
Y2FzZSB3ZSBjYW4gb25seSB1c2UgZXhwYW5kZWQga2V5d29yZHMuCgogICAg
a2V5d29yZHMgPSB7InJlZm5hbWVzIjogZ2l0X3JlZm5hbWVzLCAiZnVsbCI6
IGdpdF9mdWxsfQogICAgdmVyID0gZ2l0X3ZlcnNpb25zX2Zyb21fa2V5d29y
ZHMoa2V5d29yZHMsIHRhZ19wcmVmaXgsIHZlcmJvc2UpCiAgICBpZiB2ZXI6
CiAgICAgICAgcmV0dXJuIHZlcgoKICAgIHRyeToKICAgICAgICByb290ID0g
b3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykKICAgICAgICAjIHZlcnNpb25m
aWxlX3NvdXJjZSBpcyB0aGUgcmVsYXRpdmUgcGF0aCBmcm9tIHRoZSB0b3Ag
b2YgdGhlIHNvdXJjZQogICAgICAgICMgdHJlZSAod2hlcmUgdGhlIC5naXQg
ZGlyZWN0b3J5IG1pZ2h0IGxpdmUpIHRvIHRoaXMgZmlsZS4gSW52ZXJ0CiAg
ICAgICAgIyB0aGlzIHRvIGZpbmQgdGhlIHJvb3QgZnJvbSBfX2ZpbGVfXy4K
ICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odmVyc2lvbmZpbGVfc291cmNl
LnNwbGl0KCcvJykpKToKICAgICAgICAgICAgcm9vdCA9IG9zLnBhdGguZGly
bmFtZShyb290KQogICAgZXhjZXB0IE5hbWVFcnJvcjoKICAgICAgICByZXR1
cm4gZGVmYXVsdAoKICAgIHJldHVybiAoZ2l0X3ZlcnNpb25zX2Zyb21fdmNz
KHRhZ19wcmVmaXgsIHJvb3QsIHZlcmJvc2UpCiAgICAgICAgICAgIG9yIHZl
cnNpb25zX2Zyb21fcGFyZW50ZGlyKHBhcmVudGRpcl9wcmVmaXgsIHJvb3Qs
IHZlcmJvc2UpCiAgICAgICAgICAgIG9yIGRlZmF1bHQpCicnJwoKCmRlZiBn
aXRfZ2V0X2tleXdvcmRzKHZlcnNpb25maWxlX2Ficyk6CiAgICAjIHRoZSBj
b2RlIGVtYmVkZGVkIGluIF92ZXJzaW9uLnB5IGNhbiBqdXN0IGZldGNoIHRo
ZSB2YWx1ZSBvZiB0aGVzZQogICAgIyBrZXl3b3Jkcy4gV2hlbiB1c2VkIGZy
b20gc2V0dXAucHksIHdlIGRvbid0IHdhbnQgdG8gaW1wb3J0IF92ZXJzaW9u
LnB5LAogICAgIyBzbyB3ZSBkbyBpdCB3aXRoIGEgcmVnZXhwIGluc3RlYWQu
IFRoaXMgZnVuY3Rpb24gaXMgbm90IHVzZWQgZnJvbQogICAgIyBfdmVyc2lv
bi5weS4KICAgIGtleXdvcmRzID0ge30KICAgIHRyeToKICAgICAgICBmID0g
b3Blbih2ZXJzaW9uZmlsZV9hYnMsICJyIikKICAgICAgICBmb3IgbGluZSBp
biBmLnJlYWRsaW5lcygpOgogICAgICAgICAgICBpZiBsaW5lLnN0cmlwKCku
c3RhcnRzd2l0aCgiZ2l0X3JlZm5hbWVzID0iKToKICAgICAgICAgICAgICAg
IG1vID0gcmUuc2VhcmNoKHInPVxzKiIoLiopIicsIGxpbmUpCiAgICAgICAg
ICAgICAgICBpZiBtbzoKICAgICAgICAgICAgICAgICAgICBrZXl3b3Jkc1si
cmVmbmFtZXMiXSA9IG1vLmdyb3VwKDEpCiAgICAgICAgICAgIGlmIGxpbmUu
c3RyaXAoKS5zdGFydHN3aXRoKCJnaXRfZnVsbCA9Iik6CiAgICAgICAgICAg
ICAgICBtbyA9IHJlLnNlYXJjaChyJz1ccyoiKC4qKSInLCBsaW5lKQogICAg
ICAgICAgICAgICAgaWYgbW86CiAgICAgICAgICAgICAgICAgICAga2V5d29y
ZHNbImZ1bGwiXSA9IG1vLmdyb3VwKDEpCiAgICAgICAgZi5jbG9zZSgpCiAg
ICBleGNlcHQgRW52aXJvbm1lbnRFcnJvcjoKICAgICAgICBwYXNzCiAgICBy
ZXR1cm4ga2V5d29yZHMKCgpkZWYgZ2l0X3ZlcnNpb25zX2Zyb21fa2V5d29y
ZHMoa2V5d29yZHMsIHRhZ19wcmVmaXgsIHZlcmJvc2U9RmFsc2UpOgogICAg
aWYgbm90IGtleXdvcmRzOgogICAgICAgIHJldHVybiB7fSAgIyBrZXl3b3Jk
LWZpbmRpbmcgZnVuY3Rpb24gZmFpbGVkIHRvIGZpbmQga2V5d29yZHMKICAg
IHJlZm5hbWVzID0ga2V5d29yZHNbInJlZm5hbWVzIl0uc3RyaXAoKQogICAg
aWYgcmVmbmFtZXMuc3RhcnRzd2l0aCgiJEZvcm1hdCIpOgogICAgICAgIGlm
IHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KCJrZXl3b3JkcyBhcmUgdW5l
eHBhbmRlZCwgbm90IHVzaW5nIikKICAgICAgICByZXR1cm4ge30gICMgdW5l
eHBhbmRlZCwgc28gbm90IGluIGFuIHVucGFja2VkIGdpdC1hcmNoaXZlIHRh
cmJhbGwKICAgIHJlZnMgPSBzZXQoW3Iuc3RyaXAoKSBmb3IgciBpbiByZWZu
YW1lcy5zdHJpcCgiKCkiKS5zcGxpdCgiLCIpXSkKICAgICMgc3RhcnRpbmcg
aW4gZ2l0LTEuOC4zLCB0YWdzIGFyZSBsaXN0ZWQgYXMgInRhZzogZm9vLTEu
MCIgaW5zdGVhZCBvZgogICAgIyBqdXN0ICJmb28tMS4wIi4gSWYgd2Ugc2Vl
IGEgInRhZzogIiBwcmVmaXgsIHByZWZlciB0aG9zZS4KICAgIFRBRyA9ICJ0
YWc6ICIKICAgIHRhZ3MgPSBzZXQoW3JbbGVuKFRBRyk6XSBmb3IgciBpbiBy
ZWZzIGlmIHIuc3RhcnRzd2l0aChUQUcpXSkKICAgIGlmIG5vdCB0YWdzOgog
ICAgICAgICMgRWl0aGVyIHdlJ3JlIHVzaW5nIGdpdCA8IDEuOC4zLCBvciB0
aGVyZSByZWFsbHkgYXJlIG5vIHRhZ3MuIFdlIHVzZQogICAgICAgICMgYSBo
ZXVyaXN0aWM6IGFzc3VtZSBhbGwgdmVyc2lvbiB0YWdzIGhhdmUgYSBkaWdp
dC4gVGhlIG9sZCBnaXQgJWQKICAgICAgICAjIGV4cGFuc2lvbiBiZWhhdmVz
IGxpa2UgZ2l0IGxvZyAtLWRlY29yYXRlPXNob3J0IGFuZCBzdHJpcHMgb3V0
IHRoZQogICAgICAgICMgcmVmcy9oZWFkcy8gYW5kIHJlZnMvdGFncy8gcHJl
Zml4ZXMgdGhhdCB3b3VsZCBsZXQgdXMgZGlzdGluZ3Vpc2gKICAgICAgICAj
IGJldHdlZW4gYnJhbmNoZXMgYW5kIHRhZ3MuIEJ5IGlnbm9yaW5nIHJlZm5h
bWVzIHdpdGhvdXQgZGlnaXRzLCB3ZQogICAgICAgICMgZmlsdGVyIG91dCBt
YW55IGNvbW1vbiBicmFuY2ggbmFtZXMgbGlrZSAicmVsZWFzZSIgYW5kCiAg
ICAgICAgIyAic3RhYmlsaXphdGlvbiIsIGFzIHdlbGwgYXMgIkhFQUQiIGFu
ZCAibWFzdGVyIi4KICAgICAgICB0YWdzID0gc2V0KFtyIGZvciByIGluIHJl
ZnMgaWYgcmUuc2VhcmNoKHInXGQnLCByKV0pCiAgICAgICAgaWYgdmVyYm9z
ZToKICAgICAgICAgICAgcHJpbnQoImRpc2NhcmRpbmcgJyVzJywgbm8gZGln
aXRzIiAlICIsIi5qb2luKHJlZnMtdGFncykpCiAgICBpZiB2ZXJib3NlOgog
ICAgICAgIHByaW50KCJsaWtlbHkgdGFnczogJXMiICUgIiwiLmpvaW4oc29y
dGVkKHRhZ3MpKSkKICAgIGZvciByZWYgaW4gc29ydGVkKHRhZ3MpOgogICAg
ICAgICMgc29ydGluZyB3aWxsIHByZWZlciBlLmcuICIyLjAiIG92ZXIgIjIu
MHJjMSIKICAgICAgICBpZiByZWYuc3RhcnRzd2l0aCh0YWdfcHJlZml4KToK
ICAgICAgICAgICAgciA9IHJlZltsZW4odGFnX3ByZWZpeCk6XQogICAgICAg
ICAgICBpZiB2ZXJib3NlOgogICAgICAgICAgICAgICAgcHJpbnQoInBpY2tp
bmcgJXMiICUgcikKICAgICAgICAgICAgcmV0dXJuIHsidmVyc2lvbiI6IHIs
CiAgICAgICAgICAgICAgICAgICAgImZ1bGwiOiBrZXl3b3Jkc1siZnVsbCJd
LnN0cmlwKCl9CiAgICAjIG5vIHN1aXRhYmxlIHRhZ3MsIHNvIHdlIHVzZSB0
aGUgZnVsbCByZXZpc2lvbiBpZAogICAgaWYgdmVyYm9zZToKICAgICAgICBw
cmludCgibm8gc3VpdGFibGUgdGFncywgdXNpbmcgZnVsbCByZXZpc2lvbiBp
ZCIpCiAgICByZXR1cm4geyJ2ZXJzaW9uIjoga2V5d29yZHNbImZ1bGwiXS5z
dHJpcCgpLAogICAgICAgICAgICAiZnVsbCI6IGtleXdvcmRzWyJmdWxsIl0u
c3RyaXAoKX0KCgpkZWYgZ2l0X3ZlcnNpb25zX2Zyb21fdmNzKHRhZ19wcmVm
aXgsIHJvb3QsIHZlcmJvc2U9RmFsc2UpOgogICAgIyB0aGlzIHJ1bnMgJ2dp
dCcgZnJvbSB0aGUgcm9vdCBvZiB0aGUgc291cmNlIHRyZWUuIFRoaXMgb25s
eSBnZXRzIGNhbGxlZAogICAgIyBpZiB0aGUgZ2l0LWFyY2hpdmUgJ3N1YnN0
JyBrZXl3b3JkcyB3ZXJlICpub3QqIGV4cGFuZGVkLCBhbmQKICAgICMgX3Zl
cnNpb24ucHkgaGFzbid0IGFscmVhZHkgYmVlbiByZXdyaXR0ZW4gd2l0aCBh
IHNob3J0IHZlcnNpb24gc3RyaW5nLAogICAgIyBtZWFuaW5nIHdlJ3JlIGlu
c2lkZSBhIGNoZWNrZWQgb3V0IHNvdXJjZSB0cmVlLgoKICAgIGlmIG5vdCBv
cy5wYXRoLmV4aXN0cyhvcy5wYXRoLmpvaW4ocm9vdCwgIi5naXQiKSk6CiAg
ICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoIm5vIC5naXQg
aW4gJXMiICUgcm9vdCkKICAgICAgICByZXR1cm4ge30KCiAgICBHSVRTID0g
WyJnaXQiXQogICAgaWYgc3lzLnBsYXRmb3JtID09ICJ3aW4zMiI6CiAgICAg
ICAgR0lUUyA9IFsiZ2l0LmNtZCIsICJnaXQuZXhlIl0KICAgIHN0ZG91dCA9
IHJ1bl9jb21tYW5kKEdJVFMsIFsiZGVzY3JpYmUiLCAiLS10YWdzIiwgIi0t
ZGlydHkiLCAiLS1hbHdheXMiXSwKICAgICAgICAgICAgICAgICAgICAgICAg
IGN3ZD1yb290KQogICAgaWYgc3Rkb3V0IGlzIE5vbmU6CiAgICAgICAgcmV0
dXJuIHt9CiAgICBpZiBub3Qgc3Rkb3V0LnN0YXJ0c3dpdGgodGFnX3ByZWZp
eCk6CiAgICAgICAgaWYgdmVyYm9zZToKICAgICAgICAgICAgZm10ID0gInRh
ZyAnJXMnIGRvZXNuJ3Qgc3RhcnQgd2l0aCBwcmVmaXggJyVzJyIKICAgICAg
ICAgICAgcHJpbnQoZm10ICUgKHN0ZG91dCwgdGFnX3ByZWZpeCkpCiAgICAg
ICAgcmV0dXJuIHt9CiAgICB0YWcgPSBzdGRvdXRbbGVuKHRhZ19wcmVmaXgp
Ol0KICAgIHN0ZG91dCA9IHJ1bl9jb21tYW5kKEdJVFMsIFsicmV2LXBhcnNl
IiwgIkhFQUQiXSwgY3dkPXJvb3QpCiAgICBpZiBzdGRvdXQgaXMgTm9uZToK
ICAgICAgICByZXR1cm4ge30KICAgIGZ1bGwgPSBzdGRvdXQuc3RyaXAoKQog
ICAgaWYgdGFnLmVuZHN3aXRoKCItZGlydHkiKToKICAgICAgICBmdWxsICs9
ICItZGlydHkiCiAgICByZXR1cm4geyJ2ZXJzaW9uIjogdGFnLCAiZnVsbCI6
IGZ1bGx9CgoKZGVmIGRvX3Zjc19pbnN0YWxsKG1hbmlmZXN0X2luLCB2ZXJz
aW9uZmlsZV9zb3VyY2UsIGlweSk6CiAgICBHSVRTID0gWyJnaXQiXQogICAg
aWYgc3lzLnBsYXRmb3JtID09ICJ3aW4zMiI6CiAgICAgICAgR0lUUyA9IFsi
Z2l0LmNtZCIsICJnaXQuZXhlIl0KICAgIGZpbGVzID0gW21hbmlmZXN0X2lu
LCB2ZXJzaW9uZmlsZV9zb3VyY2VdCiAgICBpZiBpcHk6CiAgICAgICAgZmls
ZXMuYXBwZW5kKGlweSkKICAgIHRyeToKICAgICAgICBtZSA9IF9fZmlsZV9f
CiAgICAgICAgaWYgbWUuZW5kc3dpdGgoIi5weWMiKSBvciBtZS5lbmRzd2l0
aCgiLnB5byIpOgogICAgICAgICAgICBtZSA9IG9zLnBhdGguc3BsaXRleHQo
bWUpWzBdICsgIi5weSIKICAgICAgICB2ZXJzaW9uZWVyX2ZpbGUgPSBvcy5w
YXRoLnJlbHBhdGgobWUpCiAgICBleGNlcHQgTmFtZUVycm9yOgogICAgICAg
IHZlcnNpb25lZXJfZmlsZSA9ICJ2ZXJzaW9uZWVyLnB5IgogICAgZmlsZXMu
YXBwZW5kKHZlcnNpb25lZXJfZmlsZSkKICAgIHByZXNlbnQgPSBGYWxzZQog
ICAgdHJ5OgogICAgICAgIGYgPSBvcGVuKCIuZ2l0YXR0cmlidXRlcyIsICJy
IikKICAgICAgICBmb3IgbGluZSBpbiBmLnJlYWRsaW5lcygpOgogICAgICAg
ICAgICBpZiBsaW5lLnN0cmlwKCkuc3RhcnRzd2l0aCh2ZXJzaW9uZmlsZV9z
b3VyY2UpOgogICAgICAgICAgICAgICAgaWYgImV4cG9ydC1zdWJzdCIgaW4g
bGluZS5zdHJpcCgpLnNwbGl0KClbMTpdOgogICAgICAgICAgICAgICAgICAg
IHByZXNlbnQgPSBUcnVlCiAgICAgICAgZi5jbG9zZSgpCiAgICBleGNlcHQg
RW52aXJvbm1lbnRFcnJvcjoKICAgICAgICBwYXNzCiAgICBpZiBub3QgcHJl
c2VudDoKICAgICAgICBmID0gb3BlbigiLmdpdGF0dHJpYnV0ZXMiLCAiYSsi
KQogICAgICAgIGYud3JpdGUoIiVzIGV4cG9ydC1zdWJzdFxuIiAlIHZlcnNp
b25maWxlX3NvdXJjZSkKICAgICAgICBmLmNsb3NlKCkKICAgICAgICBmaWxl
cy5hcHBlbmQoIi5naXRhdHRyaWJ1dGVzIikKICAgIHJ1bl9jb21tYW5kKEdJ
VFMsIFsiYWRkIiwgIi0tIl0gKyBmaWxlcykKCmRlZiB2ZXJzaW9uc19mcm9t
X3BhcmVudGRpcihwYXJlbnRkaXJfcHJlZml4LCByb290LCB2ZXJib3NlPUZh
bHNlKToKICAgICMgU291cmNlIHRhcmJhbGxzIGNvbnZlbnRpb25hbGx5IHVu
cGFjayBpbnRvIGEgZGlyZWN0b3J5IHRoYXQgaW5jbHVkZXMKICAgICMgYm90
aCB0aGUgcHJvamVjdCBuYW1lIGFuZCBhIHZlcnNpb24gc3RyaW5nLgogICAg
ZGlybmFtZSA9IG9zLnBhdGguYmFzZW5hbWUocm9vdCkKICAgIGlmIG5vdCBk
aXJuYW1lLnN0YXJ0c3dpdGgocGFyZW50ZGlyX3ByZWZpeCk6CiAgICAgICAg
aWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoImd1ZXNzaW5nIHJvb3Rk
aXIgaXMgJyVzJywgYnV0ICclcycgZG9lc24ndCBzdGFydCB3aXRoICIKICAg
ICAgICAgICAgICAgICAgInByZWZpeCAnJXMnIiAlIChyb290LCBkaXJuYW1l
LCBwYXJlbnRkaXJfcHJlZml4KSkKICAgICAgICByZXR1cm4gTm9uZQogICAg
cmV0dXJuIHsidmVyc2lvbiI6IGRpcm5hbWVbbGVuKHBhcmVudGRpcl9wcmVm
aXgpOl0sICJmdWxsIjogIiJ9CgpTSE9SVF9WRVJTSU9OX1BZID0gIiIiCiMg
VGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgJ3ZlcnNpb25lZXIucHknICgw
LjEzKSBmcm9tCiMgcmV2aXNpb24tY29udHJvbCBzeXN0ZW0gZGF0YSwgb3Ig
ZnJvbSB0aGUgcGFyZW50IGRpcmVjdG9yeSBuYW1lIG9mIGFuCiMgdW5wYWNr
ZWQgc291cmNlIGFyY2hpdmUuIERpc3RyaWJ1dGlvbiB0YXJiYWxscyBjb250
YWluIGEgcHJlLWdlbmVyYXRlZCBjb3B5CiMgb2YgdGhpcyBmaWxlLgoKdmVy
c2lvbl92ZXJzaW9uID0gJyUodmVyc2lvbilzJwp2ZXJzaW9uX2Z1bGwgPSAn
JShmdWxsKXMnCmRlZiBnZXRfdmVyc2lvbnMoZGVmYXVsdD17fSwgdmVyYm9z
ZT1GYWxzZSk6CiAgICByZXR1cm4geyd2ZXJzaW9uJzogdmVyc2lvbl92ZXJz
aW9uLCAnZnVsbCc6IHZlcnNpb25fZnVsbH0KCiIiIgoKREVGQVVMVCA9IHsi
dmVyc2lvbiI6ICJ1bmtub3duIiwgImZ1bGwiOiAidW5rbm93biJ9CgpkZWYg
dmVyc2lvbnNfZnJvbV9maWxlKGZpbGVuYW1lKToKICAgIHZlcnNpb25zID0g
e30KICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4oZmlsZW5hbWUpIGFzIGY6
CiAgICAgICAgICAgIGZvciBsaW5lIGluIGYucmVhZGxpbmVzKCk6CiAgICAg
ICAgICAgICAgICBtbyA9IHJlLm1hdGNoKCJ2ZXJzaW9uX3ZlcnNpb24gPSAn
KFteJ10rKSciLCBsaW5lKQogICAgICAgICAgICAgICAgaWYgbW86CiAgICAg
ICAgICAgICAgICAgICAgdmVyc2lvbnNbInZlcnNpb24iXSA9IG1vLmdyb3Vw
KDEpCiAgICAgICAgICAgICAgICBtbyA9IHJlLm1hdGNoKCJ2ZXJzaW9uX2Z1
bGwgPSAnKFteJ10rKSciLCBsaW5lKQogICAgICAgICAgICAgICAgaWYgbW86
CiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbnNbImZ1bGwiXSA9IG1vLmdy
b3VwKDEpCiAgICBleGNlcHQgRW52aXJvbm1lbnRFcnJvcjoKICAgICAgICBy
ZXR1cm4ge30KCiAgICByZXR1cm4gdmVyc2lvbnMKCmRlZiB3cml0ZV90b192
ZXJzaW9uX2ZpbGUoZmlsZW5hbWUsIHZlcnNpb25zKToKICAgIHdpdGggb3Bl
bihmaWxlbmFtZSwgInciKSBhcyBmOgogICAgICAgIGYud3JpdGUoU0hPUlRf
VkVSU0lPTl9QWSAlIHZlcnNpb25zKQoKICAgIHByaW50KCJzZXQgJXMgdG8g
JyVzJyIgJSAoZmlsZW5hbWUsIHZlcnNpb25zWyJ2ZXJzaW9uIl0pKQoKCmRl
ZiBnZXRfcm9vdCgpOgogICAgdHJ5OgogICAgICAgIHJldHVybiBvcy5wYXRo
LmRpcm5hbWUob3MucGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkKICAgIGV4Y2Vw
dCBOYW1lRXJyb3I6CiAgICAgICAgcmV0dXJuIG9zLnBhdGguZGlybmFtZShv
cy5wYXRoLmFic3BhdGgoc3lzLmFyZ3ZbMF0pKQoKZGVmIHZjc19mdW5jdGlv
bih2Y3MsIHN1ZmZpeCk6CiAgICByZXR1cm4gZ2V0YXR0cihzeXMubW9kdWxl
c1tfX25hbWVfX10sICclc18lcycgJSAodmNzLCBzdWZmaXgpLCBOb25lKQoK
ZGVmIGdldF92ZXJzaW9ucyhkZWZhdWx0PURFRkFVTFQsIHZlcmJvc2U9RmFs
c2UpOgogICAgIyByZXR1cm5zIGRpY3Qgd2l0aCB0d28ga2V5czogJ3ZlcnNp
b24nIGFuZCAnZnVsbCcKICAgIGFzc2VydCB2ZXJzaW9uZmlsZV9zb3VyY2Ug
aXMgbm90IE5vbmUsICJwbGVhc2Ugc2V0IHZlcnNpb25lZXIudmVyc2lvbmZp
bGVfc291cmNlIgogICAgYXNzZXJ0IHRhZ19wcmVmaXggaXMgbm90IE5vbmUs
ICJwbGVhc2Ugc2V0IHZlcnNpb25lZXIudGFnX3ByZWZpeCIKICAgIGFzc2Vy
dCBwYXJlbnRkaXJfcHJlZml4IGlzIG5vdCBOb25lLCAicGxlYXNlIHNldCB2
ZXJzaW9uZWVyLnBhcmVudGRpcl9wcmVmaXgiCiAgICBhc3NlcnQgVkNTIGlz
IG5vdCBOb25lLCAicGxlYXNlIHNldCB2ZXJzaW9uZWVyLlZDUyIKCiAgICAj
IEkgYW0gaW4gdmVyc2lvbmVlci5weSwgd2hpY2ggbXVzdCBsaXZlIGF0IHRo
ZSB0b3Agb2YgdGhlIHNvdXJjZSB0cmVlLAogICAgIyB3aGljaCB3ZSB1c2Ug
dG8gY29tcHV0ZSB0aGUgcm9vdCBkaXJlY3RvcnkuIHB5MmV4ZS9iYmZyZWV6
ZS9ub24tQ1B5dGhvbgogICAgIyBkb24ndCBoYXZlIF9fZmlsZV9fLCBpbiB3
aGljaCBjYXNlIHdlIGZhbGwgYmFjayB0byBzeXMuYXJndlswXSAod2hpY2gK
ICAgICMgb3VnaHQgdG8gYmUgdGhlIHNldHVwLnB5IHNjcmlwdCkuIFdlIHBy
ZWZlciBfX2ZpbGVfXyBzaW5jZSB0aGF0J3MgbW9yZQogICAgIyByb2J1c3Qg
aW4gY2FzZXMgd2hlcmUgc2V0dXAucHkgd2FzIGludm9rZWQgaW4gc29tZSB3
ZWlyZCB3YXkgKGUuZy4gcGlwKQogICAgcm9vdCA9IGdldF9yb290KCkKICAg
IHZlcnNpb25maWxlX2FicyA9IG9zLnBhdGguam9pbihyb290LCB2ZXJzaW9u
ZmlsZV9zb3VyY2UpCgogICAgIyBleHRyYWN0IHZlcnNpb24gZnJvbSBmaXJz
dCBvZiBfdmVyc2lvbi5weSwgVkNTIGNvbW1hbmQgKGUuZy4gJ2dpdAogICAg
IyBkZXNjcmliZScpLCBwYXJlbnRkaXIuIFRoaXMgaXMgbWVhbnQgdG8gd29y
ayBmb3IgZGV2ZWxvcGVycyB1c2luZyBhCiAgICAjIHNvdXJjZSBjaGVja291
dCwgZm9yIHVzZXJzIG9mIGEgdGFyYmFsbCBjcmVhdGVkIGJ5ICdzZXR1cC5w
eSBzZGlzdCcsCiAgICAjIGFuZCBmb3IgdXNlcnMgb2YgYSB0YXJiYWxsL3pp
cGJhbGwgY3JlYXRlZCBieSAnZ2l0IGFyY2hpdmUnIG9yIGdpdGh1YidzCiAg
ICAjIGRvd25sb2FkLWZyb20tdGFnIGZlYXR1cmUgb3IgdGhlIGVxdWl2YWxl
bnQgaW4gb3RoZXIgVkNTZXMuCgogICAgZ2V0X2tleXdvcmRzX2YgPSB2Y3Nf
ZnVuY3Rpb24oVkNTLCAiZ2V0X2tleXdvcmRzIikKICAgIHZlcnNpb25zX2Zy
b21fa2V5d29yZHNfZiA9IHZjc19mdW5jdGlvbihWQ1MsICJ2ZXJzaW9uc19m
cm9tX2tleXdvcmRzIikKICAgIGlmIGdldF9rZXl3b3Jkc19mIGFuZCB2ZXJz
aW9uc19mcm9tX2tleXdvcmRzX2Y6CiAgICAgICAgdmNzX2tleXdvcmRzID0g
Z2V0X2tleXdvcmRzX2YodmVyc2lvbmZpbGVfYWJzKQogICAgICAgIHZlciA9
IHZlcnNpb25zX2Zyb21fa2V5d29yZHNfZih2Y3Nfa2V5d29yZHMsIHRhZ19w
cmVmaXgpCiAgICAgICAgaWYgdmVyOgogICAgICAgICAgICBpZiB2ZXJib3Nl
OiBwcmludCgiZ290IHZlcnNpb24gZnJvbSBleHBhbmRlZCBrZXl3b3JkICVz
IiAlIHZlcikKICAgICAgICAgICAgcmV0dXJuIHZlcgoKICAgIHZlciA9IHZl
cnNpb25zX2Zyb21fZmlsZSh2ZXJzaW9uZmlsZV9hYnMpCiAgICBpZiB2ZXI6
CiAgICAgICAgaWYgdmVyYm9zZTogcHJpbnQoImdvdCB2ZXJzaW9uIGZyb20g
ZmlsZSAlcyAlcyIgJSAodmVyc2lvbmZpbGVfYWJzLHZlcikpCiAgICAgICAg
cmV0dXJuIHZlcgoKICAgIHZlcnNpb25zX2Zyb21fdmNzX2YgPSB2Y3NfZnVu
Y3Rpb24oVkNTLCAidmVyc2lvbnNfZnJvbV92Y3MiKQogICAgaWYgdmVyc2lv
bnNfZnJvbV92Y3NfZjoKICAgICAgICB2ZXIgPSB2ZXJzaW9uc19mcm9tX3Zj
c19mKHRhZ19wcmVmaXgsIHJvb3QsIHZlcmJvc2UpCiAgICAgICAgaWYgdmVy
OgogICAgICAgICAgICBpZiB2ZXJib3NlOiBwcmludCgiZ290IHZlcnNpb24g
ZnJvbSBWQ1MgJXMiICUgdmVyKQogICAgICAgICAgICByZXR1cm4gdmVyCgog
ICAgdmVyID0gdmVyc2lvbnNfZnJvbV9wYXJlbnRkaXIocGFyZW50ZGlyX3By
ZWZpeCwgcm9vdCwgdmVyYm9zZSkKICAgIGlmIHZlcjoKICAgICAgICBpZiB2
ZXJib3NlOiBwcmludCgiZ290IHZlcnNpb24gZnJvbSBwYXJlbnRkaXIgJXMi
ICUgdmVyKQogICAgICAgIHJldHVybiB2ZXIKCiAgICBpZiB2ZXJib3NlOiBw
cmludCgiZ290IHZlcnNpb24gZnJvbSBkZWZhdWx0ICVzIiAlIGRlZmF1bHQp
CiAgICByZXR1cm4gZGVmYXVsdAoKZGVmIGdldF92ZXJzaW9uKHZlcmJvc2U9
RmFsc2UpOgogICAgcmV0dXJuIGdldF92ZXJzaW9ucyh2ZXJib3NlPXZlcmJv
c2UpWyJ2ZXJzaW9uIl0KCmNsYXNzIGNtZF92ZXJzaW9uKENvbW1hbmQpOgog
ICAgZGVzY3JpcHRpb24gPSAicmVwb3J0IGdlbmVyYXRlZCB2ZXJzaW9uIHN0
cmluZyIKICAgIHVzZXJfb3B0aW9ucyA9IFtdCiAgICBib29sZWFuX29wdGlv
bnMgPSBbXQogICAgZGVmIGluaXRpYWxpemVfb3B0aW9ucyhzZWxmKToKICAg
ICAgICBwYXNzCiAgICBkZWYgZmluYWxpemVfb3B0aW9ucyhzZWxmKToKICAg
ICAgICBwYXNzCiAgICBkZWYgcnVuKHNlbGYpOgogICAgICAgIHZlciA9IGdl
dF92ZXJzaW9uKHZlcmJvc2U9VHJ1ZSkKICAgICAgICBwcmludCgiVmVyc2lv
biBpcyBjdXJyZW50bHk6ICVzIiAlIHZlcikKCgpjbGFzcyBjbWRfYnVpbGQo
X2J1aWxkKToKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgdmVyc2lvbnMg
PSBnZXRfdmVyc2lvbnModmVyYm9zZT1UcnVlKQogICAgICAgIF9idWlsZC5y
dW4oc2VsZikKICAgICAgICAjIG5vdyBsb2NhdGUgX3ZlcnNpb24ucHkgaW4g
dGhlIG5ldyBidWlsZC8gZGlyZWN0b3J5IGFuZCByZXBsYWNlIGl0CiAgICAg
ICAgIyB3aXRoIGFuIHVwZGF0ZWQgdmFsdWUKICAgICAgICBpZiB2ZXJzaW9u
ZmlsZV9idWlsZDoKICAgICAgICAgICAgdGFyZ2V0X3ZlcnNpb25maWxlID0g
b3MucGF0aC5qb2luKHNlbGYuYnVpbGRfbGliLCB2ZXJzaW9uZmlsZV9idWls
ZCkKICAgICAgICAgICAgcHJpbnQoIlVQREFUSU5HICVzIiAlIHRhcmdldF92
ZXJzaW9uZmlsZSkKICAgICAgICAgICAgb3MudW5saW5rKHRhcmdldF92ZXJz
aW9uZmlsZSkKICAgICAgICAgICAgd2l0aCBvcGVuKHRhcmdldF92ZXJzaW9u
ZmlsZSwgInciKSBhcyBmOgogICAgICAgICAgICAgICAgZi53cml0ZShTSE9S
VF9WRVJTSU9OX1BZICUgdmVyc2lvbnMpCgppZiAnY3hfRnJlZXplJyBpbiBz
eXMubW9kdWxlczogICMgY3hfZnJlZXplIGVuYWJsZWQ/CiAgICBmcm9tIGN4
X0ZyZWV6ZS5kaXN0IGltcG9ydCBidWlsZF9leGUgYXMgX2J1aWxkX2V4ZQoK
ICAgIGNsYXNzIGNtZF9idWlsZF9leGUoX2J1aWxkX2V4ZSk6CiAgICAgICAg
ZGVmIHJ1bihzZWxmKToKICAgICAgICAgICAgdmVyc2lvbnMgPSBnZXRfdmVy
c2lvbnModmVyYm9zZT1UcnVlKQogICAgICAgICAgICB0YXJnZXRfdmVyc2lv
bmZpbGUgPSB2ZXJzaW9uZmlsZV9zb3VyY2UKICAgICAgICAgICAgcHJpbnQo
IlVQREFUSU5HICVzIiAlIHRhcmdldF92ZXJzaW9uZmlsZSkKICAgICAgICAg
ICAgb3MudW5saW5rKHRhcmdldF92ZXJzaW9uZmlsZSkKICAgICAgICAgICAg
d2l0aCBvcGVuKHRhcmdldF92ZXJzaW9uZmlsZSwgInciKSBhcyBmOgogICAg
ICAgICAgICAgICAgZi53cml0ZShTSE9SVF9WRVJTSU9OX1BZICUgdmVyc2lv
bnMpCgogICAgICAgICAgICBfYnVpbGRfZXhlLnJ1bihzZWxmKQogICAgICAg
ICAgICBvcy51bmxpbmsodGFyZ2V0X3ZlcnNpb25maWxlKQogICAgICAgICAg
ICB3aXRoIG9wZW4odmVyc2lvbmZpbGVfc291cmNlLCAidyIpIGFzIGY6CiAg
ICAgICAgICAgICAgICBhc3NlcnQgVkNTIGlzIG5vdCBOb25lLCAicGxlYXNl
IHNldCB2ZXJzaW9uZWVyLlZDUyIKICAgICAgICAgICAgICAgIExPTkcgPSBM
T05HX1ZFUlNJT05fUFlbVkNTXQogICAgICAgICAgICAgICAgZi53cml0ZShM
T05HICUgeyJET0xMQVIiOiAiJCIsCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIlRBR19QUkVGSVgiOiB0YWdfcHJlZml4LAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICJQQVJFTlRESVJfUFJFRklYIjogcGFy
ZW50ZGlyX3ByZWZpeCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAiVkVSU0lPTkZJTEVfU09VUkNFIjogdmVyc2lvbmZpbGVfc291cmNlLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCgpjbGFzcyBjbWRf
c2Rpc3QoX3NkaXN0KToKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgdmVy
c2lvbnMgPSBnZXRfdmVyc2lvbnModmVyYm9zZT1UcnVlKQogICAgICAgIHNl
bGYuX3ZlcnNpb25lZXJfZ2VuZXJhdGVkX3ZlcnNpb25zID0gdmVyc2lvbnMK
ICAgICAgICAjIHVubGVzcyB3ZSB1cGRhdGUgdGhpcywgdGhlIGNvbW1hbmQg
d2lsbCBrZWVwIHVzaW5nIHRoZSBvbGQgdmVyc2lvbgogICAgICAgIHNlbGYu
ZGlzdHJpYnV0aW9uLm1ldGFkYXRhLnZlcnNpb24gPSB2ZXJzaW9uc1sidmVy
c2lvbiJdCiAgICAgICAgcmV0dXJuIF9zZGlzdC5ydW4oc2VsZikKCiAgICBk
ZWYgbWFrZV9yZWxlYXNlX3RyZWUoc2VsZiwgYmFzZV9kaXIsIGZpbGVzKToK
ICAgICAgICBfc2Rpc3QubWFrZV9yZWxlYXNlX3RyZWUoc2VsZiwgYmFzZV9k
aXIsIGZpbGVzKQogICAgICAgICMgbm93IGxvY2F0ZSBfdmVyc2lvbi5weSBp
biB0aGUgbmV3IGJhc2VfZGlyIGRpcmVjdG9yeSAocmVtZW1iZXJpbmcKICAg
ICAgICAjIHRoYXQgaXQgbWF5IGJlIGEgaGFyZGxpbmspIGFuZCByZXBsYWNl
IGl0IHdpdGggYW4gdXBkYXRlZCB2YWx1ZQogICAgICAgIHRhcmdldF92ZXJz
aW9uZmlsZSA9IG9zLnBhdGguam9pbihiYXNlX2RpciwgdmVyc2lvbmZpbGVf
c291cmNlKQogICAgICAgIHByaW50KCJVUERBVElORyAlcyIgJSB0YXJnZXRf
dmVyc2lvbmZpbGUpCiAgICAgICAgb3MudW5saW5rKHRhcmdldF92ZXJzaW9u
ZmlsZSkKICAgICAgICB3aXRoIG9wZW4odGFyZ2V0X3ZlcnNpb25maWxlLCAi
dyIpIGFzIGY6CiAgICAgICAgICAgIGYud3JpdGUoU0hPUlRfVkVSU0lPTl9Q
WSAlIHNlbGYuX3ZlcnNpb25lZXJfZ2VuZXJhdGVkX3ZlcnNpb25zKQoKSU5J
VF9QWV9TTklQUEVUID0gIiIiCmZyb20gLl92ZXJzaW9uIGltcG9ydCBnZXRf
dmVyc2lvbnMKX192ZXJzaW9uX18gPSBnZXRfdmVyc2lvbnMoKVsndmVyc2lv
biddCmRlbCBnZXRfdmVyc2lvbnMKIiIiCgpjbGFzcyBjbWRfdXBkYXRlX2Zp
bGVzKENvbW1hbmQpOgogICAgZGVzY3JpcHRpb24gPSAiaW5zdGFsbC91cGdy
YWRlIFZlcnNpb25lZXIgZmlsZXM6IF9faW5pdF9fLnB5IFNSQy9fdmVyc2lv
bi5weSIKICAgIHVzZXJfb3B0aW9ucyA9IFtdCiAgICBib29sZWFuX29wdGlv
bnMgPSBbXQogICAgZGVmIGluaXRpYWxpemVfb3B0aW9ucyhzZWxmKToKICAg
ICAgICBwYXNzCiAgICBkZWYgZmluYWxpemVfb3B0aW9ucyhzZWxmKToKICAg
ICAgICBwYXNzCiAgICBkZWYgcnVuKHNlbGYpOgogICAgICAgIHByaW50KCIg
Y3JlYXRpbmcgJXMiICUgdmVyc2lvbmZpbGVfc291cmNlKQogICAgICAgIHdp
dGggb3Blbih2ZXJzaW9uZmlsZV9zb3VyY2UsICJ3IikgYXMgZjoKICAgICAg
ICAgICAgYXNzZXJ0IFZDUyBpcyBub3QgTm9uZSwgInBsZWFzZSBzZXQgdmVy
c2lvbmVlci5WQ1MiCiAgICAgICAgICAgIExPTkcgPSBMT05HX1ZFUlNJT05f
UFlbVkNTXQogICAgICAgICAgICBmLndyaXRlKExPTkcgJSB7IkRPTExBUiI6
ICIkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUQUdfUFJFRklY
IjogdGFnX3ByZWZpeCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQ
QVJFTlRESVJfUFJFRklYIjogcGFyZW50ZGlyX3ByZWZpeCwKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICJWRVJTSU9ORklMRV9TT1VSQ0UiOiB2ZXJz
aW9uZmlsZV9zb3VyY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9
KQoKICAgICAgICBpcHkgPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJuYW1l
KHZlcnNpb25maWxlX3NvdXJjZSksICJfX2luaXRfXy5weSIpCiAgICAgICAg
aWYgb3MucGF0aC5leGlzdHMoaXB5KToKICAgICAgICAgICAgdHJ5OgogICAg
ICAgICAgICAgICAgd2l0aCBvcGVuKGlweSwgInIiKSBhcyBmOgogICAgICAg
ICAgICAgICAgICAgIG9sZCA9IGYucmVhZCgpCiAgICAgICAgICAgIGV4Y2Vw
dCBFbnZpcm9ubWVudEVycm9yOgogICAgICAgICAgICAgICAgb2xkID0gIiIK
ICAgICAgICAgICAgaWYgSU5JVF9QWV9TTklQUEVUIG5vdCBpbiBvbGQ6CiAg
ICAgICAgICAgICAgICBwcmludCgiIGFwcGVuZGluZyB0byAlcyIgJSBpcHkp
CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oaXB5LCAiYSIpIGFzIGY6CiAg
ICAgICAgICAgICAgICAgICAgZi53cml0ZShJTklUX1BZX1NOSVBQRVQpCiAg
ICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludCgiICVzIHVu
bW9kaWZpZWQiICUgaXB5KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBy
aW50KCIgJXMgZG9lc24ndCBleGlzdCwgb2siICUgaXB5KQogICAgICAgICAg
ICBpcHkgPSBOb25lCgogICAgICAgICMgTWFrZSBzdXJlIGJvdGggdGhlIHRv
cC1sZXZlbCAidmVyc2lvbmVlci5weSIgYW5kIHZlcnNpb25maWxlX3NvdXJj
ZQogICAgICAgICMgKFBLRy9fdmVyc2lvbi5weSwgdXNlZCBieSBydW50aW1l
IGNvZGUpIGFyZSBpbiBNQU5JRkVTVC5pbiwgc28KICAgICAgICAjIHRoZXkn
bGwgYmUgY29waWVkIGludG8gc291cmNlIGRpc3RyaWJ1dGlvbnMuIFBpcCB3
b24ndCBiZSBhYmxlIHRvCiAgICAgICAgIyBpbnN0YWxsIHRoZSBwYWNrYWdl
IHdpdGhvdXQgdGhpcy4KICAgICAgICBtYW5pZmVzdF9pbiA9IG9zLnBhdGgu
am9pbihnZXRfcm9vdCgpLCAiTUFOSUZFU1QuaW4iKQogICAgICAgIHNpbXBs
ZV9pbmNsdWRlcyA9IHNldCgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3
aXRoIG9wZW4obWFuaWZlc3RfaW4sICJyIikgYXMgZjoKICAgICAgICAgICAg
ICAgIGZvciBsaW5lIGluIGY6CiAgICAgICAgICAgICAgICAgICAgaWYgbGlu
ZS5zdGFydHN3aXRoKCJpbmNsdWRlICIpOgogICAgICAgICAgICAgICAgICAg
ICAgICBmb3IgaW5jbHVkZSBpbiBsaW5lLnNwbGl0KClbMTpdOgogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc2ltcGxlX2luY2x1ZGVzLmFkZChpbmNs
dWRlKQogICAgICAgIGV4Y2VwdCBFbnZpcm9ubWVudEVycm9yOgogICAgICAg
ICAgICBwYXNzCiAgICAgICAgIyBUaGF0IGRvZXNuJ3QgY292ZXIgZXZlcnl0
aGluZyBNQU5JRkVTVC5pbiBjYW4gZG8KICAgICAgICAjIChodHRwOi8vZG9j
cy5weXRob24ub3JnLzIvZGlzdHV0aWxzL3NvdXJjZWRpc3QuaHRtbCNjb21t
YW5kcyksIHNvCiAgICAgICAgIyBpdCBtaWdodCBnaXZlIHNvbWUgZmFsc2Ug
bmVnYXRpdmVzLiBBcHBlbmRpbmcgcmVkdW5kYW50ICdpbmNsdWRlJwogICAg
ICAgICMgbGluZXMgaXMgc2FmZSwgdGhvdWdoLgogICAgICAgIGlmICJ2ZXJz
aW9uZWVyLnB5IiBub3QgaW4gc2ltcGxlX2luY2x1ZGVzOgogICAgICAgICAg
ICBwcmludCgiIGFwcGVuZGluZyAndmVyc2lvbmVlci5weScgdG8gTUFOSUZF
U1QuaW4iKQogICAgICAgICAgICB3aXRoIG9wZW4obWFuaWZlc3RfaW4sICJh
IikgYXMgZjoKICAgICAgICAgICAgICAgIGYud3JpdGUoImluY2x1ZGUgdmVy
c2lvbmVlci5weVxuIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmlu
dCgiICd2ZXJzaW9uZWVyLnB5JyBhbHJlYWR5IGluIE1BTklGRVNULmluIikK
ICAgICAgICBpZiB2ZXJzaW9uZmlsZV9zb3VyY2Ugbm90IGluIHNpbXBsZV9p
bmNsdWRlczoKICAgICAgICAgICAgcHJpbnQoIiBhcHBlbmRpbmcgdmVyc2lv
bmZpbGVfc291cmNlICgnJXMnKSB0byBNQU5JRkVTVC5pbiIgJQogICAgICAg
ICAgICAgICAgICB2ZXJzaW9uZmlsZV9zb3VyY2UpCiAgICAgICAgICAgIHdp
dGggb3BlbihtYW5pZmVzdF9pbiwgImEiKSBhcyBmOgogICAgICAgICAgICAg
ICAgZi53cml0ZSgiaW5jbHVkZSAlc1xuIiAlIHZlcnNpb25maWxlX3NvdXJj
ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgiIHZlcnNpb25m
aWxlX3NvdXJjZSBhbHJlYWR5IGluIE1BTklGRVNULmluIikKCiAgICAgICAg
IyBNYWtlIFZDUy1zcGVjaWZpYyBjaGFuZ2VzLiBGb3IgZ2l0LCB0aGlzIG1l
YW5zIGNyZWF0aW5nL2NoYW5naW5nCiAgICAgICAgIyAuZ2l0YXR0cmlidXRl
cyB0byBtYXJrIF92ZXJzaW9uLnB5IGZvciBleHBvcnQtdGltZSBrZXl3b3Jk
CiAgICAgICAgIyBzdWJzdGl0dXRpb24uCiAgICAgICAgZG9fdmNzX2luc3Rh
bGwobWFuaWZlc3RfaW4sIHZlcnNpb25maWxlX3NvdXJjZSwgaXB5KQoKZGVm
IGdldF9jbWRjbGFzcygpOgogICAgY21kcyA9IHsndmVyc2lvbic6IGNtZF92
ZXJzaW9uLAogICAgICAgICAgICAndmVyc2lvbmVlcic6IGNtZF91cGRhdGVf
ZmlsZXMsCiAgICAgICAgICAgICdidWlsZCc6IGNtZF9idWlsZCwKICAgICAg
ICAgICAgJ3NkaXN0JzogY21kX3NkaXN0LAogICAgICAgICAgICB9CiAgICBp
ZiAnY3hfRnJlZXplJyBpbiBzeXMubW9kdWxlczogICMgY3hfZnJlZXplIGVu
YWJsZWQ/CiAgICAgICAgY21kc1snYnVpbGRfZXhlJ10gPSBjbWRfYnVpbGRf
ZXhlCiAgICAgICAgZGVsIGNtZHNbJ2J1aWxkJ10KCiAgICByZXR1cm4gY21k
cwo=

"""

v = base64.b64decode(VERSIONEER_b64)
if os.path.exists("versioneer.py"):
    print("overwriting existing versioneer.py")
with open("versioneer.py", "wb") as f:
    f.write(v)
print("versioneer.py (0.13) installed into local tree")
print("Now please follow instructions in the docstring.")



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>User Guide &mdash; Terrarium 1.0.0-rc.5 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Terrarium 1.0.0-rc.5 documentation" href="index.html"/>
        <link rel="next" title="Development" href="development.html"/>
        <link rel="prev" title="Quick Start" href="quickstart.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Terrarium</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#python-os-support">Python &amp; OS Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#install-using-pip">Install using pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#upgrade-using-pip">Upgrade using pip</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#creating-a-new-environment">Creating a new environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#replacing-an-existing-environment">Replacing an existing environment</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-new-environment">Creating a new environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#replacing-an-existing-environment">Replacing an existing environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#saving-and-using-environment-archives">Saving and using environment archives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips">Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="development.html#installing-requirements">Installing requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#building-the-documentation-locally">Building the documentation locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#running-tests">Running tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#getting-involved">Getting involved</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#release-process">Release process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Terrarium</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>User Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/user_guide.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="user-guide">
<h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<div class="highlight-shell-session"><div class="highlight"><pre><span class="go">terrarium [options] COMMAND [requirements files...]</span>
</pre></div>
</div>
<p>See <tt class="docutils literal"><span class="pre">terrarium</span> <span class="pre">--help</span></tt> for a complete list of options and commands.</p>
<div class="section" id="creating-a-new-environment">
<h2>Creating a new environment<a class="headerlink" href="#creating-a-new-environment" title="Permalink to this headline">¶</a></h2>
<p>The following example will create a new virtual environment named <tt class="docutils literal"><span class="pre">env</span></tt> that
includes the packages defined in <tt class="docutils literal"><span class="pre">requirements.txt</span></tt></p>
<div class="highlight-shell-session"><div class="highlight"><pre><span class="go">$ terrarium --target env install requirements.txt</span>
</pre></div>
</div>
</div>
<div class="section" id="replacing-an-existing-environment">
<h2>Replacing an existing environment<a class="headerlink" href="#replacing-an-existing-environment" title="Permalink to this headline">¶</a></h2>
<p>The following example demonstrates how terrarium can be used to replace an
existing activated virtual environment with a different set of packages.</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span class="go">$ terrarium --target env install requirements.txt</span>
<span class="go">$ source env/bin/activate</span>
<span class="go">$ terrarium install other_requirements.txt</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The environment that was replaced is renamed to <tt class="docutils literal"><span class="pre">env.bak</span></tt>,
and can be restored using <tt class="docutils literal"><span class="pre">terrarium</span> <span class="pre">revert</span></tt>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">After installing the <tt class="docutils literal"><span class="pre">other_requirements</span></tt>,
it is not necessary to run <tt class="docutils literal"><span class="pre">deactivate</span></tt>
or <tt class="docutils literal"><span class="pre">activate</span></tt>
to begin using the new environment.</p>
</div>
</div>
<div class="section" id="saving-and-using-environment-archives">
<h2>Saving and using environment archives<a class="headerlink" href="#saving-and-using-environment-archives" title="Permalink to this headline">¶</a></h2>
<p>Terrarium provides options for archiving and compressing
a freshly installed
and built environment,
either locally or remotely (via Amazon S3).</p>
<p>When these options are used,
terrarium will first check if the environment has already been saved.
In that case,
terrarium will download the environment archive instead of downloading
and building each individual package specified in the requirements files.</p>
<div class="section" id="storing-terrarium-environments-locally">
<h3>Storing terrarium environments locally<a class="headerlink" href="#storing-terrarium-environments-locally" title="Permalink to this headline">¶</a></h3>
<p>Storing terrarium environments locally (or on a shared network disk)
can be achieved using the <tt class="docutils literal"><span class="pre">--storage-dir</span></tt> option.</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span class="go">$ terrarium --target env --storage-dir path/to/environments install requirements.txt</span>
</pre></div>
</div>
<p>After building a fresh environment from the requirements in <tt class="docutils literal"><span class="pre">requirements.txt</span></tt>,
terrarium will archive and compress the environment.
Finally,
the compressed version is then copied to the path specified by <tt class="docutils literal"><span class="pre">--storage-dir</span></tt>.</p>
</div>
<div class="section" id="storing-terrarium-environments-on-s3">
<h3>Storing terrarium environments on S3<a class="headerlink" href="#storing-terrarium-environments-on-s3" title="Permalink to this headline">¶</a></h3>
<p>Terrarium also supports storing and retrieving archives stored on Amazon S3.
The following options are only available if <tt class="docutils literal"><span class="pre">boto</span></tt> is installed.</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">--s3-bucket</span></tt></li>
<li><tt class="docutils literal"><span class="pre">--s3-access-key</span></tt></li>
<li><tt class="docutils literal"><span class="pre">--s3-secret-key</span></tt></li>
<li><tt class="docutils literal"><span class="pre">--s3-max-retries</span></tt></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each of the above options can be specified using environment variables,
e.g. <tt class="docutils literal"><span class="pre">S3_BUCKET</span></tt>
instead of being passed in as a parameter.</p>
</div>
</div>
</div>
<div class="section" id="tips">
<h2>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-an-alternative-index-server">
<h3>Using an alternative index server<a class="headerlink" href="#using-an-alternative-index-server" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;re using an index server other than PyPI
(perhaps an index server with internal-only packages),
then you need to be able to tell terrarium to use that index URL.
Terrarium does not have the
<tt class="docutils literal"><span class="pre">-i</span></tt> (<tt class="docutils literal"><span class="pre">--index-url</span></tt>)
option that pip has,
so how do you indicate the index URL?
Well, you may recall that pip requirements files can also contain command-line options...
So add a line like this to one of your requirements files:</p>
<div class="highlight-python"><div class="highlight"><pre>--index-url http://internal-index-server.corp/index
</pre></div>
</div>
<p>You can add a line like the above to
an existing requirements file
that has a list of packages
or you could add it to
a separate requirements file
and then add that to the terrarium command-line.</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span class="go">$ terrarium --target testenv install internal-index-server.txt requirements.txt</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="development.html" class="btn btn-neutral float-right" title="Development"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="Quick Start"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Kyle Gibson, Wes Winham.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0-rc.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
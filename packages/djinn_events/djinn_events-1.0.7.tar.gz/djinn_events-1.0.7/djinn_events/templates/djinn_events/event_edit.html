{% extends "djinn_contenttypes/base_edit.html" %}

{% load i18n bootstrap djinn_contenttypes auth_tags %}

{% block formfields %}

{{ form.title|bootstrap }}

<fieldset>
  <label class="control-label">{% trans "Start" %}</label>
  <div class="control-group hide-labels horizontal clearfix">
    {{ form.start_date|bootstrap }} {{ form.start_time|bootstrap }}
  </div>
  
  <label class="control-label">{% trans "End" %}</label>
  <div class="control-group hide-labels horizontal clearfix">
    {{ form.end_date|bootstrap }} {{ form.end_time|bootstrap }}    
  </div>
  
  <div class="control-group">
  <label class="checkbox">
    <input type="checkbox" name="djinn_events_full_day">
    {% trans "Full day" %}
  </label>
  </div>
</fieldset>

{{ form.location|bootstrap }}

{{ form.text|bootstrap }}

{{ form.link|bootstrap }}

{% endblock %}

{% block formcontrols %}
<div class="btn-group form-actions">

    <button class="btn btn-primary protected save-action" type="submit"
            value="save" name="action">
      {% trans "Save" %}
    </button>
    <button class="btn protected cancel-action" type="submit"
          value="cancel" name="action">
    {% trans "Cancel" %}
    </button>
    {% if object %}
    {% with perm=object|delete_permission_id %}
    {% ifpermission object request.user perm %}
    <a class="btn btn-danger delete-action"
       data-toggle="modal"
       href="{{ view.delete_url }}"
       data-target="#MyModal">
      {% block delete_label %}
      {% with object_name=view.ct_label %}
      {% blocktrans %}Delete this {{ object_name }}{% endblocktrans %}
      {% endwith %}
      {% endblock %}
    </a>
    {% endifpermission %}
    {% endwith %}
    {% endif %}
</div>
{% endblock %}

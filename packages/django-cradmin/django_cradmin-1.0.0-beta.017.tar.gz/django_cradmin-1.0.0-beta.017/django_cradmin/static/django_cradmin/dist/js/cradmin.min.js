(function(){angular.module("djangoCradmin.acemarkdown",[]).directive("djangoCradminAcemarkdown",function(){return{restrict:"A",transclude:!0,templateUrl:"acemarkdown/acemarkdown.tpl.html",scope:{config:"=djangoCradminAcemarkdown"},controller:function($scope){this.setEditor=function(editorScope){return $scope.editor=editorScope,$scope.editor.aceEditor.on("focus",function(){return $scope.element.addClass("cradmin-focus")}),$scope.editor.aceEditor.on("blur",function(){return $scope.element.removeClass("cradmin-focus")})},this.setTextarea=function(textareaScope){return $scope.textarea=textareaScope,$scope.editor.setValue($scope.textarea.getValue())},this.setTextAreaValue=function(value){return $scope.textarea.setValue(value)},this.focusOnEditor=function(){return $scope.editor.focus()},this.editorSurroundSelectionWith=function(options){return $scope.editor.surroundSelectionWith(options)}},link:function(scope,element){var theme;return scope.element=element,scope.config.showTextarea&&element.addClass("cradmin-acemarkdown-textareavisible"),theme=scope.config.theme,theme||(theme="tomorrow"),scope.editor.setTheme(theme)}}}).directive("djangoCradminAcemarkdownEditor",function(){return{require:"^djangoCradminAcemarkdown",restrict:"A",template:"<div></div>",scope:{},controller:function($scope){$scope.setValue=function(value){return $scope.aceEditor.getSession().setValue(value)},$scope.focus=function(){return $scope.aceEditor.focus()},$scope.setTheme=function(theme){return $scope.aceEditor.setTheme("ace/theme/"+theme)},$scope.onChange=function(){var value;return value=$scope.aceEditor.getSession().getValue(),$scope.markdownCtrl.setTextAreaValue(value)},$scope.surroundSelectionWith=function(options){var emptyText,newlines,noSelection,post,pre,selectedText,selectionRange;return pre=options.pre,post=options.post,emptyText=options.emptyText,null==emptyText&&(emptyText=""),null==pre&&(pre=""),null==post&&(post=""),selectionRange=$scope.aceEditor.getSelectionRange(),selectedText=$scope.aceEditor.session.getTextRange(selectionRange),noSelection=""===selectedText,noSelection&&(selectedText=emptyText),$scope.aceEditor.insert(""+pre+selectedText+post),noSelection&&(newlines=pre.split("\n").length-1,selectionRange.start.row+=newlines,selectionRange.end.row=selectionRange.start.row,selectionRange.start.column+=pre.length-newlines,selectionRange.end.column+=pre.length-newlines+emptyText.length,$scope.aceEditor.getSelection().setSelectionRange(selectionRange)),$scope.aceEditor.focus()}},link:function(scope,element,attrs,markdownCtrl){var session;scope.markdownCtrl=markdownCtrl,scope.aceEditor=ace.edit(element[0]),scope.aceEditor.setHighlightActiveLine(!1),scope.aceEditor.setShowPrintMargin(!1),scope.aceEditor.renderer.setShowGutter(!1),session=scope.aceEditor.getSession(),session.setMode("ace/mode/markdown"),session.setUseWrapMode(!0),session.setUseSoftTabs(!0),scope.aceEditor.on("change",function(){return scope.onChange()}),markdownCtrl.setEditor(scope)}}}).directive("djangoCradminAcemarkdownTool",function(){return{require:"^djangoCradminAcemarkdown",restrict:"A",scope:{config:"=djangoCradminAcemarkdownTool"},link:function(scope,element,attr,markdownCtrl){element.on("click",function(e){return e.preventDefault(),markdownCtrl.editorSurroundSelectionWith(scope.config)})}}}).directive("djangoCradminAcemarkdownLink",["$window",function($window){return{require:"^djangoCradminAcemarkdown",restrict:"A",scope:{config:"=djangoCradminAcemarkdownLink"},link:function(scope,element,attr,markdownCtrl){element.on("click",function(e){var url;return e.preventDefault(),url=$window.prompt(scope.config.help,""),null!=url?markdownCtrl.editorSurroundSelectionWith({pre:"[",post:"]("+url+")",emptyText:scope.config.emptyText}):void 0})}}}]).directive("djangoCradminAcemarkdownTextarea",function(){return{require:"^djangoCradminAcemarkdown",restrict:"A",scope:{},controller:function($scope){$scope.getValue=function(){return $scope.textarea.val()},$scope.setValue=function(value){return $scope.getValue()!==value?$scope.textarea.val(value):void 0}},link:function(scope,element,attrs,markdownCtrl){scope.textarea=element,scope.textarea.addClass("cradmin-acemarkdowntextarea"),scope.textarea.on("focus",function(){return markdownCtrl.focusOnEditor()}),markdownCtrl.setTextarea(scope)}}})}).call(this),function(){angular.module("djangoCradmin.bulkfileupload",["angularFileUpload","ngCookies"]).factory("cradminBulkfileupload",function(){var FileInfo,FileInfoList;return FileInfo=function(){function FileInfo(options){this.file=options.file,this.temporaryfileid=options.temporaryfileid,this.name=this.file.name,this.isRemoving=!1}return FileInfo.prototype.markAsIsRemoving=function(){return this.isRemoving=!0},FileInfo.prototype.markAsIsNotRemoving=function(){return this.isRemoving=!1},FileInfo}(),FileInfoList=function(){function FileInfoList(options){var file,_i,_len,_ref;for(this.percent=options.percent,this.finished=options.finished?!0:!1,this.hasErrors=options.hasErrors?!0:!1,this.rawFiles=options.files,this.files=[],_ref=options.files,_i=0,_len=_ref.length;_len>_i;_i++)file=_ref[_i],this.files.push(new FileInfo({temporaryfileid:null,name:file.name,file:file}));this.errors=options.errors}return FileInfoList.prototype.updatePercent=function(percent){return this.percent=percent},FileInfoList.prototype.finish=function(temporaryfiles){var index,temporaryfile,_i,_len,_results;for(this.finished=!0,index=0,_results=[],_i=0,_len=temporaryfiles.length;_len>_i;_i++)temporaryfile=temporaryfiles[_i],this.files[index].name=temporaryfile.filename,this.files[index].temporaryfileid=temporaryfile.id,_results.push(index+=1);return _results},FileInfoList.prototype.setErrors=function(errors){return this.hasErrors=!0,this.errors=errors},FileInfoList.prototype.indexOf=function(fileInfo){return this.files.indexOf(fileInfo)},FileInfoList.prototype.remove=function(index){return this.files.splice(index,1)},FileInfoList}(),{createFileInfoList:function(options){return new FileInfoList(options)}}}).directive("djangoCradminBulkfileuploadForm",[function(){return{restrict:"AE",scope:{},controller:function($scope){$scope._inProgressCounter=0,$scope._submitButtonScopes=[],$scope._setSubmitButtonsInProgress=function(){var buttonScope,_i,_len,_ref,_results;for(_ref=$scope._submitButtonScopes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)buttonScope=_ref[_i],_results.push(buttonScope.setNotInProgress());return _results},$scope._setSubmitButtonsNotInProgress=function(){var buttonScope,_i,_len,_ref,_results;for(_ref=$scope._submitButtonScopes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)buttonScope=_ref[_i],_results.push(buttonScope.setInProgress());return _results},this.addInProgress=function(){return $scope._inProgressCounter+=1,1===$scope._inProgressCounter?$scope._setSubmitButtonsInProgress():void 0},this.removeInProgress=function(){if(0===$scope._inProgressCounter)throw new Error("It should not be possible to get _inProgressCounter below 0");return $scope._inProgressCounter-=1,0===$scope._inProgressCounter?$scope._setSubmitButtonsNotInProgress():void 0},this.addSubmitButtonScope=function(submitButtonScope){return $scope._submitButtonScopes.push(submitButtonScope)}},link:function(scope,element){element.on("submit",function(evt){return 0!==scope._inProgressCounter?evt.preventDefault():void 0})}}}]).directive("djangoCradminBulkfileuploadSubmit",[function(){return{require:"^djangoCradminBulkfileuploadForm",restrict:"A",scope:!0,controller:function($scope){return $scope.inProgress=!1,$scope.setInProgress=function(){return $scope.element.prop("disabled",!1),$scope.inProgress=!1},$scope.setNotInProgress=function(){return $scope.element.prop("disabled",!0),$scope.inProgress=!0}},link:function(scope,element,attr,formController){scope.element=element,formController.addSubmitButtonScope(scope)}}}]).directive("djangoCradminBulkfileupload",["$upload","$cookies","cradminDetectize",function($upload,$cookies,cradminDetectize){return{require:"^djangoCradminBulkfileuploadForm",restrict:"AE",scope:!0,controller:function($scope){$scope.collectionid=null,$scope.cradminLastFilesSelectedByUser=[],$scope.fileUploadQueue=[],$scope.firstUploadInProgress=!1,$scope.simpleWidgetScope=null,$scope.advancedWidgetScope=null,$scope.rejectedFilesScope=null,this.setInProgressOrFinishedScope=function(inProgressOrFinishedScope){return $scope.inProgressOrFinishedScope=inProgressOrFinishedScope},this.setFileUploadFieldScope=function(fileUploadFieldScope){return $scope.fileUploadFieldScope=fileUploadFieldScope},this.setSimpleWidgetScope=function(simpleWidgetScope){return $scope.simpleWidgetScope=simpleWidgetScope,$scope._showAppropriateWidget()},this.setAdvancedWidgetScope=function(advancedWidgetScope){return $scope.advancedWidgetScope=advancedWidgetScope,$scope._showAppropriateWidget()},this.setRejectFilesScope=function(rejectedFilesScope){return $scope.rejectedFilesScope=rejectedFilesScope},this.getUploadUrl=function(){return $scope.uploadUrl},this.getCollectionId=function(){return $scope.collectionid},$scope._addFileInfoList=function(fileInfoList){return $scope.inProgressOrFinishedScope.addFileInfoList(fileInfoList)},$scope._showAppropriateWidget=function(){return $scope.advancedWidgetScope&&$scope.simpleWidgetScope?"desktop"===cradminDetectize.device.type?$scope.simpleWidgetScope.hide():$scope.advancedWidgetScope.hide():void 0},$scope.filesDropped=function(files,evt,rejectedFiles){return rejectedFiles.length>0?$scope.rejectedFilesScope.setRejectedFiles(rejectedFiles):void 0},$scope.$watch("cradminLastFilesSelectedByUser",function(){return $scope.cradminLastFilesSelectedByUser.length>0?($scope._addFilesToQueue($scope.cradminLastFilesSelectedByUser.slice()),$scope.cradminLastFilesSelectedByUser=[]):void 0}),$scope._addFilesToQueue=function(files){var progressInfo;return progressInfo=$scope.inProgressOrFinishedScope.addFileInfoList({percent:0,files:files}),$scope.fileUploadQueue.push(progressInfo),$scope.firstUploadInProgress?void 0:(null===$scope.collectionid&&($scope.firstUploadInProgress=!0),$scope._processFileUploadQueue())},$scope._onFileUploadComplete=function(){return $scope.firstUploadInProgress=!1,$scope.formController.removeInProgress(),$scope.fileUploadQueue.length>0?$scope._processFileUploadQueue():void 0},$scope._processFileUploadQueue=function(){var apidata,progressInfo;return progressInfo=$scope.fileUploadQueue.shift(),apidata=angular.extend({},$scope.apiparameters,{collectionid:$scope.collectionid}),$scope.formController.addInProgress(),$scope.upload=$upload.upload({url:$scope.uploadUrl,method:"POST",data:apidata,file:progressInfo.rawFiles,fileFormDataName:"file",headers:{"X-CSRFToken":$cookies.csrftoken,"Content-Type":"multipart/form-data"}}).progress(function(evt){return progressInfo.updatePercent(parseInt(100*evt.loaded/evt.total))}).success(function(data){return progressInfo.finish(data.temporaryfiles),$scope._setCollectionId(data.collectionid),$scope._onFileUploadComplete()}).error(function(data){return progressInfo.setErrors(data),$scope._onFileUploadComplete()})},$scope._setCollectionId=function(collectionid){return $scope.collectionid=collectionid,$scope.fileUploadFieldScope.setCollectionId(collectionid)}},link:function(scope,element,attr,formController){if(scope.uploadUrl=attr.djangoCradminBulkfileupload,null!=attr.djangoCradminBulkfileuploadApiparameters){if(scope.apiparameters=scope.$parent.$eval(attr.djangoCradminBulkfileuploadApiparameters),!angular.isObject(scope.apiparameters))throw new Error("django-cradmin-bulkfileupload-apiparameters must be a javascript object.")}else scope.apiparameters={};scope.formController=formController}}}]).directive("djangoCradminBulkfileuploadRejectedFiles",[function(){return{restrict:"A",require:"^djangoCradminBulkfileupload",templateUrl:"bulkfileupload/rejectedfiles.tpl.html",transclude:!0,scope:{rejectedFileErrorMessage:"@djangoCradminBulkfileuploadRejectedFiles"},controller:function($scope){return $scope.rejectedFiles=[],$scope.setRejectedFiles=function(rejectedFiles){return $scope.rejectedFiles=rejectedFiles},$scope.closeMessage=function(rejectedFile){var index;return index=$scope.rejectedFiles.indexOf(rejectedFile),-1!==index?$scope.rejectedFiles.splice(index,1):void 0}},link:function(scope,element,attr,bulkfileuploadController){bulkfileuploadController.setRejectFilesScope(scope)}}}]).directive("djangoCradminBulkfileuploadProgress",["cradminBulkfileupload","$http","$cookies",function(cradminBulkfileupload,$http,$cookies){return{restrict:"AE",require:"^djangoCradminBulkfileupload",templateUrl:"bulkfileupload/progress.tpl.html",scope:{},controller:function($scope){$scope.fileInfoLists=[],$scope._findFileInfo=function(fileInfo){var fileInfoIndex,fileInfoList,_i,_len,_ref;if(null==fileInfo.temporaryfileid)throw new Error("Can not remove files without a temporaryfileid");for(_ref=$scope.fileInfoLists,_i=0,_len=_ref.length;_len>_i;_i++)if(fileInfoList=_ref[_i],fileInfoIndex=fileInfoList.indexOf(fileInfo),-1!==fileInfoIndex)return{fileInfoList:fileInfoList,index:fileInfoIndex};throw new Error("Could not find requested fileInfo with temporaryfileid="+fileInfo.temporaryfileid+".")},this.removeFile=function(fileInfo){var fileInfoLocation;return fileInfoLocation=$scope._findFileInfo(fileInfo),fileInfo.markAsIsRemoving(),$scope.$apply(),$http({url:$scope.uploadController.getUploadUrl(),method:"DELETE",headers:{"X-CSRFToken":$cookies.csrftoken},data:{collectionid:$scope.uploadController.getCollectionId(),temporaryfileid:fileInfo.temporaryfileid}}).success(function(){return fileInfoLocation.fileInfoList.remove(fileInfoLocation.index)}).error(function(data){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("ERROR",data),alert("An error occurred while removing the file. Please try again."),fileInfo.markAsIsNotRemoving()})},$scope.addFileInfoList=function(options){var fileInfoList;return fileInfoList=cradminBulkfileupload.createFileInfoList(options),$scope.fileInfoLists.push(fileInfoList),fileInfoList}},link:function(scope,element,attr,uploadController){scope.uploadController=uploadController,uploadController.setInProgressOrFinishedScope(scope)}}}]).directive("djangoCradminBulkFileInfoList",[function(){return{restrict:"AE",scope:{fileInfoList:"=djangoCradminBulkFileInfoList"},templateUrl:"bulkfileupload/fileinfolist.tpl.html",transclude:!0,controller:function($scope){this.close=function(){return $scope.element.remove()}},link:function(scope,element){scope.element=element}}}]).directive("djangoCradminBulkfileuploadErrorCloseButton",[function(){return{restrict:"A",require:"^djangoCradminBulkFileInfoList",scope:{},link:function(scope,element,attr,fileInfoListController){element.on("click",function(evt){return evt.preventDefault(),fileInfoListController.close()})}}}]).directive("djangoCradminBulkfileuploadRemoveFileButton",[function(){return{restrict:"A",require:"^djangoCradminBulkfileuploadProgress",scope:{fileInfo:"=djangoCradminBulkfileuploadRemoveFileButton"},link:function(scope,element,attr,progressController){element.on("click",function(evt){return evt.preventDefault(),progressController.removeFile(scope.fileInfo)})}}}]).directive("djangoCradminBulkfileuploadCollectionidField",[function(){return{require:"^djangoCradminBulkfileupload",restrict:"AE",scope:{},controller:function($scope){$scope.setCollectionId=function(collectionid){return $scope.element.val(""+collectionid)}},link:function(scope,element,attr,uploadController){scope.element=element,uploadController.setFileUploadFieldScope(scope)}}}]).directive("djangoCradminBulkfileuploadAdvancedWidget",[function(){return{require:"^djangoCradminBulkfileupload",restrict:"AE",scope:{},link:function(scope,element,attr,uploadController){scope.hide=function(){return element.css("display","none")},uploadController.setAdvancedWidgetScope(scope)}}}]).directive("djangoCradminBulkfileuploadSimpleWidget",[function(){return{require:"^djangoCradminBulkfileupload",restrict:"AE",scope:{},link:function(scope,element,attr,uploadController){scope.hide=function(){return element.css("display","none")},uploadController.setSimpleWidgetScope(scope)}}}])}.call(this),function(){angular.module("djangoCradmin.directives",[]).directive("djangoCradminBack",function(){return{restrict:"A",link:function(scope,element){element.on("click",function(){return history.back(),scope.$apply()})}}}).directive("djangoCradminFormAction",function(){return{restrict:"A",scope:{value:"=djangoCradminFormAction"},controller:function($scope){$scope.$watch("value",function(newValue){return $scope.element.attr("action",newValue)})},link:function(scope,element){scope.element=element}}})}.call(this),function(){angular.module("djangoCradmin.detectizr",[]).factory("cradminDetectize",function(){return Detectizr.detect({addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!1,detectScreen:!1,detectOS:!1,detectBrowser:!1,detectPlugins:!1}),Detectizr})}.call(this),function(){angular.module("djangoCradmin.forms.modelchoicefield",[]).directive("djangoCradminModelChoiceFieldWrapper",["$window",function($window){return{restrict:"A",scope:{},controller:function($scope){$scope.origin=""+window.location.protocol+"//"+window.location.host,this.setIframeWrapper=function(iframeWrapperScope){return $scope.iframeWrapperScope=iframeWrapperScope},this.setIframe=function(iframeScope){return $scope.iframeScope=iframeScope},this.setField=function(fieldScope){return $scope.fieldScope=fieldScope},this.setPreviewElement=function(previewElementScope){return $scope.previewElementScope=previewElementScope},this.onChangeValueBegin=function(){return $scope.iframeScope.reset(),$scope.iframeWrapperScope.show()},$scope.onChangeValue=function(event){var data;return event.origin!==$scope.origin?void console.error("Message origin '"+event.origin+"' does not match current origin '"+$scope.origin+"'."):(data=angular.fromJson(event.data),$scope.fieldScope.fieldid===data.fieldid?($scope.fieldScope.setValue(data.value),$scope.previewElementScope.setPreviewHtml(data.preview),$scope.iframeWrapperScope.hide(),$scope.iframeScope.clear()):void 0)},$window.addEventListener("message",$scope.onChangeValue,!1)},link:function(){}}}]).directive("djangoCradminModelChoiceFieldInput",function(){return{require:"^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{},controller:function($scope){$scope.setValue=function(value){return $scope.inputElement.val(value)}},link:function(scope,element,attrs,wrapperCtrl){scope.inputElement=element,scope.fieldid=attrs.id,wrapperCtrl.setField(scope)}}}).directive("djangoCradminModelChoiceFieldPreview",function(){return{require:"^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{},controller:function($scope){$scope.setPreviewHtml=function(previewHtml){return $scope.previewElement.html(previewHtml)}},link:function(scope,element,attrs,wrapperCtrl){scope.previewElement=element,wrapperCtrl.setPreviewElement(scope)}}}).directive("djangoCradminModelChoiceFieldChangebeginButton",function(){return{require:"^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{},link:function(scope,element,attrs,wrapperCtrl){element.on("click",function(e){return e.preventDefault(),wrapperCtrl.onChangeValueBegin()})}}}).directive("djangoCradminModelChoiceFieldIframeWrapper",["$window",function($window){return{require:"^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{},controller:function($scope){$scope.bodyElement=angular.element($window.document.body),$scope.show=function(){return $scope.iframeWrapperElement.removeClass("ng-hide"),$scope.bodyElement.addClass("django-cradmin-noscroll")},$scope.hide=function(){return $scope.iframeWrapperElement.addClass("ng-hide"),$scope.bodyElement.removeClass("django-cradmin-noscroll")},this.closeIframe=function(){return $scope.hide()}},link:function(scope,element,attrs,wrapperCtrl){scope.iframeWrapperElement=element,wrapperCtrl.setIframeWrapper(scope)}}}]).directive("djangoCradminModelChoiceFieldIframeClosebutton",function(){return{require:"^djangoCradminModelChoiceFieldIframeWrapper",restrict:"A",scope:{},link:function(scope,element,attrs,iframeWrapperCtrl){element.on("click",function(e){return e.preventDefault(),iframeWrapperCtrl.closeIframe()})}}}).directive("djangoCradminModelChoiceFieldIframe",function(){return{require:"^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{src:"@djangoCradminModelChoiceFieldIframe"},controller:function($scope){return $scope.clear=function(){return $scope.element.attr("src","")},$scope.reset=function(){return $scope.element.attr("src",$scope.src)}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,wrapperCtrl.setIframe(scope)}}})}.call(this),function(){angular.module("djangoCradmin.forms.usethisbutton",[]).directive("djangoCradminUseThis",["$window",function($window){return{restrict:"A",scope:{data:"@djangoCradminUseThis"},link:function(scope,element){element.on("click",function(e){var data;return e.preventDefault(),data=angular.fromJson(scope.data),data.postmessageid="django-cradmin-use-this",$window.parent.postMessage(angular.toJson(data),window.parent.location.href)})}}}]).directive("djangoCradminUseThisHidden",["$window",function($window){return{restrict:"A",scope:{data:"@djangoCradminUseThisHidden"},link:function(scope){var data;data=angular.fromJson(scope.data),data.postmessageid="django-cradmin-use-this",$window.parent.postMessage(angular.toJson(data),window.parent.location.href)}}}])}.call(this),function(){angular.module("djangoCradmin.imagepreview",[]).directive("djangoCradminImagePreview",function(){var controller;return controller=function($scope){this.setImg=function(imgscope){return $scope.img=imgscope},this.previewFile=function(file){return $scope.img.previewFile(file)}},{restrict:"A",scope:{},controller:controller}}).directive("djangoCradminImagePreviewImg",function(){var controller,link,onFilePreviewLoaded;return onFilePreviewLoaded=function($scope,srcData){return $scope.element.attr("height",""),$scope.element[0].src=srcData,$scope.element.removeClass("ng-hide")},controller=function($scope){$scope.previewFile=function(file){var reader;return reader=new FileReader,reader.onload=function(evt){return onFilePreviewLoaded($scope,evt.target.result)},reader.readAsDataURL(file)}},link=function(scope,element,attrs,previewCtrl){scope.element=element,previewCtrl.setImg(scope),(null==element.attr("src")||""===element.attr("src"))&&element.addClass("ng-hide")},{require:"^djangoCradminImagePreview",restrict:"A",scope:{},controller:controller,link:link}}).directive("djangoCradminImagePreviewFilefield",function(){var link;return link=function(scope,element,attrs,previewCtrl){scope.previewCtrl=previewCtrl,scope.element=element,scope.wrapperelement=element.parent(),element.bind("change",function(evt){var file;return null!=evt.target.files?(file=evt.target.files[0],scope.previewCtrl.previewFile(file)):void 0}),element.bind("mouseover",function(){return scope.wrapperelement.addClass("django_cradmin_filewidget_field_and_overlay_wrapper_hover")}),element.bind("mouseleave",function(){return scope.wrapperelement.removeClass("django_cradmin_filewidget_field_and_overlay_wrapper_hover")})},{require:"^djangoCradminImagePreview",restrict:"A",scope:{},link:link}})}.call(this),function(){angular.module("djangoCradmin",["djangoCradmin.templates","djangoCradmin.directives","djangoCradmin.messages","djangoCradmin.detectizr","djangoCradmin.menu","djangoCradmin.objecttable","djangoCradmin.acemarkdown","djangoCradmin.bulkfileupload","djangoCradmin.imagepreview","djangoCradmin.pagepreview","djangoCradmin.forms.modelchoicefield","djangoCradmin.forms.usethisbutton"])}.call(this),function(){angular.module("djangoCradmin.menu",[]).controller("CradminMenuController",function($scope){return $scope.displayMenu=!1,$scope.toggleNavigation=function(){return $scope.displayMenu=!$scope.displayMenu}})}.call(this),function(){angular.module("djangoCradmin.messages",[]).controller("DjangoCradminMessagesCtrl",["$scope","$timeout",function($scope,$timeout){$scope.loading=!0,$timeout(function(){return $scope.loading=!1},650),$scope.messageHidden={},$scope.hideMessage=function(index){return $scope.messageHidden[index]=!0},$scope.messageIsHidden=function(index){return $scope.messageHidden[index]}}])}.call(this),function(){angular.module("djangoCradmin.objecttable",[]).controller("CradminMultiselectObjectTableViewController",["$scope",function($scope){return $scope.selectAllChecked=!1,$scope.numberOfSelected=0,$scope.selectedAction=null,$scope.setCheckboxValue=function(itemkey,value){return $scope.items[itemkey]=value},$scope.getCheckboxValue=function(itemkey){return $scope.items[itemkey]},$scope.toggleAllCheckboxes=function(){return $scope.selectAllChecked=!$scope.selectAllChecked,$scope.numberOfSelected=0,angular.forEach($scope.items,function(checked,itemkey){return $scope.setCheckboxValue(itemkey,$scope.selectAllChecked),$scope.selectAllChecked?$scope.numberOfSelected+=1:void 0})},$scope.toggleCheckbox=function(itemkey){var newvalue;return newvalue=!$scope.getCheckboxValue(itemkey),$scope.setCheckboxValue(itemkey,newvalue),newvalue?$scope.numberOfSelected+=1:($scope.numberOfSelected-=1,$scope.selectAllChecked=!1)}}])}.call(this),function(){angular.module("djangoCradmin.pagepreview",[]).directive("djangoCradminPagePreviewWrapper",[function(){return{restrict:"A",scope:{},controller:function($scope){$scope.origin=""+window.location.protocol+"//"+window.location.host,this.setIframeWrapper=function(iframeWrapperScope){return $scope.iframeWrapperScope=iframeWrapperScope},this.setIframe=function(iframeScope){return $scope.iframeScope=iframeScope},this.showPreview=function(url){return $scope.iframeScope.setUrl(url),$scope.iframeWrapperScope.show()}},link:function(){}}}]).directive("djangoCradminPagePreviewOpenOnPageLoad",[function(){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{previewUrl:"@djangoCradminPagePreviewOpenOnPageLoad"},link:function(scope,element,attrs,wrapperCtrl){wrapperCtrl.showPreview(scope.previewUrl)}}}]).directive("djangoCradminPagePreviewOpenOnClick",[function(){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{previewUrl:"@djangoCradminPagePreviewOpenOnClick"},link:function(scope,element,attrs,wrapperCtrl){element.on("click",function(e){return e.preventDefault(),wrapperCtrl.showPreview(scope.previewUrl)})}}}]).directive("djangoCradminPagePreviewIframeWrapper",["$window",function($window){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{},controller:function($scope){$scope.bodyElement=angular.element($window.document.body),$scope.show=function(){return $scope.iframeWrapperElement.removeClass("ng-hide"),$scope.bodyElement.addClass("django-cradmin-noscroll")},$scope.hide=function(){return $scope.iframeWrapperElement.addClass("ng-hide"),$scope.bodyElement.removeClass("django-cradmin-noscroll")},this.closeIframe=function(){return $scope.hide()}},link:function(scope,element,attrs,wrapperCtrl){scope.iframeWrapperElement=element,wrapperCtrl.setIframeWrapper(scope)}}}]).directive("djangoCradminPagePreviewIframeClosebutton",function(){return{require:"^^djangoCradminPagePreviewIframeWrapper",restrict:"A",scope:{},link:function(scope,element,attrs,iframeWrapperCtrl){element.on("click",function(e){return e.preventDefault(),iframeWrapperCtrl.closeIframe()})}}}).directive("djangoCradminPagePreviewIframe",function(){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{},controller:function($scope){return $scope.setUrl=function(url){return $scope.element.attr("src",url)}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,wrapperCtrl.setIframe(scope)}}})}.call(this),angular.module("djangoCradmin.templates",["acemarkdown/acemarkdown.tpl.html","bulkfileupload/fileinfolist.tpl.html","bulkfileupload/progress.tpl.html","bulkfileupload/rejectedfiles.tpl.html"]),angular.module("acemarkdown/acemarkdown.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("acemarkdown/acemarkdown.tpl.html","<div ng-transclude></div>")}]),angular.module("bulkfileupload/fileinfolist.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("bulkfileupload/fileinfolist.tpl.html",'<p ng-repeat="fileInfo in fileInfoList.files"\n        class="django-cradmin-bulkfileupload-progress-item"\n        ng-class="{\n            \'django-cradmin-bulkfileupload-progress-item-finished\': fileInfoList.finished,\n            \'django-cradmin-bulkfileupload-progress-item-error django-cradmin-bulkfileupload-errorparagraph\': fileInfoList.hasErrors\n        }">\n    <span ng-if="fileInfoList.hasErrors">\n        <button django-cradmin-bulkfileupload-error-close-button\n                type="button"\n                class="btn btn-link django-cradmin-bulkfileupload-error-closebutton">\n            <span class="fa fa-times"></span>\n            <span class="sr-only">Close</span>\n        </button>\n        <span ng-repeat="(errorfield,errors) in fileInfoList.errors">\n            <span ng-repeat="error in errors" class="django-cradmin-bulkfileupload-error">\n                {{ error.message }}\n            </span>\n        </span>\n    </span>\n    <span ng-if="!fileInfoList.hasErrors">\n        <button django-cradmin-bulkfileupload-remove-file-button="fileInfo"\n                ng-if="fileInfoList.finished"\n                type="button"\n                class="btn btn-link django-cradmin-bulkfileupload-remove-file-button">\n            <span ng-if="!fileInfo.isRemoving"\n                  class="django-cradmin-bulkfileupload-remove-file-button-isnotremoving">\n                <span class="fa fa-times"></span>\n                <span class="sr-only">Remove</span>\n            </span>\n            <span ng-if="fileInfo.isRemoving"\n                  class="django-cradmin-bulkfileupload-remove-file-button-isremoving">\n                <span class="fa fa-spinner fa-spin"></span>\n                <span class="sr-only">Removing ...</span>\n            </span>\n        </button>\n\n        <span class="django-cradmin-progressbar">\n            <span class="django-cradmin-progressbar-progress" ng-style="{\'width\': fileInfoList.percent+\'%\'}">&nbsp;</span>\n            <span class="django-cradmin-progresspercent">\n                <span class="django-cradmin-progresspercent-number">{{ fileInfoList.percent }}</span>%\n            </span>\n        </span>\n        <span class="django-cradmin-filename">{{fileInfo.name}}</span>\n    </span>\n</p>\n')}]),angular.module("bulkfileupload/progress.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("bulkfileupload/progress.tpl.html",'<div class="django-cradmin-bulkfileupload-progress">\n    <div ng-repeat="fileInfoList in fileInfoLists">\n        <div django-cradmin-bulk-file-info-list="fileInfoList"\n             class="django-cradmin-bulkfileupload-progress-fileinfolist"></div>\n    </div>\n</div>\n')}]),angular.module("bulkfileupload/rejectedfiles.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("bulkfileupload/rejectedfiles.tpl.html",'<div class="django-cradmin-bulkfileupload-rejectedfiles">\n    <p ng-repeat="rejectedFile in rejectedFiles"\n            class="django-cradmin-bulkfileupload-rejectedfile django-cradmin-bulkfileupload-errorparagraph">\n        <button ng-click="closeMessage(rejectedFile)"\n                type="button"\n                class="btn btn-link django-cradmin-bulkfileupload-error-closebutton">\n            <span class="fa fa-times"></span>\n            <span class="sr-only">Close</span>\n        </button>\n        <span class="django-cradmin-bulkfileupload-rejectedfile-filename">{{ rejectedFile.name }}:</span>\n        <span class="django-cradmin-bulkfileupload-rejectedfile-errormessage">{{ rejectedFileErrorMessage }}</span>\n    </p>\n</div>\n')}]),function(){angular.module("djangoCradmin.wysihtml",[]).directive("djangoCradminWysihtml",function(){return{restrict:"A",transclude:!0,template:"<div><p>Stuff is awesome!</p><div ng-transclude></div></div>"}
})}.call(this);
//# sourceMappingURL=cradmin.min.js.map
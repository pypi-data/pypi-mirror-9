{% macro datetimepicker_field(field, current_timezone='', widget_pos_horiz='auto', widget_pos_vert='auto') %}

<div class="form-group {% if field.errors %} has-error{% endif %}">
  {{field.label(class="control-label")|safe}}

  <div class="input-group date datetimepicker" data-widget-pos-horiz="{{ widget_pos_horiz }}" data-widget-pos-vert="{{ widget_pos_vert }}">
    {% if current_timezone %}
    <span class="input-group-addon">Time zone: {{ current_timezone }}</span>
    {% endif %}

    {{field(class="form-control", **kwargs)|safe}}
    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
  </div>

  {%- if field.errors %}
    {%- for error in field.errors %}
      <p class="help-block">{{error}}</p>
    {%- endfor %}
  {%- elif field.description -%}
    <p class="help-block">{{field.description|safe}}</p>
  {%- endif %}
</div>
{% endmacro %}


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Export module &mdash; edeposit.amqp.aleph 1.8.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="edeposit.amqp.aleph 1.8.0 documentation" href="../index.html" />
    <link rel="up" title="aleph package" href="aleph.html" />
    <link rel="next" title="Settings and configuration" href="aleph.settings.html" />
    <link rel="prev" title="Aleph lowlevel API" href="aleph.aleph.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aleph.settings.html" title="Settings and configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="aleph.aleph.html" title="Aleph lowlevel API"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">edeposit.amqp.aleph 1.8.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="aleph.html" accesskey="U">aleph package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-aleph.export">
<span id="export-module"></span><h1>Export module<a class="headerlink" href="#module-aleph.export" title="Permalink to this headline">¶</a></h1>
<p>This module is used to put data to Aleph. It is based on custom made webform,
which is currently used to report new books by publishers.</p>
<p>Most important function from this module is <a class="reference internal" href="#aleph.export.exportEPublication" title="aleph.export.exportEPublication"><code class="xref py py-func docutils literal"><span class="pre">exportEPublication()</span></code></a>,
which will do everything, that is needed to do, to export
<a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><code class="xref py py-class docutils literal"><span class="pre">EPublication</span></code></a> structure to the Aleph.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This whole module is highly dependent on processes, which are defined as
import processes at the Czech National Library.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you want to use export ability in your library, you should rewrite this
and take care, that you are sending data somewhere, where someone will
process them. Otherwise, you can fill your library&#8217;s database with crap.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Source code of the webform is not available at this moment (it was created
by third party), but it is possible, that it will be in future. This will
highly depend on number of people, which will use this project.</p>
</div>
<dl class="exception">
<dt id="aleph.export.ExportException">
<em class="property">exception </em><code class="descclassname">aleph.export.</code><code class="descname">ExportException</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aleph/export.html#ExportException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.ExportException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="aleph.export.InvalidISBNException">
<em class="property">exception </em><code class="descclassname">aleph.export.</code><code class="descname">InvalidISBNException</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aleph/export.html#InvalidISBNException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.InvalidISBNException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="aleph.export.ExportRejectedException">
<em class="property">exception </em><code class="descclassname">aleph.export.</code><code class="descname">ExportRejectedException</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aleph/export.html#ExportRejectedException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.ExportRejectedException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="aleph.export.PostData">
<em class="property">class </em><code class="descclassname">aleph.export.</code><code class="descname">PostData</code><span class="sig-paren">(</span><em>epub</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aleph/export.html#PostData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.PostData" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used to transform data from
<a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><code class="xref py py-class docutils literal"><span class="pre">EPublication</span></code></a> to dictionary, which is sent as POST request to
Aleph third-party <a class="reference external" href="http://aleph.nkp.cz/F/?func=file&amp;file_name=service-isbn">webform</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Class is used instead of simple function, because there is 29 POST
parameters with internal dependencies, which need to be processed and
validated before they can be passed to webform.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epub</strong> (<a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><em>EPublication</em></a>) &#8211; structure, which will be converted (see
<a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><code class="xref py py-class docutils literal"><span class="pre">EPublication</span></code></a> for details).</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="aleph.export.PostData._POST">
<code class="descname">_POST</code><a class="headerlink" href="#aleph.export.PostData._POST" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em></p>
<p>dictionary with parsed data</p>
</dd></dl>

<dl class="attribute">
<dt id="aleph.export.PostData.mapping">
<code class="descname">mapping</code><a class="headerlink" href="#aleph.export.PostData.mapping" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em></p>
<p>dictionary with some of mapping, which are applied to
<a class="reference internal" href="#aleph.export.PostData._POST" title="aleph.export.PostData._POST"><code class="xref py py-attr docutils literal"><span class="pre">_POST</span></code></a> dict in post processing</p>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Don&#8217;t manipulate <a class="reference internal" href="#aleph.export.PostData._POST" title="aleph.export.PostData._POST"><code class="xref py py-attr docutils literal"><span class="pre">_POST</span></code></a> property directly, if you didn&#8217;t really
know the internal structure and how the <a class="reference internal" href="#aleph.export.PostData.mapping" title="aleph.export.PostData.mapping"><code class="xref py py-attr docutils literal"><span class="pre">mapping</span></code></a> is applied.</p>
</div>
<dl class="method">
<dt id="aleph.export.PostData.get_POST_data">
<code class="descname">get_POST_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aleph/export.html#PostData.get_POST_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.PostData.get_POST_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">POST data, which can be sent to webform using                   <a class="reference external" href="http://docs.python.org/2.7/library/urllib.html#module-urllib" title="(in Python v2.7)"><code class="xref py py-mod docutils literal"><span class="pre">urllib</span></code></a> or similar library</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="aleph.export.exportEPublication">
<code class="descclassname">aleph.export.</code><code class="descname">exportEPublication</code><span class="sig-paren">(</span><em>epub</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aleph/export.html#exportEPublication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aleph.export.exportEPublication" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <cite>epub</cite> <a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><code class="xref py py-class docutils literal"><span class="pre">EPublication</span></code></a> object to Aleph, where it will be
processed by librarians.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epub</strong> (<a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication" title="aleph.datastructures.epublication.EPublication"><em>EPublication</em></a>) &#8211; structure for export</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The export function is expecting some of the EPublication properties to
be filled with non-blank data.</p>
<p>Specifically:</p>
<ul class="last simple">
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.ISBN" title="aleph.datastructures.epublication.EPublication.ISBN"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.ISBN</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.nazev" title="aleph.datastructures.epublication.EPublication.nazev"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.nazev</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.mistoVydani" title="aleph.datastructures.epublication.EPublication.mistoVydani"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.mistoVydani</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.datumVydani" title="aleph.datastructures.epublication.EPublication.datumVydani"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.datumVydani</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.poradiVydani" title="aleph.datastructures.epublication.EPublication.poradiVydani"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.poradiVydani</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.zpracovatelZaznamu" title="aleph.datastructures.epublication.EPublication.zpracovatelZaznamu"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.zpracovatelZaznamu</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.vazba" title="aleph.datastructures.epublication.EPublication.vazba"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.vazba</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.format" title="aleph.datastructures.epublication.EPublication.format"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.format</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.format" title="aleph.datastructures.epublication.EPublication.format"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.format</span></code></a></li>
<li><a class="reference internal" href="datastructures/epublication.html#aleph.datastructures.epublication.EPublication.nakladatelVydavatel" title="aleph.datastructures.epublication.EPublication.nakladatelVydavatel"><code class="xref py py-attr docutils literal"><span class="pre">EPublication.nakladatelVydavatel</span></code></a></li>
</ul>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/nkp_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="aleph.aleph.html"
                        title="previous chapter">Aleph lowlevel API</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="aleph.settings.html"
                        title="next chapter">Settings and configuration</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/aleph.export.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aleph.settings.html" title="Settings and configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="aleph.aleph.html" title="Aleph lowlevel API"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">edeposit.amqp.aleph 1.8.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="aleph.html" >aleph package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 E-deposit team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>
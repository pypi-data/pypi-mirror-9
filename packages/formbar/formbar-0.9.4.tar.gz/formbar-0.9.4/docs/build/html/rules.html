<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Rules &mdash; Formbar 0.2.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Formbar 0.2.1 documentation" href="index.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Configuration" href="config.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Formbar 0.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rules">
<span id="id1"></span><h1>Rules<a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h1>
<p>Formed does already some basic checks on the submitted data depending on the
configured data type or, in case you are using a form for a SQLAlchemy mapped
item. These checks are often already sufficient for most basic forms.</p>
<p>Rules are used to define additional checks to the basic check.
Rules are evaluated in the process of validation the submitted data. If one of
the configured rules fail the validation will fail at all and the form gets
rerendered with all error messages.
Only if the whole validation is ok, the data will be saved.</p>
<p>There are two types of rules. And the type of the rule decides when the rule
gets evaluation in the validation process:</p>
<p>1. Pre-Rules. Rules with the mode &#8220;pre&#8221; are evaluation before the conversation
of the submitted value occurs into the python data type of the field.
2. Post-Rules. In contrast the post rules are evaluation after the conversation happened.</p>
<p>Why this? Well simply because some checks are much more easy on python data
types than on strings. Think of datetime checks for example.</p>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Rules are configured in the form configuration XML file. Rules can be
configured as part of an <tt class="docutils literal"><span class="pre">Entity</span></tt>, or as part of the <tt class="docutils literal"><span class="pre">Form</span></tt>:</p>
<div class="highlight-python"><pre>&lt;entity&gt;
        &lt;rule/&gt;
        ...
        &lt;rule/&gt;
&lt;/entity&gt;</pre>
</div>
<dl class="docutils">
<dt>or::</dt>
<dd><dl class="first docutils">
<dt>&lt;form&gt;</dt>
<dd>&lt;rule/&gt;
...
&lt;rule/&gt;</dd>
</dl>
<p class="last">&lt;/form&gt;</p>
</dd>
</dl>
<p>But the definition of a rule is the same in both cases. Here is a simple
example rule:</p>
<div class="highlight-python"><pre>&lt;rule expr="$age &gt;= 21" msg="Age must be greater or equal than 21" mode="post"/&gt;</pre>
</div>
<p>Here you can see a example rule. The rule will check the value of field &#8220;age&#8221;
($age) <em>after</em> (postmode) the conversation has been done against the integer value 21.
If the rule fails, than an error message defined in the <cite>msg</cite>-attribute will
be shown at all fields within the expression in the form.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Rules</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="config.html"
                        title="previous chapter">Configuration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="examples.html"
                        title="next chapter">Examples</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/rules.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration"
             >previous</a> |</li>
        <li><a href="index.html">Formbar 0.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Torsten Irländer.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>
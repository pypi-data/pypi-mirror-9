<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="jalon.content">

<body>

<metal:core fill-slot="main">

<style type="text/css">
#jalon_configuration ul.button-group > li {
    width: 20%;
}

#jalon_configuration ul.button-group > li .button {
    background-color: #e7e7e7;
    border-color: #b9b9b9;
    color: #333;
    margin-bottom: 0;
    width: 100%;
}

#jalon_configuration ul.button-group > li .button.selected, #jalon_configuration ul.button-group > li .button:hover, #jalon_configuration ul.button-group > li .button:focus {
    color: #fff;
}

#jalon_configuration ul.button-group > li .button.selected, #jalon_configuration ul.button-group > li .button.selected:focus {
    background-color: #2a9ccc;
    border-color: #227da3;
}

#jalon_configuration ul.button-group > li .button:hover, #jalon_configuration ul.button-group > li .button:focus, #jalon_configuration ul.button-group > li .button.selected:hover {
    background-color: #227da3;
    border-color: #227da3;
}

#jalon_configuration .discreet
{
    font-size:0.73125rem;
    font-style:italic;
}

div.panel label{
    font-weight: bold;
    line-height: 120%;
    margin-bottom:0.5rem;
}

.panel .activer
{
    color:green;
}

.panel .desactiver
{
    color:red;
}

#jalon_configuration .panel.success {
    background-color: #43ac6a;
    border-color: #227da3;
    color: #fff;
}

#jalon_configuration .panel.success a {
    color: #fff;
}
</style>

<tal:block define="pageCours string:gestion_messages">
    <metal:macro use-macro="context/macro_navigation/macros/fil_d_ariane">
        Page d'affichage du fil d'ariane
    </metal:macro>
</tal:block>

    <main id="mon_espace" role="main" aria-labelledby="page_title"
          class="row">

        <h2 i18n:translate="">
            Configuration des blocs de messages
        </h2>
        <form method="post" class="text-center"
              tal:attributes="action string:${context/absolute_url}/saveConfigMessages"
              tal:define="bie context/getPropertiesMessages">
            <div class="row">
                <div class="medium-6 columns">
                    <div class="panel callout radius">
                        <label i18n:translate="">
                            Activer le bloc de message d'information pour tous les utilisateurs
                        </label>
                        <input type="radio" name="activer_message_general" id="activer_message_general" value="1"
                               tal:attributes="checked python:context.test(bie['activer_message_general'], 'checked', '')" />
                        <label for="activer_message_general" class="activer">
                            <i class="fa fa-check"></i>
                            <tal:block i18n:translate="">Activé</tal:block>
                        </label>
                        <input type="radio" name="activer_message_general" id="desactiver_message_general" value="0"
                               tal:attributes="checked python:context.test(not bie['activer_message_general'], 'checked', '')" />
                        <label for="desactiver_message_general" class="desactiver">
                            <i class="fa fa-times"></i>
                            <tal:block i18n:translate="">Désactivé</tal:block>
                        </label>
                    </div>
                </div>
                <div class="medium-6 columns">
                    <div class="panel callout radius">
                        <label for="message_general" i18n:translate="">
                            Message à destination de tous les utilisateurs
                        </label>
                        <span class="discreet" i18n:translate="message_general_help">
                            Ce contenu HTML sera affiché en bas de la page « Mes cours » des étudiants, de la page "Mon Espace" pour les enseignants.
                        </span>
                        <textarea id="message_general" name="message_general" rows="5"><tal:replace replace="bie/message_general | nothing" /></textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="medium-6 columns">
                    <div class="panel callout radius">
                        <label i18n:translate="">
                            Activer le bloc de message d'information pour les étudiants
                        </label>
                        <input type="radio" name="activer_bie" id="activer_bie" value="1"
                               tal:attributes="checked python:context.test(bie['activer_bie'], 'checked', '')" />
                        <label for="activer_bie" class="activer">
                            <i class="fa fa-check"></i>
                            <tal:block i18n:translate="">Activé</tal:block>
                        </label>
                        <input type="radio" name="activer_bie" id="desactiver_bie" value="0"
                               tal:attributes="checked python:context.test(not bie['activer_bie'], 'checked', '')" />
                        <label for="desactiver_bie" class="desactiver">
                            <i class="fa fa-times"></i>
                            <tal:block i18n:translate="">Désactivé</tal:block>
                        </label>
                    </div>
                </div>
                <div class="medium-6 columns">
                    <div class="panel callout radius">
                        <label for="bie_message" i18n:translate="bie_message">
                            Message à destination des étudiants
                        </label>
                        <span class="discreet" i18n:translate="bie_message_help">Ce contenu HTML sera affiché en bas de la page « Mes cours » des étudiants.</span>
                        <textarea id="bie_message" name="bie_message" rows="5"><tal:replace replace="bie/bie_message | nothing" /></textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="medium-6 columns">
                    <div class="panel callout radius">
                        <label i18n:translate="">
                            Activer le bloc de message d'information pour les enseignants
                        </label>
                        <input type="radio" name="activer_message_enseignant" id="activer_message_enseignant" value="1"
                               tal:attributes="checked python:context.test(bie['activer_message_enseignant'], 'checked', '')" />
                        <label for="activer_message_enseignant" class="activer">
                            <i class="fa fa-check"></i>
                            <tal:block i18n:translate="">Activé</tal:block>
                        </label>
                        <input type="radio" name="activer_message_enseignant" id="desactiver_message_enseignant" value="0"
                               tal:attributes="checked python:context.test(not bie['activer_message_enseignant'], 'checked', '')" />
                        <label for="desactiver_message_enseignant" class="desactiver">
                            <i class="fa fa-times"></i>
                            <tal:block i18n:translate="">Désactivé</tal:block>
                        </label>
                    </div>
                </div>
                <div class="medium-6 columns">
                    <div class="panel callout radius">
                        <label for="message_enseignant" i18n:translate="message_enseignant">
                            Message à destination des enseignants
                        </label>
                        <span class="discreet" i18n:translate="message_enseignant_help">
                            Ce contenu HTML sera affiché en bas de la page « Mon espace » des enseignants.
                        </span>
                        <textarea id="message_enseignant" name="message_enseignant" rows="5"><tal:replace replace="bie/message_enseignant | nothing" /></textarea>
                    </div>
                </div>
            </div>
            <div class="formControls">
                <input class="button small" type="submit" name="form.button.save" value="Save"
                       i18n:attributes="value label_save;"/>
            </div>
        </form>

    </main>

</metal:core>

</body>

</html>
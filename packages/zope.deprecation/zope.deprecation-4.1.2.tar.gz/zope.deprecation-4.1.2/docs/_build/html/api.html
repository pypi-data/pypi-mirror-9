<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>zope.deprecation API &mdash; zope.deprecation 4.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="zope.deprecation 4.0 documentation" href="index.html" />
    <link rel="next" title="Hacking on zope.deprecation" href="hacking.html" />
    <link rel="prev" title="zope.deprecation Documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="hacking.html" title="Hacking on zope.deprecation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="zope.deprecation Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">zope.deprecation 4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="zope-deprecation-api">
<h1><tt class="xref py py-mod docutils literal"><span class="pre">zope.deprecation</span></tt> API<a class="headerlink" href="#zope-deprecation-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="deprecating-objects-inside-a-module">
<h2>Deprecating objects inside a module<a class="headerlink" href="#deprecating-objects-inside-a-module" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s start with a demonstration of deprecating any name inside a module. To
demonstrate the functionality, First, let&#8217;s set up an example module containing
fixtures we will use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zope.deprecation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tmp_d</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="s">&#39;deprecation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">__path__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp_d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doctest_ex</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">from . import deprecated</span>
<span class="gp">...</span><span class="s"></span>
<span class="gp">... </span><span class="s">def demo1(): #pragma NO COVER  (used only in doctests)</span>
<span class="gp">... </span><span class="s">    return 1</span>
<span class="gp">... </span><span class="s">deprecated(&#39;demo1&#39;, &#39;demo1 is no more.&#39;)</span>
<span class="gp">...</span><span class="s"></span>
<span class="gp">... </span><span class="s">def demo2(): #pragma NO COVER  (used only in doctests)</span>
<span class="gp">... </span><span class="s">    return 2</span>
<span class="gp">... </span><span class="s">deprecated(&#39;demo2&#39;, &#39;demo2 is no more.&#39;)</span>
<span class="gp">...</span><span class="s"></span>
<span class="gp">... </span><span class="s">def demo3(): #pragma NO COVER  (used only in doctests)</span>
<span class="gp">... </span><span class="s">    return 3</span>
<span class="gp">... </span><span class="s">deprecated(&#39;demo3&#39;, &#39;demo3 is no more.&#39;)</span>
<span class="gp">...</span><span class="s"></span>
<span class="gp">... </span><span class="s">def demo4(): #pragma NO COVER  (used only in doctests)</span>
<span class="gp">... </span><span class="s">    return 4</span>
<span class="gp">... </span><span class="s">def deprecatedemo4(): #pragma NO COVER  (used only in doctests)</span>
<span class="gp">... </span><span class="s">    &quot;&quot;&quot;Demonstrate that deprecated() also works in a local scope.&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s">    deprecated(&#39;demo4&#39;, &#39;demo4 is no more.&#39;)</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp_d</span><span class="p">,</span> <span class="s">&#39;doctest_ex.py&#39;</span><span class="p">),</span> <span class="s">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">doctest_ex</span><span class="p">)</span>
</pre></div>
</div>
<p>The first argument to the <tt class="docutils literal"><span class="pre">deprecated()</span></tt> function is a list of names that
should be declared deprecated. If the first argument is a string, it is
interpreted as one name. The second argument is the reason the particular name
has been deprecated. It is good practice to also list the version in which the
name will be removed completely.</p>
<p>Let&#8217;s now see how the deprecation warnings are displayed.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zope.deprecation</span> <span class="kn">import</span> <span class="n">doctest_ex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">doctest_ex</span><span class="o">.</span><span class="n">demo1</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">__name__</span>
<span class="go">DeprecationWarning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
<span class="go">demo1: demo1 is no more.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zope.deprecation.doctest_ex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">doctest_ex</span><span class="o">.</span><span class="n">demo2</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
<span class="go">demo2: demo2 is no more.</span>
</pre></div>
</div>
<p>You can see that merely importing the affected module or one of its parents
does not cause a deprecation warning. Only when we try to access the name in
the module, we get a deprecation warning. On the other hand, if we import the
name directly, the deprecation warning will be raised immediately.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="kn">from</span> <span class="nn">zope.deprecation.doctest_ex</span> <span class="kn">import</span> <span class="n">demo3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
<span class="go">demo3: demo3 is no more.</span>
</pre></div>
</div>
<p>Deprecation can also happen inside a function.  When we first access
<tt class="docutils literal"><span class="pre">demo4</span></tt>, it can be accessed without problems, then we call a
function that sets the deprecation message and we get the message upon
the next access:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">doctest_ex</span><span class="o">.</span><span class="n">demo4</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doctest_ex</span><span class="o">.</span><span class="n">deprecatedemo4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">doctest_ex</span><span class="o">.</span><span class="n">demo4</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">message</span> <span class="c">#XXX oddball case: why nested?</span>
<span class="go">demo4: demo4 is no more.</span>
</pre></div>
</div>
</div>
<div class="section" id="deprecating-methods-and-properties">
<h2>Deprecating methods and properties<a class="headerlink" href="#deprecating-methods-and-properties" title="Permalink to this headline">¶</a></h2>
<p>New let&#8217;s see how properties and methods can be deprecated. We are going to
use the same function as before, except that this time, we do not pass in names
as first argument, but the method or attribute itself. The function then
returns a wrapper that sends out a deprecation warning when the attribute or
method is accessed.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zope.deprecation</span> <span class="kn">import</span> <span class="n">deprecation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyComponent</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">foo</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">foo</span> <span class="o">=</span> <span class="n">deprecation</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="s">&#39;foo is no more.&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="n">bar</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">blah</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">3</span>
<span class="gp">... </span>    <span class="n">blah</span> <span class="o">=</span> <span class="n">deprecation</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span><span class="n">blah</span><span class="p">,</span> <span class="s">&#39;blah() is no more.&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">splat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">4</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="nd">@deprecation.deprecate</span><span class="p">(</span><span class="s">&quot;clap() is no more.&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">clap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">5</span>
</pre></div>
</div>
<p>And here is the result:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my</span> <span class="o">=</span> <span class="n">MyComponent</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">my</span><span class="o">.</span><span class="n">foo</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">message</span> <span class="c"># XXX see above</span>
<span class="go">foo is no more.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">my</span><span class="o">.</span><span class="n">bar</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">my</span><span class="o">.</span><span class="n">blah</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">message</span> <span class="c"># XXX see above</span>
<span class="go">blah() is no more.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">my</span><span class="o">.</span><span class="n">splat</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">my</span><span class="o">.</span><span class="n">clap</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">message</span> <span class="c"># XXX see above</span>
<span class="go">clap() is no more.</span>
</pre></div>
</div>
</div>
<div class="section" id="deprecating-modules">
<h2>Deprecating modules<a class="headerlink" href="#deprecating-modules" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to deprecate whole modules.  This is useful when
creating module aliases for backward compatibility.  Let&#8217;s imagine,
the <tt class="docutils literal"><span class="pre">zope.deprecation</span></tt> module used to be called <tt class="docutils literal"><span class="pre">zope.wanda</span></tt> and
we&#8217;d like to retain backward compatibility:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s">&#39;zope.wanda&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">deprecation</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="p">,</span> <span class="s">&#39;A module called Wanda is now zope.deprecation.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can import <tt class="docutils literal"><span class="pre">wanda</span></tt>, but when accessing things from it, we get
our deprecation message as expected:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="kn">from</span> <span class="nn">zope.wanda</span> <span class="kn">import</span> <span class="n">deprecated</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">message</span> <span class="c"># XXX see above</span>
<span class="go">A module called Wanda is now zope.deprecation.</span>
</pre></div>
</div>
<p>Before we move on, we should clean up:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">deprecated</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s">&#39;zope.wanda&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="moving-modules">
<h2>Moving modules<a class="headerlink" href="#moving-modules" title="Permalink to this headline">¶</a></h2>
<p>When a module is moved, you often want to support importing from the
old location for a while, generating a deprecation warning when
someone uses the old location.  This can be done using the moved
function.</p>
<p>To see how this works, we&#8217;ll use a helper function to create two fake
modules in the zope.deprecation package.  First will create a module
in the &#8220;old&#8221; location that used the moved function to indicate the a
module on the new location should be used:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">created_modules</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">create_module</span><span class="p">(</span><span class="n">modules</span><span class="o">=</span><span class="p">(),</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span> <span class="c">#** highlightfail</span>
<span class="gp">... </span>    <span class="n">modules</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">modules</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">modules</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">src</span> <span class="ow">in</span> <span class="n">modules</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
<span class="gp">... </span>        <span class="n">pname</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">pname</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;__init__&#39;</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp_d</span><span class="p">,</span> <span class="o">*</span><span class="n">pname</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span> <span class="c">#* highlightfail</span>
<span class="gp">... </span>            <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pname</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp_d</span><span class="p">,</span> <span class="o">*</span><span class="n">pname</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;.py&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">src</span><span class="p">)</span> <span class="c">#* hf</span>
<span class="gp">... </span>        <span class="n">created_modules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_module</span><span class="p">(</span><span class="n">old_location</span><span class="o">=</span>
<span class="gp">... </span><span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">import zope.deprecation</span>
<span class="gp">... </span><span class="sd">zope.deprecation.moved(&#39;zope.deprecation.new_location&#39;, &#39;version 2&#39;)</span>
<span class="gp">... </span><span class="sd">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>and we define the module in the new location:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">create_module</span><span class="p">(</span><span class="n">new_location</span><span class="o">=</span>
<span class="gp">... </span><span class="sd">&#39;&#39;&#39;\</span>
<span class="gp">... </span><span class="sd">print &quot;new module imported&quot;</span>
<span class="gp">... </span><span class="sd">x = 42</span>
<span class="gp">... </span><span class="sd">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, if we import the old location, we&#8217;ll see the output of importing
the old location:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">zope.deprecation.old_location</span>
<span class="go">new module imported</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">message</span>
<span class="gp">... </span>
<span class="go">zope.deprecation.old_location has moved to zope.deprecation.new_location.</span>
<span class="go">Import of zope.deprecation.old_location will become unsupported</span>
<span class="go">in version 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">old_location</span><span class="o">.</span><span class="n">x</span>
<span class="go">42</span>
</pre></div>
</div>
</div>
<div class="section" id="moving-packages">
<h2>Moving packages<a class="headerlink" href="#moving-packages" title="Permalink to this headline">¶</a></h2>
<p>When moving packages, you need to leave placeholders for each
module.  Let&#8217;s look at an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">create_module</span><span class="p">({</span>
<span class="gp">... </span><span class="s">&#39;new_package.__init__&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">print __name__, &#39;imported&#39;</span>
<span class="gp">... </span><span class="s">x=0</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s">&#39;new_package.m1&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">print __name__, &#39;imported&#39;</span>
<span class="gp">... </span><span class="s">x=1</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s">&#39;new_package.m2&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">print __name__, &#39;imported&#39;</span>
<span class="gp">... </span><span class="s">def x():</span>
<span class="gp">... </span><span class="s">    pass</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s">&#39;new_package.m3&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">print __name__, &#39;imported&#39;</span>
<span class="gp">... </span><span class="s">x=3</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s">&#39;old_package.__init__&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">import zope.deprecation</span>
<span class="gp">... </span><span class="s">zope.deprecation.moved(&#39;zope.deprecation.new_package&#39;, &#39;version 2&#39;)</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s">&#39;old_package.m1&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">import zope.deprecation</span>
<span class="gp">... </span><span class="s">zope.deprecation.moved(&#39;zope.deprecation.new_package.m1&#39;, &#39;version 2&#39;)</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s">&#39;old_package.m2&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="gp">... </span><span class="s">import zope.deprecation</span>
<span class="gp">... </span><span class="s">zope.deprecation.moved(&#39;zope.deprecation.new_package.m2&#39;, &#39;version 2&#39;)</span>
<span class="gp">... </span><span class="s">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">})</span>
</pre></div>
</div>
<p>Now, if we import the old modules, we&#8217;ll get warnings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">zope.deprecation.old_package</span>
<span class="go">zope.deprecation.new_package imported</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
<span class="gp">... </span>
<span class="go">zope.deprecation.old_package has moved to zope.deprecation.new_package.</span>
<span class="go">Import of zope.deprecation.old_package will become unsupported in version 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">old_package</span><span class="o">.</span><span class="n">x</span>
<span class="go">0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">zope.deprecation.old_package.m1</span>
<span class="go">zope.deprecation.new_package.m1 imported</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
<span class="gp">... </span>
<span class="go">zope.deprecation.old_package.m1 has moved to zope.deprecation.new_package.m1.</span>
<span class="go">Import of zope.deprecation.old_package.m1 will become unsupported in</span>
<span class="go">version 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">old_package</span><span class="o">.</span><span class="n">m1</span><span class="o">.</span><span class="n">x</span>
<span class="go">1</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">zope.deprecation.old_package.m2</span>
<span class="go">zope.deprecation.new_package.m2 imported</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
<span class="gp">... </span>
<span class="go">zope.deprecation.old_package.m2 has moved to zope.deprecation.new_package.m2.</span>
<span class="go">Import of zope.deprecation.old_package.m2 will become unsupported in</span>
<span class="go">version 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">old_package</span><span class="o">.</span><span class="n">m2</span><span class="o">.</span><span class="n">x</span> <span class="ow">is</span> <span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">new_package</span><span class="o">.</span><span class="n">m2</span><span class="o">.</span><span class="n">x</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">old_package</span><span class="o">.</span><span class="n">m2</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">func_globals</span>
<span class="gp">... </span> <span class="ow">is</span> <span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">new_package</span><span class="o">.</span><span class="n">m2</span><span class="o">.</span><span class="n">__dict__</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">old_package</span><span class="o">.</span><span class="n">m2</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">__module__</span>
<span class="go">&#39;zope.deprecation.new_package.m2&#39;</span>
</pre></div>
</div>
<p>We&#8217;ll get an error if we try to import m3, because we didn&#8217;t create a
placeholder for it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span>  <span class="nn">zope.deprecation.old_package.m3</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ImportError</span>: <span class="n">No module named m3</span>
</pre></div>
</div>
<p>Before we move on, let&#8217;s clean up the temporary modules / packages:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zope</span><span class="o">.</span><span class="n">deprecation</span><span class="o">.</span><span class="n">__path__</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tmp_d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shutil</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">tmp_d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="temporarily-turning-off-deprecation-warnings">
<h2>Temporarily turning off deprecation warnings<a class="headerlink" href="#temporarily-turning-off-deprecation-warnings" title="Permalink to this headline">¶</a></h2>
<p>In some cases it is desireable to turn off the deprecation warnings for a
short time.</p>
<p>To support such a feature, the <tt class="docutils literal"><span class="pre">zope.deprecation</span></tt> package
provides a <em class="xref std std-term">context manager</em> class, <tt class="xref py py-class docutils literal"><span class="pre">zope.deprecation.Suppressor</span></tt>.
Code running inside the scope of a <tt class="docutils literal"><span class="pre">Suppressor</span></tt> will not emit deprecation
warnings.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zope.deprecation</span> <span class="kn">import</span> <span class="n">Suppressor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">bar</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">bar</span> <span class="o">=</span> <span class="n">deprecation</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span> <span class="s">&#39;bar is no more.&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">blah</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">blah</span> <span class="o">=</span> <span class="n">deprecation</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span><span class="n">blah</span><span class="p">,</span> <span class="s">&#39;blah is no more.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Suppressor</span><span class="p">():</span>
<span class="gp">... </span>   <span class="n">foo</span><span class="o">.</span><span class="n">blah</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Note that no warning is emitted when <tt class="docutils literal"><span class="pre">foo.blah</span></tt> is accessed inside
the suppressor&#8217;s scope.:</p>
<p>The suppressor is implemented in terms of a <tt class="docutils literal"><span class="pre">__show__</span></tt> object.
One can ask for its status by calling it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zope.deprecation</span> <span class="kn">import</span> <span class="n">__show__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Inside a suppressor&#8217;s scope, that status is always false:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Suppressor</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">__show__</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">log</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">warnings</span><span class="o">.</span><span class="n">filters</span><span class="p">[:]</span>
<span class="gp">... </span>    <span class="n">foo</span><span class="o">.</span><span class="n">bar</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">log</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
<span class="go">bar is no more.</span>
</pre></div>
</div>
<p>If needed, your code can manage the depraction warnings manually using
the <tt class="docutils literal"><span class="pre">on()</span></tt> and <tt class="docutils literal"><span class="pre">off()</span></tt> methods of the <tt class="docutils literal"><span class="pre">__show__</span></tt> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="o">.</span><span class="n">blah</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Now, you can also nest several turn-offs, so that calling <tt class="docutils literal"><span class="pre">off()</span></tt> multiple
times is meaningful:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">stack</span>
<span class="go">[False]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">stack</span>
<span class="go">[False, False]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">stack</span>
<span class="go">[False]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">stack</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can also reset <tt class="docutils literal"><span class="pre">__show__</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Finally, you cannot call <tt class="docutils literal"><span class="pre">on()</span></tt> without having called <tt class="docutils literal"><span class="pre">off()</span></tt> before:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">__show__</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">pop from empty list</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">zope.deprecation</span></tt> API</a><ul>
<li><a class="reference internal" href="#deprecating-objects-inside-a-module">Deprecating objects inside a module</a></li>
<li><a class="reference internal" href="#deprecating-methods-and-properties">Deprecating methods and properties</a></li>
<li><a class="reference internal" href="#deprecating-modules">Deprecating modules</a></li>
<li><a class="reference internal" href="#moving-modules">Moving modules</a></li>
<li><a class="reference internal" href="#moving-packages">Moving packages</a></li>
<li><a class="reference internal" href="#temporarily-turning-off-deprecation-warnings">Temporarily turning off deprecation warnings</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">zope.deprecation</span></tt> Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hacking.html"
                        title="next chapter">Hacking on <tt class="docutils literal"><span class="pre">zope.deprecation</span></tt></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="hacking.html" title="Hacking on zope.deprecation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="zope.deprecation Documentation"
             >previous</a> |</li>
        <li><a href="index.html">zope.deprecation 4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Zope Foundation Contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>
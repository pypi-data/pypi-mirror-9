.\" Man page generated from reStructuredText.
.
.TH "PMAINT" "1" "April 01, 2015" "0.9" "pkgcore"
.SH NAME
pmaint \- pkgcore system/repository maintenance utility
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
pmaint [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] {sync,copy,regen,perl\-rebuild,env\-update,mirror,digest} ...
.SH DESCRIPTION
.sp
pkgcore system/repository maintenance utility
.SH OPTIONAL ARGUMENTS
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.UNINDENT
.SH SUBCOMMANDS
.sp
general system maintenance
.SS pmaint sync
.SS synopsis
.sp
pmaint sync [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] [\-q] [\-v] [repos [repos ...]]
.SS description
.sp
synchronize a local repository with its defined remote
.SS positional arguments
.INDENT 0.0
.TP
.B repos
repositories to sync
.UNINDENT
.SS optional arguments
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.TP
.B \-q\fP,\fB  \-\-quiet
suppress non\-error messages
.TP
.B \-v\fP,\fB  \-\-verbose
show verbose output
.UNINDENT
.SS pmaint copy
.SS synopsis
.sp
pmaint copy [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] [\-s SOURCE_REPO] [\-i] target_repo query [query ...]
.SS description
.sp
copy binpkgs between repositories; primarily useful for quickpkging a livefs pkg
.SS positional arguments
.INDENT 0.0
.TP
.B target_repo
repository to add packages to
.TP
.B query
packages matching any of these restrictions will be selected for copying
.UNINDENT
.SS optional arguments
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.TP
.BI \-s \ SOURCE_REPO\fP,\fB \ \-\-source\-repo \ SOURCE_REPO
copy strictly from the supplied repository; else it copies from wherever a match is found
.TP
.B \-i\fP,\fB  \-\-ignore\-existing
if a matching pkg already exists in the target, don\(aqt update it
.UNINDENT
.SS pmaint regen
.SS synopsis
.sp
pmaint regen [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] [\-\-disable\-eclass\-caching] [\-t THREADS] [\-\-force] [\-\-rsync] [\-v] repo
.SS description
.sp
regenerate repository caches
.SS positional arguments
.INDENT 0.0
.TP
.B repo
repository to regenerate caches for
.UNINDENT
.SS optional arguments
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.TP
.B \-\-disable\-eclass\-caching
For regen operation, pkgcore internally turns on an optimization that caches eclasses into individual functions thus parsing the eclass only twice max per EBD processor.  Disabling this optimization via this option results in ~2x slower regeneration. Disable it only if you suspect the optimization is somehow causing issues.
.TP
.BI \-t \ THREADS\fP,\fB \ \-\-threads \ THREADS
number of threads to use for regeneration.  Defaults to using all available processors
.TP
.B \-\-force
force regeneration to occur regardless of staleness checks
.TP
.B \-\-rsync
perform actions necessary for rsync repos (update metadata/timestamp.chk)
.TP
.B \-v\fP,\fB  \-\-verbose
show verbose output
.UNINDENT
.SS pmaint perl\-rebuild
.SS synopsis
.sp
pmaint perl\-rebuild [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] [\-\-domain DOMAIN] new_version
.SS description
.sp
EXPERIMENTAL: perl\-rebuild support for use after upgrading perl
.SS positional arguments
.INDENT 0.0
.TP
.B new_version
the new perl version; 5.12.3 for example
.UNINDENT
.SS optional arguments
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.TP
.BI \-\-domain \ DOMAIN
domain to use for this operation
.UNINDENT
.SS pmaint env\-update
.SS synopsis
.sp
pmaint env\-update [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] [\-\-domain DOMAIN] [\-\-skip\-ldconfig]
.SS description
.sp
update env.d and ldconfig
.SS optional arguments
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.TP
.BI \-\-domain \ DOMAIN
domain to use for this operation
.TP
.B \-\-skip\-ldconfig
do not update etc/ldso.conf and ld.so.cache
.UNINDENT
.SS pmaint mirror
.SS synopsis
.sp
pmaint mirror [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] [\-\-domain DOMAIN] [\-f] query [query ...]
.SS description
.sp
mirror the sources for a package in full\- grab everything that could be required
.SS positional arguments
.INDENT 0.0
.TP
.B query
query of which packages to mirror
.UNINDENT
.SS optional arguments
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.TP
.BI \-\-domain \ DOMAIN
domain to use for this operation
.TP
.B \-f\fP,\fB  \-\-ignore\-failures
if a failure occurs, keep going.  If this option isn\(aqt given, it\(aqll stop at the first failure encountered
.UNINDENT
.SS pmaint digest
.SS synopsis
.sp
pmaint digest [\-h] [\-\-version] [\-\-debug] [\-\-color BOOLEAN] [\-\-add\-config SECTION KEY VALUE] [\-\-new\-config SECTION KEY VALUE] [\-\-empty\-config] [\-\-domain DOMAIN] [\-\-repo REPO] query [query ...]
.SS description
.sp
update a repositories package manifest/digest information
.SS positional arguments
.INDENT 0.0
.TP
.B query
packages matching any of these restrictions will have their manifest/digest updated
.UNINDENT
.SS optional arguments
.INDENT 0.0
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-\-debug
Enable debugging checks
.TP
.BI \-\-color \ BOOLEAN
Enable or disable color support.
.TP
.BI \-\-add\-config \ <SECTION KEY VALUE>
modify an existing configuration section.
.TP
.BI \-\-new\-config \ <SECTION KEY VALUE>
add a new configuration section.
.TP
.B \-\-empty\-config\fP,\fB  \-\-config\-empty
Do not load user/system configuration.
.TP
.BI \-\-domain \ DOMAIN
domain to use for this operation
.TP
.BI \-\-repo \ REPO\fP,\fB \ \-\-repository \ REPO
repository to update
.UNINDENT
.SH AUTHOR
Brian Harring, Marien Zwart, Tim Harder
.SH COPYRIGHT
2006-2015, pkgcore contributors
.\" Generated by docutils manpage writer.
.

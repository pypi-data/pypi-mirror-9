{% extends "varnish-bans-manager/core/user/layout.html" %}
{% load i18n %}
{% load vbm_widget_helpers %}
{% load vbm_form_helpers %}

{% block title %}{% trans 'Profile' %} > {% trans 'Password' %}{% endblock %}

{% block sidebar_section %}password{% endblock %}

{% block sidebar_content %}
  <div class="page-header">
    <h1>
      {% trans 'Password' %}
      <small>{% trans 'Manage your password' %}</small>
    </h1>
  </div>

  <div id="breadcrumb">
    <i class="font-awesome font-awesome-home"></i>
    <span class="item">{% trans 'Profile' %}</span>
    <a href="{% url 'user-password' %}" class="navigation current">{% trans 'Password' %}</a>
  </div>

  <div class="row-fluid">
    <form class="ajax offset1 span10" data-url="{% url 'user-password' %}">
      {% form_errors form %}
      <fieldset>
        <legend>{% trans 'Change' %}</legend>
        <!-- Old password -->
        <div class="row-fluid">
          {% form_cgroup form.old_password 'span6' %}
            <label class="control-label">{{ form.old_password.field.label }}</label>
            <div class="controls">
              <div class="input-prepend">
                <span class="add-on"><i class="font-awesome font-awesome-lock"></i></span>
                {{ form.old_password|add_class:"span12" }}
              </div>
            </div>
            {% form_ferrors form.old_password 'block' %}
          {% endform_cgroup %}
        </div>
        <!-- New password -->
        <div class="row-fluid">
          {% form_cgroup form.new_password1 form.new_password2 'span12' %}
            <label class="control-label">{{ form.new_password1.field.label }}</label>
            <div class="controls">
              <div class="span6 row">
                <div class="input-prepend">
                  <span class="add-on"><i class="font-awesome font-awesome-lock"></i></span>
                  {{ form.new_password1|add_class:"span12" }}
                </div>
                {% form_ferrors form.new_password1 'block' %}
              </div>
              <div class="span6 row">
                <div class="input-prepend">
                  <span class="add-on"><i class="font-awesome font-awesome-lock"></i></span>
                  {{ form.new_password2|add_class:"span12" }}
                </div>
                {% form_ferrors form.new_password2 'block' %}
              </div>
            </div>
          {% endform_cgroup %}
        </div>
      </fieldset>
      <div class="form-actions pull-right">
        <button class="btn btn-primary" type="submit"><i class="icon-ok icon-white"></i> {% trans 'Save' %}</button>
      </div>
    </form>
  </div>
{% endblock %}

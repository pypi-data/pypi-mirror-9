

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using the TracedMethods metaclass factory and the @traced decorator &mdash; Autologging 0.4.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Autologging 0.4.0 documentation" href="index.html"/>
        <link rel="up" title="Examples of using autologging" href="examples.html"/>
        <link rel="next" title="Using @logged, TracedMethods, and @traced together" href="examples-logged-and-traced.html"/>
        <link rel="prev" title="Using the @logged decorator" href="examples-logged.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> Autologging</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to Autologging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#logging-and-tracing-by-hand">Logging and tracing &#8220;by hand&#8221;</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#logging-and-tracing-with-autologging">Logging and tracing with <tt class="docutils literal"><span class="pre">autologging</span></tt></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autologging.html">The <tt class="docutils literal"><span class="pre">autologging</span></tt> API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="examples.html">Examples of using <tt class="docutils literal"><span class="pre">autologging</span></tt></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples-logged.html">Using the <tt class="docutils literal"><span class="pre">&#64;logged</span></tt> decorator</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Using the <tt class="docutils literal"><span class="pre">TracedMethods</span></tt> metaclass factory and the <tt class="docutils literal"><span class="pre">&#64;traced</span></tt> decorator</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples-logged-and-traced.html">Using <tt class="docutils literal"><span class="pre">&#64;logged</span></tt>, <tt class="docutils literal"><span class="pre">TracedMethods</span></tt>, and <tt class="docutils literal"><span class="pre">&#64;traced</span></tt> together</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples-inheritance.html">Logging, tracing, and inheritance</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Autologging</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="examples.html">Examples of using <tt class="docutils literal"><span class="pre">autologging</span></tt></a> &raquo;</li>
      
    <li>Using the <tt class="docutils literal"><span class="pre">TracedMethods</span></tt> metaclass factory and the <tt class="docutils literal"><span class="pre">&#64;traced</span></tt> decorator</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/examples-traced.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="using-the-tracedmethods-metaclass-factory-and-the-traced-decorator">
<h1>Using the <tt class="docutils literal"><span class="pre">TracedMethods</span></tt> metaclass factory and the <tt class="docutils literal"><span class="pre">&#64;traced</span></tt> decorator<a class="headerlink" href="#using-the-tracedmethods-metaclass-factory-and-the-traced-decorator" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">0.4.0</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><a class="reference internal" href="#module-traced-class"><em>Trace all methods of a class using a module-named logger</em></a></li>
<li><a class="reference internal" href="#named-traced-class"><em>Trace all methods of a class using a user-named logger</em></a></li>
<li><a class="reference internal" href="#specific-traced-methods"><em>Trace only certain methods of a class</em></a></li>
<li><a class="reference internal" href="#traced-nested-class"><em>Trace a nested class</em></a></li>
<li><a class="reference internal" href="#module-traced-function"><em>Trace a function using a module-named logger</em></a></li>
<li><a class="reference internal" href="#named-traced-function"><em>Trace a function using a user-named logger</em></a></li>
<li><a class="reference internal" href="#traced-nested-function"><em>Trace a nested function</em></a></li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <tt class="docutils literal"><span class="pre">&#64;traced</span></tt> decorator will not work as you might expect for methods of
a class. In general, prefer to use the <tt class="docutils literal"><span class="pre">TracedMethods</span></tt> metaclass factory
for tracing methods of a class, and the <tt class="docutils literal"><span class="pre">&#64;traced</span></tt> decorator for tracing
functions defined outside of classes.</p>
</div>
<div class="section" id="trace-all-methods-of-a-class-using-a-module-named-logger">
<span id="module-traced-class"></span><h2>Trace all methods of a class using a module-named logger<a class="headerlink" href="#trace-all-methods-of-a-class-using-a-module-named-logger" title="Permalink to this headline">¶</a></h2>
<p>This is the simplest way to use <a class="reference internal" href="autologging.html#autologging.TracedMethods" title="autologging.TracedMethods"><tt class="xref py py-func docutils literal"><span class="pre">autologging.TracedMethods()</span></tt></a>. All
<em>non-special</em> methods of the class are traced to a logger that is named after
the containing module and class. (Note: the special <tt class="docutils literal"><span class="pre">__init__</span></tt> method is an
exception to the rule - it is traced by default if it is defined.)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Inherited methods are <strong>never</strong> traced. If you want tracing for inherited
methods, either trace them in the super class, or override them in the
subclass.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># my_module.py</span>

<span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TracedMethods</span>


<span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">TracedMethods</span><span class="p">()):</span>

   <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="s">&quot;ham&quot;</span>

   <span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
      <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">, and </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">,</span> <span class="n">keyword</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TRACE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">TRACE</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%(levelname)s</span><span class="s">:</span><span class="si">%(name)s</span><span class="s">:</span><span class="si">%(funcName)s</span><span class="s">:</span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">MyClass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="go">TRACE:my_module.MyClass:__init__:CALL *() **{}</span>
<span class="go">TRACE:my_module.MyClass:__init__:RETURN None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span><span class="o">.</span><span class="n">my_method</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s">&quot;eggs&quot;</span><span class="p">)</span>
<span class="go">TRACE:my_module.MyClass:my_method:CALL *(&#39;spam&#39;,) **{&#39;keyword&#39;: &#39;eggs&#39;}</span>
<span class="go">TRACE:my_module.MyClass:my_method:RETURN &#39;spam, ham, and eggs&#39;</span>
<span class="go">&#39;spam, ham, and eggs&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="trace-all-methods-of-a-class-using-a-user-named-logger">
<span id="named-traced-class"></span><h2>Trace all methods of a class using a user-named logger<a class="headerlink" href="#trace-all-methods-of-a-class-using-a-user-named-logger" title="Permalink to this headline">¶</a></h2>
<p>This example is identical to the above example, except that the tracing logger
has a user-defined name (&#8220;tracing.example&#8221; in this case). Simply pass the
user-defined logger as the first positional argument to <tt class="docutils literal"><span class="pre">TracedMethods</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># my_module.py</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TracedMethods</span>

<span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;tracing.example&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">TracedMethods</span><span class="p">(</span><span class="n">_logger</span><span class="p">)):</span>

   <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="s">&quot;ham&quot;</span>

   <span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
      <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">, and </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">,</span> <span class="n">keyword</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TRACE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">TRACE</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%(levelname)s</span><span class="s">:</span><span class="si">%(name)s</span><span class="s">:</span><span class="si">%(funcName)s</span><span class="s">:</span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">MyClass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="go">TRACE:tracing.example.MyClass:__init__:CALL *() **{}</span>
<span class="go">TRACE:tracing.example.MyClass:__init__:RETURN None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span><span class="o">.</span><span class="n">my_method</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s">&quot;eggs&quot;</span><span class="p">)</span>
<span class="go">TRACE:tracing.example.MyClass:my_method:CALL *(&#39;spam&#39;,) **{&#39;keyword&#39;: &#39;eggs&#39;}</span>
<span class="go">TRACE:tracing.example.MyClass:my_method:RETURN &#39;spam, ham, and eggs&#39;</span>
<span class="go">&#39;spam, ham, and eggs&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="trace-only-certain-methods-of-a-class">
<span id="specific-traced-methods"></span><h2>Trace only certain methods of a class<a class="headerlink" href="#trace-only-certain-methods-of-a-class" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">TracedMethods</span></tt> metaclass factory accepts a variable number of positional
arguments. As you saw in the previous example, passing a user-defined logger as
the first argument allows you to specify the parent logger for tracing. You may
also pass a variable number of method names as arguments to <tt class="docutils literal"><span class="pre">TracedMethods</span></tt>.
Autologging will then trace only the methods that are named (assuming that they
are defined in the class body). And as in the previous example, you may still
choose whether or not to pass in a parent logger.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># my_module.py</span>

<span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TracedMethods</span>


<span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">TracedMethods</span><span class="p">(</span><span class="s">&quot;my_method&quot;</span><span class="p">,</span> <span class="s">&quot;__eq__&quot;</span><span class="p">)):</span>

   <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="s">&quot;ham&quot;</span>

   <span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
      <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">, and </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">,</span> <span class="n">keyword</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
      <span class="k">return</span> <span class="bp">False</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TRACE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">TRACE</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%(levelname)s</span><span class="s">:</span><span class="si">%(name)s</span><span class="s">:</span><span class="si">%(funcName)s</span><span class="s">:</span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">MyClass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>  <span class="c"># __init__ is not in the list, so not traced</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span><span class="o">.</span><span class="n">my_method</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s">&quot;eggs&quot;</span><span class="p">)</span>
<span class="go">TRACE:my_module.MyClass:my_method:CALL *(&#39;spam&#39;,) **{&#39;keyword&#39;: &#39;eggs&#39;}</span>
<span class="go">TRACE:my_module.MyClass:my_method:RETURN &#39;spam, ham, and eggs&#39;</span>
<span class="go">&#39;spam, ham, and eggs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_obj</span> <span class="o">==</span> <span class="mi">79</span>  <span class="c"># __eq__ is explicitly named in the list</span>
<span class="go">TRACE:my_module.MyClass:__eq__:CALL *(79,) **{}</span>
<span class="go">TRACE:my_module.MyClass:__eq__:RETURN False</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="trace-a-nested-class">
<span id="traced-nested-class"></span><h2>Trace a nested class<a class="headerlink" href="#trace-a-nested-class" title="Permalink to this headline">¶</a></h2>
<p>Tracing a nested class is no different than tracing a top-level class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># my_module.py</span>

<span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TracedMethods</span>


<span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>

   <span class="k">class</span> <span class="nc">Nested</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">TracedMethods</span><span class="p">()):</span>

      <span class="k">def</span> <span class="nf">do_something</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Under Python 3.3+, Autologging will use a class&#8217;s qualified name
(<span class="target" id="index-0"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-3155"><strong>PEP 3155</strong></a>) when creating loggers. In this example, the tracing
log entries will be logged using the name &#8220;my_module.MyClass.Nested&#8221;.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TRACE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">TRACE</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%(levelname)s</span><span class="s">:</span><span class="si">%(name)s</span><span class="s">:</span><span class="si">%(funcName)s</span><span class="s">:</span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">MyClass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested</span> <span class="o">=</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">Nested</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested</span><span class="o">.</span><span class="n">do_something</span><span class="p">()</span>
<span class="go">TRACE:my_module.MyClass.Nested:do_something:CALL *() **{}</span>
<span class="go">TRACE:my_module.MyClass.Nested:do_something:RETURN None</span>
</pre></div>
</div>
</div>
<div class="section" id="trace-a-function-using-a-module-named-logger">
<span id="module-traced-function"></span><h2>Trace a function using a module-named logger<a class="headerlink" href="#trace-a-function-using-a-module-named-logger" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># my_module.py</span>

<span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">traced</span>


<span class="nd">@traced</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
   <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> and </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TRACE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">TRACE</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%(levelname)s</span><span class="s">:</span><span class="si">%(name)s</span><span class="s">:</span><span class="si">%(funcName)s</span><span class="s">:</span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">my_function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_function</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s">&quot;eggs&quot;</span><span class="p">)</span>
<span class="go">TRACE:my_module:my_function:CALL *(&#39;spam&#39;,) **{&#39;keyword&#39;: &#39;eggs&#39;}</span>
<span class="go">TRACE:my_module:my_function:RETURN &#39;spam and eggs&#39;</span>
<span class="go">&#39;spam and eggs&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="trace-a-function-using-a-user-named-logger">
<span id="named-traced-function"></span><h2>Trace a function using a user-named logger<a class="headerlink" href="#trace-a-function-using-a-user-named-logger" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># my_module.py</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">traced</span>


<span class="nd">@traced</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;my.app&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
   <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> and </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TRACE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">TRACE</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%(levelname)s</span><span class="s">:</span><span class="si">%(name)s</span><span class="s">:</span><span class="si">%(funcName)s</span><span class="s">:</span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">my_function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_function</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s">&quot;eggs&quot;</span><span class="p">)</span>
<span class="go">TRACE:my.app:my_function:CALL *(&#39;spam&#39;,) **{&#39;keyword&#39;: &#39;eggs&#39;}</span>
<span class="go">TRACE:my.app:my_function:RETURN &#39;spam and eggs&#39;</span>
<span class="go">&#39;spam and eggs&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="trace-a-nested-function">
<span id="traced-nested-function"></span><h2>Trace a nested function<a class="headerlink" href="#trace-a-nested-function" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># my_module.py</span>

<span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">traced</span>


<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
   <span class="nd">@traced</span>
   <span class="k">def</span> <span class="nf">nested_function</span><span class="p">(</span><span class="n">word1</span><span class="p">,</span> <span class="n">word2</span><span class="p">):</span>
      <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> and </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">word1</span><span class="p">,</span> <span class="n">word2</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">nested_function</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">keyword</span> <span class="k">if</span> <span class="p">(</span><span class="n">keyword</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span> <span class="k">else</span> <span class="s">&quot;eggs&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">logging</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autologging</span> <span class="kn">import</span> <span class="n">TRACE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">TRACE</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%(levelname)s</span><span class="s">:</span><span class="si">%(name)s</span><span class="s">:</span><span class="si">%(funcName)s</span><span class="s">:</span><span class="si">%(message)s</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="n">my_function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_function</span><span class="p">(</span><span class="s">&quot;spam&quot;</span><span class="p">)</span>
<span class="go">TRACE:my_module:nested_function:CALL *(&#39;spam&#39;, &#39;eggs&#39;) **{}</span>
<span class="go">TRACE:my_module:nested_function:RETURN &#39;spam and eggs&#39;</span>
<span class="go">&#39;spam and eggs&#39;</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples-logged-and-traced.html" class="btn btn-neutral float-right" title="Using @logged, TracedMethods, and @traced together">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="examples-logged.html" class="btn btn-neutral" title="Using the @logged decorator"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2015, Matthew Zipay.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
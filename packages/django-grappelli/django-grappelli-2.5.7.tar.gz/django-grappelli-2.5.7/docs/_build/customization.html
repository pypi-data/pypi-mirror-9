

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Customization &mdash; Django Grappelli 2.5.6 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'2.5.6',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="top" title="Django Grappelli 2.5.6 documentation" href="index.html"/>
        <link rel="next" title="Dashboard Setup" href="dashboard_setup.html"/>
        <link rel="prev" title="Quick start guide" href="quickstart.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> Django Grappelli</a>
        <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Customization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#available-settings">Available Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collapsibles">Collapsibles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inline-sortables">Inline Sortables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sortable-excludes">Sortable Excludes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rearrange-inlines">Rearrange Inlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#related-lookups">Related Lookups</a></li>
<li class="toctree-l2"><a class="reference internal" href="#autocomplete-lookups">Autocomplete Lookups</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-tinymce">Using TinyMCE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changelist-templates">Changelist Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changelist-filters">Changelist Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#switch-user">Switch User</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clean-input-types">Clean input types</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dashboard_setup.html">Dashboard Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dashboard_setup.html#custom-dashboard">Custom dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_setup.html#custom-dashboards-for-multiple-sites">Custom dashboards for multiple sites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dashboard_api.html">Dashboard API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-dashboard-class">The Dashboard class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-dashboardmodule-class">The DashboardModule class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-group-class">The Group class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-linklist-class">The LinkList class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-applist-class">The AppList class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-modellist-class">The ModelList class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-recentactions-class">The RecentActions class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_api.html#the-feed-class">The Feed class</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="internals.html">Internals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascripts.html">Javascripts</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="bestpractice.html">Best Practice</a></li>
<li class="toctree-l2"><a class="reference internal" href="thirdparty.html">Third Party Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="djangoissues.html">Django Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="releasenotes.html">Grappelli 2.5.x Release Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="index.html">Django Grappelli</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="index.html">Docs</a> &raquo;</li>
  <li><a href="">Customization</a></li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="_sources/customization.txt" rel="nofollow"> View page source</a>
      
    </li>
</ul>
<hr/>

          
  <div class="section" id="customization">
<span id="id1"></span><h1>Customization<a class="headerlink" href="#customization" title="Permalink to this headline">¶</a></h1>
<p>While Grappelli is mainly about the look &amp; feel of the admin interface, it also adds some features.</p>
<div class="section" id="available-settings">
<span id="customizationsettings"></span><h2>Available Settings<a class="headerlink" href="#available-settings" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.5.4: </span>Added setting <tt class="docutils literal"><span class="pre">GRAPPELLI_CLEAN_INPUT_TYPES</span></tt>.</p>
</div>
<div class="versionadded">
<p><span>New in version 2.4: </span>Added settings <tt class="docutils literal"><span class="pre">GRAPPELLI_SWITCH_USER</span></tt>, <tt class="docutils literal"><span class="pre">GRAPPELLI_SWITCH_USER_ORIGINAL</span></tt>, <tt class="docutils literal"><span class="pre">GRAPPELLI_SWITCH_USER_TARGET</span></tt>, <tt class="docutils literal"><span class="pre">GRAPPELLI_AUTOCOMPLETE_SEARCH_FIELDS</span></tt>, <tt class="docutils literal"><span class="pre">GRAPPELLI_AUTOCOMPLETE_LIMIT</span></tt></p>
</div>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">GRAPPELLI_ADMIN_TITLE</span></tt></dt>
<dd>The Site Title of your admin interface. Change this instead of changing index.html</dd>
<dt><tt class="docutils literal"><span class="pre">GRAPPELLI_AUTOCOMPLETE_LIMIT</span></tt></dt>
<dd>Number of items to show with autocomplete drop–downs.</dd>
<dt><tt class="docutils literal"><span class="pre">GRAPPELLI_AUTOCOMPLETE_SEARCH_FIELDS</span></tt></dt>
<dd>A dictionary containing search patterns for models you cannot (or should not) alter.</dd>
<dt><tt class="docutils literal"><span class="pre">GRAPPELLI_SWITCH_USER</span></tt></dt>
<dd>Set to <tt class="docutils literal"><span class="pre">True</span></tt> if you want to activate the switch user functionality.</dd>
<dt><tt class="docutils literal"><span class="pre">GRAPPELLI_SWITCH_USER_ORIGINAL</span></tt></dt>
<dd>A function which defines if a User is able to switch to another User (returns either <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>).
Defaults to all superusers.</dd>
<dt><tt class="docutils literal"><span class="pre">GRAPPELLI_SWITCH_USER_TARGET</span></tt></dt>
<dd>A function which defines if a User is a valid switch target (returns either <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>).
Defaults to all staff users, excluding superusers.</dd>
<dt><tt class="docutils literal"><span class="pre">GRAPPELLI_CLEAN_INPUT_TYPES</span></tt></dt>
<dd>Set to <tt class="docutils literal"><span class="pre">True</span></tt> in order to replace HTML5 input types (search, email, url, tel, number, range, date, month, week, time, datetime, datetime-local, color) due to browser inconsistencies.</dd>
</dl>
</div>
<div class="section" id="collapsibles">
<span id="customizationcollapsibles"></span><h2>Collapsibles<a class="headerlink" href="#collapsibles" title="Permalink to this headline">¶</a></h2>
<div class="versionchanged">
<p><span>Changed in version 2.4: </span>Added namespace <tt class="docutils literal"><span class="pre">grp-</span></tt>.</p>
</div>
<p>Use the <tt class="docutils literal"><span class="pre">classes</span></tt> property in order to define collapsibles for a <a class="reference external" href="http://docs.djangoproject.com/en/1.6/ref/contrib/admin/#modeladmin-objects">ModelAdmin</a> or an <a class="reference external" href="http://docs.djangoproject.com/en/1.6/ref/contrib/admin/#inlinemodeladmin-objects">InlineModelAdmin</a>. Possible values are <tt class="docutils literal"><span class="pre">grp-collapse</span> <span class="pre">grp-open</span></tt> and <tt class="docutils literal"><span class="pre">grp-collapse</span> <span class="pre">grp-closed</span></tt>.</p>
<p>A ModelAdmin example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">fieldsets</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;subtitle&#39;</span><span class="p">,</span> <span class="s">&#39;slug&#39;</span><span class="p">,</span> <span class="s">&#39;pub_date&#39;</span><span class="p">,</span> <span class="s">&#39;status&#39;</span><span class="p">,),</span>
        <span class="p">}),</span>
        <span class="p">(</span><span class="s">&#39;Flags&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s">&#39;classes&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;grp-collapse grp-closed&#39;</span><span class="p">,),</span>
            <span class="s">&#39;fields&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;flag_front&#39;</span><span class="p">,</span> <span class="s">&#39;flag_sticky&#39;</span><span class="p">,</span> <span class="s">&#39;flag_allow_comments&#39;</span><span class="p">,</span> <span class="s">&#39;flag_comments_closed&#39;</span><span class="p">,),</span>
        <span class="p">}),</span>
        <span class="p">(</span><span class="s">&#39;Tags&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s">&#39;classes&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;grp-collapse grp-open&#39;</span><span class="p">,),</span>
            <span class="s">&#39;fields&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;tags&#39;</span><span class="p">,),</span>
        <span class="p">}),</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>With <a class="reference external" href="https://docs.djangoproject.com/en/1.6/ref/contrib/admin/#django.contrib.admin.StackedInline">StackedInlines</a>, an additional property <tt class="docutils literal"><span class="pre">inline_classes</span></tt> is available to define the default collapsible state of inline items (as opposed to the inline group):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">NavigationItemInline</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">StackedInline</span><span class="p">):</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;grp-collapse grp-open&#39;</span><span class="p">,)</span>
    <span class="n">inline_classes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;grp-collapse grp-open&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</div>
<div class="section" id="inline-sortables">
<span id="customizationinlinessortables"></span><h2>Inline Sortables<a class="headerlink" href="#inline-sortables" title="Permalink to this headline">¶</a></h2>
<p>For using drag/drop with inlines, you need to add a <tt class="docutils literal"><span class="pre">PositiveIntegerField</span></tt> to your Model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyInlineModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">mymodel</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">MyModel</span><span class="p">)</span>
    <span class="c"># position field</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveSmallIntegerField</span><span class="p">(</span><span class="s">&quot;Position&quot;</span><span class="p">)</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;position&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Now, define the <tt class="docutils literal"><span class="pre">sortable_field_name</span></tt> with your <tt class="docutils literal"><span class="pre">InlineModelAdmin</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyInlineModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">TabularInline</span><span class="p">):</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="o">...</span> <span class="p">,</span> <span class="s">&quot;position&quot;</span><span class="p">,)</span>
    <span class="c"># define the sortable</span>
    <span class="n">sortable_field_name</span> <span class="o">=</span> <span class="s">&quot;position&quot;</span>
</pre></div>
</div>
<p>The inline rows are reordered based on the sortable field (with a templatetag <tt class="docutils literal"><span class="pre">formsetsort</span></tt>). When submitting a form, the values of the sortable field are reindexed according to the position of each row.
In case of errors (somewhere within the form), the position of inline rows is preserved. This also applies to rows prepared for deletion while empty rows are being moved to the end of the formset.</p>
<p>Besides using the drag/drop-handler, you are also able to manually update the position values. This is especially with lots of inlines. Just change the number within the position field and the row is automatically moved to the new position. Each row is being reindexed with submitting the form.</p>
<p>There is also <tt class="docutils literal"><span class="pre">GrappelliSortableHiddenMixin</span></tt>, which is a helper Mixin in order to hide the PositionField:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">grappelli.forms</span> <span class="kn">import</span> <span class="n">GrappelliSortableHiddenMixin</span>

<span class="k">class</span> <span class="nc">MyInlineModelOptions</span><span class="p">(</span><span class="n">GrappelliSortableHiddenMixin</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">TabularInline</span><span class="p">):</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="o">...</span> <span class="p">,</span> <span class="s">&quot;position&quot;</span><span class="p">,)</span>
    <span class="c"># defining the sortable is only necessary if the sortable field name</span>
    <span class="c"># is not &#39;position&#39;</span>
    <span class="n">sortable_field_name</span> <span class="o">=</span> <span class="s">&quot;customposition&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="sortable-excludes">
<span id="customizationsortableexcludes"></span><h2>Sortable Excludes<a class="headerlink" href="#sortable-excludes" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.4.</span></p>
</div>
<p>You may want to define <tt class="docutils literal"><span class="pre">sortable_excludes</span></tt> (either list or tuple) in order to exclude certain fields from having an effect on the position field. This is especially useful if a field has a default value:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyInlineModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">TabularInline</span><span class="p">):</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="o">...</span> <span class="p">,</span> <span class="s">&quot;position&quot;</span><span class="p">,)</span>
    <span class="c"># define the sortable</span>
    <span class="n">sortable_field_name</span> <span class="o">=</span> <span class="s">&quot;position&quot;</span>
    <span class="c"># define sortable_excludes</span>
    <span class="n">sortable_excludes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;field_1&quot;</span><span class="p">,</span> <span class="s">&quot;field_2&quot;</span><span class="p">,)</span>
</pre></div>
</div>
</div>
<div class="section" id="rearrange-inlines">
<span id="customizationrearrangeinlines"></span><h2>Rearrange Inlines<a class="headerlink" href="#rearrange-inlines" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.4.</span></p>
</div>
<p>Sometimes it might make sense to not show inlines at the bottom of the page/form, but somewhere in–between. In order to achieve this, you need to define a placeholder with your fields/fieldsets in admin.py:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="s">&quot;Some Fieldset&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="s">&quot;classes&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;grp-collapse grp-open&quot;</span><span class="p">,),</span>
    <span class="s">&quot;fields&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;whatever&quot;</span><span class="p">,)</span>
<span class="p">}),</span>
<span class="p">(</span><span class="s">&quot;Image Inlines&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;classes&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;placeholder images-group&quot;</span><span class="p">,),</span> <span class="s">&quot;fields&quot;</span> <span class="p">:</span> <span class="p">()}),</span>
<span class="p">(</span><span class="s">&quot;Another Fieldset&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="s">&quot;classes&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;grp-collapse grp-open&quot;</span><span class="p">,),</span>
    <span class="s">&quot;fields&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;whatever&quot;</span><span class="p">,)</span>
<span class="p">}),</span>

<span class="n">inlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">ImageInlines</span><span class="p">]</span>
</pre></div>
</div>
<p>The two classes for the placeholder are important. First, you need a class <tt class="docutils literal"><span class="pre">placeholder</span></tt>. The second class has to match the <tt class="docutils literal"><span class="pre">id</span></tt> of the inline–group.</p>
</div>
<div class="section" id="related-lookups">
<span id="customizationrelatedlookups"></span><h2>Related Lookups<a class="headerlink" href="#related-lookups" title="Permalink to this headline">¶</a></h2>
<p>With Grappelli, you&#8217;re able to add the representation of an object beneath the input field (for fk– and m2m–fields):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">related_fk</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">RelatedModel</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s">u&quot;Related Lookup (FK)&quot;</span><span class="p">)</span>
    <span class="n">related_m2m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">RelatedModel</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s">u&quot;Related Lookup (M2M)&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c"># define the raw_id_fields</span>
    <span class="n">raw_id_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;related_fk&#39;</span><span class="p">,</span><span class="s">&#39;related_m2m&#39;</span><span class="p">,)</span>
    <span class="c"># define the related_lookup_fields</span>
    <span class="n">related_lookup_fields</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;fk&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;related_fk&#39;</span><span class="p">],</span>
        <span class="s">&#39;m2m&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;related_m2m&#39;</span><span class="p">],</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>With generic relations, related lookups are defined like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.contrib.contenttypes</span> <span class="kn">import</span> <span class="n">generic</span>
<span class="kn">from</span> <span class="nn">django.contrib.contenttypes.models</span> <span class="kn">import</span> <span class="n">ContentType</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c"># first generic relation</span>
    <span class="n">content_type</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">ContentType</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;content_type&quot;</span><span class="p">)</span>
    <span class="n">object_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">content_object</span> <span class="o">=</span> <span class="n">generic</span><span class="o">.</span><span class="n">GenericForeignKey</span><span class="p">(</span><span class="s">&quot;content_type&quot;</span><span class="p">,</span> <span class="s">&quot;object_id&quot;</span><span class="p">)</span>
    <span class="c"># second generic relation</span>
    <span class="n">relation_type</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">ContentType</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;relation_type&quot;</span><span class="p">)</span>
    <span class="n">relation_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">relation_object</span> <span class="o">=</span> <span class="n">generic</span><span class="o">.</span><span class="n">GenericForeignKey</span><span class="p">(</span><span class="s">&quot;relation_type&quot;</span><span class="p">,</span> <span class="s">&quot;relation_id&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c"># define the related_lookup_fields</span>
    <span class="n">related_lookup_fields</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;generic&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s">&#39;content_type&#39;</span><span class="p">,</span> <span class="s">&#39;object_id&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;relation_type&#39;</span><span class="p">,</span> <span class="s">&#39;relation_id&#39;</span><span class="p">]],</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>If your generic relation points to a model using a custom primary key, you need to add a property <tt class="docutils literal"><span class="pre">id</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">RelationModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">cpk</span>  <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">editable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpk</span>
</pre></div>
</div>
<p>For the representation of an object, we first check for a callable <tt class="docutils literal"><span class="pre">related_label</span></tt>. If not given, <tt class="docutils literal"><span class="pre">__unicode__</span></tt> is being used in Python 2.x or <tt class="docutils literal"><span class="pre">__str__</span></tt> in Python 3.x.</p>
<p>Example in Python 2:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">u&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">def</span> <span class="nf">related_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">u&quot;</span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<p>Example in Python 3:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">def</span> <span class="nf">related_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use related lookups, you need to register both ends (models) of the relationship with your <tt class="docutils literal"><span class="pre">admin.site</span></tt>.</p>
</div>
</div>
<div class="section" id="autocomplete-lookups">
<span id="customizationautocompletelookups"></span><h2>Autocomplete Lookups<a class="headerlink" href="#autocomplete-lookups" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.4: </span>staticmethod <tt class="docutils literal"><span class="pre">autocomplete_term_adjust</span></tt> for better search optimization.</p>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.4: </span>staticmethod <tt class="docutils literal"><span class="pre">autocomplete_search_fields</span></tt> is optional if <tt class="docutils literal"><span class="pre">GRAPPELLI_AUTOCOMPLETE_SEARCH_FIELDS</span></tt> is being used.</p>
</div>
<p>Autocomplete lookups are an alternative to related lookups (for foreign keys, many–to-many relations and generic relations).</p>
<p>Add the staticmethod <tt class="docutils literal"><span class="pre">autocomplete_search_fields</span></tt> to all models you want to search for:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="s">u&quot;Name&quot;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">autocomplete_search_fields</span><span class="p">():</span>
        <span class="k">return</span> <span class="p">(</span><span class="s">&quot;id__iexact&quot;</span><span class="p">,</span> <span class="s">&quot;name__icontains&quot;</span><span class="p">,)</span>
</pre></div>
</div>
<p>If the staticmethod is not given, <tt class="docutils literal"><span class="pre">GRAPPELLI_AUTOCOMPLETE_SEARCH_FIELDS</span></tt> will be used if the app/model is defined:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">GRAPPELLI_AUTOCOMPLETE_SEARCH_FIELDS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;myapp&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;mymodel&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s">&quot;id__iexact&quot;</span><span class="p">,</span> <span class="s">&quot;name__icontains&quot;</span><span class="p">,)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Defining autocomplete lookups is very similar to related lookups:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">related_fk</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">RelatedModel</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s">u&quot;Related Lookup (FK)&quot;</span><span class="p">)</span>
    <span class="n">related_m2m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">RelatedModel</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s">u&quot;Related Lookup (M2M)&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c"># define the raw_id_fields</span>
    <span class="n">raw_id_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;related_fk&#39;</span><span class="p">,</span><span class="s">&#39;related_m2m&#39;</span><span class="p">,)</span>
    <span class="c"># define the autocomplete_lookup_fields</span>
    <span class="n">autocomplete_lookup_fields</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;fk&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;related_fk&#39;</span><span class="p">],</span>
        <span class="s">&#39;m2m&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;related_m2m&#39;</span><span class="p">],</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>This also works with generic relations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.contrib.contenttypes</span> <span class="kn">import</span> <span class="n">generic</span>
<span class="kn">from</span> <span class="nn">django.contrib.contenttypes.models</span> <span class="kn">import</span> <span class="n">ContentType</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="c"># first generic relation</span>
    <span class="n">content_type</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">ContentType</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;content_type&quot;</span><span class="p">)</span>
    <span class="n">object_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">content_object</span> <span class="o">=</span> <span class="n">generic</span><span class="o">.</span><span class="n">GenericForeignKey</span><span class="p">(</span><span class="s">&quot;content_type&quot;</span><span class="p">,</span> <span class="s">&quot;object_id&quot;</span><span class="p">)</span>
    <span class="c"># second generic relation</span>
    <span class="n">relation_type</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">ContentType</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">&quot;relation_type&quot;</span><span class="p">)</span>
    <span class="n">relation_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">relation_object</span> <span class="o">=</span> <span class="n">generic</span><span class="o">.</span><span class="n">GenericForeignKey</span><span class="p">(</span><span class="s">&quot;relation_type&quot;</span><span class="p">,</span> <span class="s">&quot;relation_id&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="c"># define the autocomplete_lookup_fields</span>
    <span class="n">autocomplete_lookup_fields</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;generic&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s">&#39;content_type&#39;</span><span class="p">,</span> <span class="s">&#39;object_id&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;relation_type&#39;</span><span class="p">,</span> <span class="s">&#39;relation_id&#39;</span><span class="p">]],</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>If your generic relation points to a model using a custom primary key, you need to add a property <tt class="docutils literal"><span class="pre">id</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">RelationModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">cpk</span>  <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">editable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpk</span>
</pre></div>
</div>
<p>If the human-readable value of a field you are searching on is too large to be indexed (e.g. long text as SHA key) or is saved in a different format (e.g. date as integer timestamp), add a staticmethod <tt class="docutils literal"><span class="pre">autocomplete_term_adjust</span></tt> to the corresponding model with the appropriate transformation and perform the lookup on the indexed field:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="s">u&quot;Long text&quot;</span><span class="p">)</span>
    <span class="n">text_hash</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="s">u&quot;Text hash&quot;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">autocomplete_term_adjust</span><span class="p">(</span><span class="n">term</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">(</span><span class="n">term</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">autocomplete_search_fields</span><span class="p">():</span>
        <span class="k">return</span> <span class="p">(</span><span class="s">&quot;text_hash__iexact&quot;</span><span class="p">,)</span>
</pre></div>
</div>
<p>For the representation of an object, we first check for a callable <tt class="docutils literal"><span class="pre">related_label</span></tt>. If not given, <tt class="docutils literal"><span class="pre">__unicode__</span></tt> is being usedin Python 2.x or <tt class="docutils literal"><span class="pre">__str__</span></tt> in Python 3.x.</p>
<p>Example in Python 2:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">u&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">def</span> <span class="nf">related_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">u&quot;</span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<p>Example in Python 3:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">def</span> <span class="nf">related_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use autocompletes, you need to register both ends (models) of the relationship with your <tt class="docutils literal"><span class="pre">admin.site</span></tt>.</p>
</div>
</div>
<div class="section" id="using-tinymce">
<span id="customizationtinymce"></span><h2>Using TinyMCE<a class="headerlink" href="#using-tinymce" title="Permalink to this headline">¶</a></h2>
<div class="versionchanged">
<p><span>Changed in version 2.4: </span>The admin media URLs has been changed to use static URLs in compliance with Django 1.4</p>
</div>
<p>Grappelli already comes with TinyMCE and a minimal theme as well. In order to use TinyMCE, copy <tt class="docutils literal"><span class="pre">tinymce_setup.js</span></tt> to your static directory, adjust the setup (see <a class="reference external" href="http://www.tinymce.com/wiki.php/Configuration">TinyMCE Configuration</a>) and add the necessary javascripts to your ModelAdmin definition (see <a class="reference external" href="https://docs.djangoproject.com/en/1.4/ref/contrib/admin/#modeladmin-media-definitions">ModelAdmin Media definitions</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Media</span><span class="p">:</span>
    <span class="n">js</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">&#39;/static/grappelli/tinymce/jscripts/tiny_mce/tiny_mce.js&#39;</span><span class="p">,</span>
        <span class="s">&#39;/static/path/to/your/tinymce_setup.js&#39;</span><span class="p">,</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>Using TinyMCE with inlines is a bit more tricky because of the hidden extra inline. You need to write a custom template and use the inline callbacks to</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">onInit</span></tt>: remove TinyMCE instances from the empty form.</li>
<li><tt class="docutils literal"><span class="pre">onAfterAdded</span></tt>: initialize TinyMCE instance(s) from the form.</li>
<li><tt class="docutils literal"><span class="pre">onBeforeRemoved</span></tt>: remove TinyMCE instance(s) from the form.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TinyMCE with inlines is not supported by default.</p>
</div>
<p>If our version of TinyMCE does not fit your needs, add a different version to your static directory and change the above mentioned ModelAdmin setup (paths to js–files).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">TinyMCE will be removed with version 3.0 of Grappelli, because TinyMCE version 4.x comes with a decent skin.</p>
</div>
</div>
<div class="section" id="changelist-templates">
<span id="changelistfilters"></span><h2>Changelist Templates<a class="headerlink" href="#changelist-templates" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.4.</span></p>
</div>
<p>Grappelli comes with 2 different change–list templates. The standard template shows filters with a drop–down, the alternative template shows filters on the right hand side of the results (similar to djangos admin interface). To use the alternative template, you need to add <tt class="docutils literal"><span class="pre">change_list_template</span></tt> to your ModelAdmin definition:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">change_list_template</span> <span class="o">=</span> <span class="s">&quot;admin/change_list_filter_sidebar.html&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="changelist-filters">
<h2>Changelist Filters<a class="headerlink" href="#changelist-filters" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.4.</span></p>
</div>
<p>Grappelli comes with 2 different change–list filters. The standard filters are selects, the alternative filters are list of options (similar to djangos admin interface). To use the alternative filters, you need to add <tt class="docutils literal"><span class="pre">change_list_filter_template</span></tt> to your ModelAdmin definition:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModelOptions</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">change_list_filter_template</span> <span class="o">=</span> <span class="s">&quot;admin/filter_listing.html&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="switch-user">
<span id="switchuser"></span><h2>Switch User<a class="headerlink" href="#switch-user" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.4.</span></p>
</div>
<p>You sometimes might need to see the admin interface as a different user (e.g. in order to verify if permissions are set correctly or to follow an editors explanation). If you set <tt class="docutils literal"><span class="pre">GRAPPELLI_SWITCH_USER</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt>, you&#8217;ll get additional users with your user dropdown. Moreover, you can easily switch back to the original User.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This functionality might change with future releases.</p>
</div>
</div>
<div class="section" id="clean-input-types">
<span id="cleaninputtypes"></span><h2>Clean input types<a class="headerlink" href="#clean-input-types" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span>New in version 2.5.4.</span></p>
</div>
<p>With setting <tt class="docutils literal"><span class="pre">GRAPPELLI_CLEAN_INPUT_TYPES</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt>, Grappelli automatically replaces all HTML5 input types (search, email, url, tel, number, range, date month, week, time, datetime, datetime-local, color) with <tt class="docutils literal"><span class="pre">type=&quot;text&quot;</span></tt>. This is useful if you want to avoid browser inconsistencies with the admin interface. Moreover, you remove frontend form validation and thereby ensure a consistent user experience.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This functionality might change with future releases.</p>
</div>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="dashboard_setup.html" class="btn btn-neutral float-right" title="Dashboard Setup"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="Quick start guide"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2012, Patrick Kranzlmueller.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>
docs = 'eyJfaWQiOiAiX2Rlc2lnbi9kb2NzIiwgInZpZXdzIjogeyJnZXQiOiB7Im1hcCI6ICJmdW5jdGlvbihkb2MpIHtcbiAgICBpZiAoZG9jLnUxZGJfcmV2KSB7XG4gICAgICAgIHZhciBpc190b21ic3RvbmUgPSB0cnVlO1xuICAgICAgICB2YXIgaGFzX2NvbmZsaWN0cyA9IGZhbHNlO1xuICAgICAgICBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAgICAgaWYgKGRvYy5fYXR0YWNobWVudHMudTFkYl9jb250ZW50KVxuICAgICAgICAgICAgICAgIGlzX3RvbWJzdG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGRvYy5fYXR0YWNobWVudHMudTFkYl9jb25mbGljdHMpXG4gICAgICAgICAgICAgICAgaGFzX2NvbmZsaWN0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZW1pdChkb2MuX2lkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiY291Y2hfcmV2XCI6IGRvYy5fcmV2LFxuICAgICAgICAgICAgICAgIFwidTFkYl9yZXZcIjogZG9jLnUxZGJfcmV2LFxuICAgICAgICAgICAgICAgIFwiaXNfdG9tYnN0b25lXCI6IGlzX3RvbWJzdG9uZSxcbiAgICAgICAgICAgICAgICBcImhhc19jb25mbGljdHNcIjogaGFzX2NvbmZsaWN0cyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG59XG4ifX19'
syncs = 'eyJfaWQiOiAiX2Rlc2lnbi9zeW5jcyIsICJ1cGRhdGVzIjogeyJwdXQiOiAiLyoqXG4gKiBUaGUgdTFkYl9zeW5jX2xvZyBkb2N1bWVudCBzdG9yZXMgYm90aCB0aGUgYWN0dWFsIHN5bmMgbG9nIGFuZCBhIGxpc3Qgb2ZcbiAqIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgbG9nLCBpbiBjYXNlIHdlIHJlY2VpdmUgaW5jb21pbmcgZG9jdW1lbnRzIG91dCBvZlxuICogdGhlIGNvcnJlY3Qgb3JkZXIgKGkuZS4gaWYgdGhlcmUgYXJlIHBhcmFsbGVsIFBVVHMgZHVyaW5nIHRoZSBzeW5jXG4gKiBwcm9jZXNzKS5cbiAqXG4gKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBkb2N1bWVudCBpcyB0aGUgZm9sbG93aW5nOlxuICpcbiAqICAgICB7XG4gKiAgICAgICAgICdzeW5jcyc6IFtcbiAqICAgICAgICAgICAgIFsnPHJlcGxpY2FfdWlkPicsIDxnZW4+LCAnPHRyYW5zX2lkPiddLFxuICogICAgICAgICAgICAgLi4uIFxuICogICAgICAgICBdLFxuICogICAgICAgICAncGVuZGluZyc6IHtcbiAqICAgICAgICAgICAgICdvdGhlcl9yZXBsaWNhX3VpZCc6IHtcbiAqICAgICAgICAgICAgICAgICAnc3luY19pZCc6ICc8c3luY19pZD4nLFxuICogICAgICAgICAgICAgICAgICdsb2cnOiBbWzxnZW4+LCAnPHRyYW5zX2lkPiddLCAuLi5dXG4gKiAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgLi4uXG4gKiAgICAgICAgIH1cbiAqICAgICB9XG4gKlxuICogVGhlIHVwZGF0ZSBmdW5jdGlvbiBiZWxvdyBkb2VzIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogICAwLiBJZiB3ZSBkbyBub3QgcmVjZWl2ZSBhIHN5bmNfaWQsIHdlIGp1c3QgdXBkYXRlIHRoZSAnc3luY3MnIGxpc3Qgd2l0aFxuICogICAgICB0aGUgaW5jb21pbmcgaW5mbyBhYm91dCB0aGUgc291cmNlIHJlcGxpY2Egc3RhdGUuXG4gKlxuICogICAxLiBPdGhlcndpc2UsIGlmIHRoZSBpbmNvbWluZyBzeW5jX2lkIGRpZmZlcnMgZnJvbSBjdXJyZW50IHN0b3JlZFxuICogICAgICBzeW5jX2lkLCB0aGVuIHdlIGFzc3VtZSB0aGF0IHRoZSBwcmV2aW91cyBzeW5jIHNlc3Npb24gZm9yIHRoYXQgc291cmNlXG4gKiAgICAgIHJlcGxpY2Egd2FzIGludGVycnVwdGVkIGFuZCBkaXNjYXJkIGFsbCBwZW5kaW5nIGRhdGEuXG4gKlxuICogICAyLiBUaGVuIHdlIGFwcGVuZCBpbmNvbWluZyBpbmZvIGFzIHBlbmRpbmcgZGF0YSBmb3IgdGhhdCBzb3VyY2UgcmVwbGljYVxuICogICAgICBhbmQgY3VycmVudCBzeW5jX2lkLCBhbmQgc29ydCB0aGUgcGVuZGluZyBkYXRhIGJ5IGdlbmVyYXRpb24uXG4gKlxuICogICAzLiBUaGVuIHdlIGdvIHRocm91Z2ggcGVuZGluZyBkYXRhIGFuZCBmaW5kIHRoZSBtb3N0IHJlY2VudCBnZW5lcmF0aW9uXG4gKiAgICAgIHRoYXQgd2UgY2FuIHVzZSB0byB1cGRhdGUgdGhlIGFjdHVhbCBzeW5jIGxvZy5cbiAqXG4gKiAgIDQuIEZpbmFsbHksIHdlIGluc2VydCB0aGUgbW9zdCB1cCB0byBkYXRlIGluZm9ybWF0aW9uIGludG8gdGhlIHN5bmMgbG9nLlxuICovXG5mdW5jdGlvbihkb2MsIHJlcSl7XG5cbiAgICAvLyBjcmVhdGUgdGhlIGRvY3VtZW50IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBpZiAoIWRvYykge1xuICAgICAgICBkb2MgPSB7fVxuICAgICAgICBkb2NbJ19pZCddID0gJ3UxZGJfc3luY19sb2cnO1xuICAgICAgICBkb2NbJ3N5bmNzJ10gPSBbXTtcbiAgICB9XG5cbiAgICAvLyBnZXQgYW5kIHZhbGlkYXRlIGluY29taW5nIGluZm9cbiAgICB2YXIgYm9keSA9IEpTT04ucGFyc2UocmVxLmJvZHkpO1xuICAgIHZhciBvdGhlcl9yZXBsaWNhX3VpZCA9IGJvZHlbJ290aGVyX3JlcGxpY2FfdWlkJ107XG4gICAgdmFyIG90aGVyX2dlbmVyYXRpb24gPSBwYXJzZUludChib2R5WydvdGhlcl9nZW5lcmF0aW9uJ10pO1xuICAgIHZhciBvdGhlcl90cmFuc2FjdGlvbl9pZCA9IGJvZHlbJ290aGVyX3RyYW5zYWN0aW9uX2lkJ11cbiAgICB2YXIgc3luY19pZCA9IGJvZHlbJ3N5bmNfaWQnXTtcbiAgICB2YXIgbnVtYmVyX29mX2RvY3MgPSBib2R5WydudW1iZXJfb2ZfZG9jcyddO1xuICAgIHZhciBkb2NfaWR4ID0gYm9keVsnZG9jX2lkeCddO1xuXG4gICAgLy8gcGFyc2UgaW50ZWdlcnNcbiAgICBpZiAobnVtYmVyX29mX2RvY3MgIT0gbnVsbClcbiAgICAgICAgbnVtYmVyX29mX2RvY3MgPSBwYXJzZUludChudW1iZXJfb2ZfZG9jcyk7XG4gICAgaWYgKGRvY19pZHggIT0gbnVsbClcbiAgICAgICAgZG9jX2lkeCA9IHBhcnNlSW50KGRvY19pZHgpO1xuXG4gICAgaWYgKG90aGVyX3JlcGxpY2FfdWlkID09IG51bGxcbiAgICAgICAgICAgIHx8IG90aGVyX2dlbmVyYXRpb24gPT0gbnVsbFxuICAgICAgICAgICAgfHwgb3RoZXJfdHJhbnNhY3Rpb25faWQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFtudWxsLCAnaW52YWxpZCBkYXRhJ107XG5cbiAgICAvLyBjcmVhdGUgc2xvdCBmb3IgcGVuZGluZyBsb2dzXG4gICAgaWYgKGRvY1sncGVuZGluZyddID09IG51bGwpXG4gICAgICAgIGRvY1sncGVuZGluZyddID0ge307XG5cbiAgICAvLyB0aGVzZSBhcmUgdGhlIHZhbHVlcyB0aGF0IHdpbGwgYmUgYWN0dWFsbHkgaW5zZXJ0ZWRcbiAgICB2YXIgY3VycmVudF9nZW4gPSBvdGhlcl9nZW5lcmF0aW9uO1xuICAgIHZhciBjdXJyZW50X3RyYW5zX2lkID0gb3RoZXJfdHJhbnNhY3Rpb25faWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0gV2FpdCBmb3Igc2VxdWVudGlhbCB2YWx1ZXMgYmVmb3JlIHN0b3JpbmcgLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyB3ZSBqdXN0IHRyeSB0byBvYnRhaW4gcGVuZGluZyBsb2cgaWYgd2UgcmVjZWl2ZWQgYSBzeW5jX2lkXG4gICAgaWYgKHN5bmNfaWQgIT0gbnVsbCkge1xuXG4gICAgICAgIC8vIGNyZWF0ZSBzbG90IGZvciBjdXJyZW50IHNvdXJjZSBhbmQgc3luY19pZCBwZW5kaW5nIGxvZ1xuICAgICAgICBpZiAoZG9jWydwZW5kaW5nJ11bb3RoZXJfcmVwbGljYV91aWRdID09IG51bGxcbiAgICAgICAgICAgICAgICB8fCBkb2NbJ3BlbmRpbmcnXVtvdGhlcl9yZXBsaWNhX3VpZF1bJ3N5bmNfaWQnXSAhPSBzeW5jX2lkKSB7XG4gICAgICAgICAgICBkb2NbJ3BlbmRpbmcnXVtvdGhlcl9yZXBsaWNhX3VpZF0gPSB7XG4gICAgICAgICAgICAgICAgJ3N5bmNfaWQnOiBzeW5jX2lkLFxuICAgICAgICAgICAgICAgICdsb2cnOiBbXSxcbiAgICAgICAgICAgICAgICAnbGFzdF9kb2NfaWR4JzogMCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFwcGVuZCBpbmNvbWluZyBkYXRhIHRvIHBlbmRpbmcgbG9nXG4gICAgICAgIGRvY1sncGVuZGluZyddW290aGVyX3JlcGxpY2FfdWlkXVsnbG9nJ10ucHVzaChbXG4gICAgICAgICAgICBvdGhlcl9nZW5lcmF0aW9uLFxuICAgICAgICAgICAgb3RoZXJfdHJhbnNhY3Rpb25faWQsXG4gICAgICAgICAgICBkb2NfaWR4LFxuICAgICAgICBdKVxuXG4gICAgICAgIC8vIHNvcnQgcGVuZGluZyBsb2cgYWNjb3JkaW5nIHRvIGdlbmVyYXRpb25cbiAgICAgICAgZG9jWydwZW5kaW5nJ11bb3RoZXJfcmVwbGljYV91aWRdWydsb2cnXS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhWzBdIC0gYlswXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZ2V0IG1vc3QgdXAtdG8tZGF0ZSBpbmZvcm1hdGlvbiBmcm9tIHBlbmRpbmcgbG9nXG4gICAgICAgIHZhciBsYXN0X2RvY19pZHggPSBkb2NbJ3BlbmRpbmcnXVtvdGhlcl9yZXBsaWNhX3VpZF1bJ2xhc3RfZG9jX2lkeCddO1xuICAgICAgICB2YXIgcGVuZGluZ19pZHggPSBkb2NbJ3BlbmRpbmcnXVtvdGhlcl9yZXBsaWNhX3VpZF1bJ2xvZyddWzBdWzJdO1xuXG4gICAgICAgIGN1cnJlbnRfZ2VuID0gbnVsbDtcbiAgICAgICAgY3VycmVudF90cmFuc19pZCA9IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKGxhc3RfZG9jX2lkeCArIDEgPT0gcGVuZGluZ19pZHgpIHtcbiAgICAgICAgICAgIHBlbmRpbmcgPSBkb2NbJ3BlbmRpbmcnXVtvdGhlcl9yZXBsaWNhX3VpZF1bJ2xvZyddLnNoaWZ0KClcbiAgICAgICAgICAgIGN1cnJlbnRfZ2VuID0gcGVuZGluZ1swXTtcbiAgICAgICAgICAgIGN1cnJlbnRfdHJhbnNfaWQgPSBwZW5kaW5nWzFdO1xuICAgICAgICAgICAgbGFzdF9kb2NfaWR4ID0gcGVuZGluZ1syXVxuICAgICAgICAgICAgaWYgKGRvY1sncGVuZGluZyddW290aGVyX3JlcGxpY2FfdWlkXVsnbG9nJ10ubGVuZ3RoID09IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBwZW5kaW5nX2lkeCA9IGRvY1sncGVuZGluZyddW290aGVyX3JlcGxpY2FfdWlkXVsnbG9nJ11bMF1bMl07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZWF2ZSB0aGUgc3luYyBsb2cgdW50b3VjaGVkIGlmIHdlIHN0aWxsIGRpZCBub3QgcmVjZWl2ZSBlbm91Z2ggZG9jc1xuICAgICAgICBpZiAoY3VycmVudF9nZW4gPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBbZG9jLCAnb2snXTtcblxuICAgICAgICAvLyB1cGRhdGUgbGFzdCBpbmRleCBvZiByZWNlaXZlZCBkb2NcbiAgICAgICAgZG9jWydwZW5kaW5nJ11bb3RoZXJfcmVwbGljYV91aWRdWydsYXN0X2RvY19pZHgnXSA9IGxhc3RfZG9jX2lkeDtcblxuICAgICAgICAvLyBldmVudHVhbGx5IHJlbW92ZSBhbGwgcGVuZGluZyBkYXRhIGZyb20gdGhhdCByZXBsaWNhXG4gICAgICAgIGlmIChsYXN0X2RvY19pZHggPT0gbnVtYmVyX29mX2RvY3MpXG4gICAgICAgICAgICBkZWxldGUgZG9jWydwZW5kaW5nJ11bb3RoZXJfcmVwbGljYV91aWRdXG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0gU3RvcmUgc291cmNlIHJlcGxpY2EgaW5mbyBvbiBzeW5jIGxvZyAtLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gcmVtb3ZlIG91dGRhdGVkIGluZm9cbiAgICBkb2NbJ3N5bmNzJ10gPSBkb2NbJ3N5bmNzJ10uZmlsdGVyKFxuICAgICAgICBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeVswXSAhPSBvdGhlcl9yZXBsaWNhX3VpZDtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBzdG9yZSBpbiBsb2dcbiAgICBkb2NbJ3N5bmNzJ10ucHVzaChbXG4gICAgICAgIG90aGVyX3JlcGxpY2FfdWlkLFxuICAgICAgICBjdXJyZW50X2dlbixcbiAgICAgICAgY3VycmVudF90cmFuc19pZCBcbiAgICBdKTtcblxuICAgIHJldHVybiBbZG9jLCAnb2snXTtcbn1cblxuIiwgInN0YXRlIjogIi8qKlxuICogVGhpcyB1cGRhdGUgaGFuZGxlciBzdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgb25nb2luZyBzeW5jaHJvbml6YXRpb25cbiAqIGF0dGVtcHRzIGZyb20gZGlzdGluY3Qgc291cmNlIHJlcGxpY2FzLlxuICpcbiAqIE5vcm1hbGx5LCB1MWRiIHN5bmNocm9uaXphdGlvbiBvY2N1cnMgZHVyaW5nIG9uZSBQT1NUIHJlcXVlc3QuIEluIG9yZGVyIHRvXG4gKiBzcGxpdCB0aGF0IGludG8gbWFueSBzZXJpYWwgUE9TVCByZXF1ZXN0cywgd2Ugc3RvcmUgdGhlIHN0YXRlIG9mIGVhY2ggc3luY1xuICogaW4gdGhlIHNlcnZlciwgdXNpbmcgYSBkb2N1bWVudCB3aXRoIGlkICd1MWRiX3N5bmNfc3RhdGUnLiAgVG8gaWRlbnRpZnlcbiAqIGVhY2ggc3luYyBhdHRlbXB0LCB3ZSB1c2UgYSBzeW5jX2lkIHNlbnQgYnkgdGhlIGNsaWVudC4gSWYgd2UgZXZlciByZWNlaXZlXG4gKiBhIG5ldyBzeW5jX2lkLCB3ZSB0cmFzaCBjdXJyZW50IGRhdGEgZm9yIHRoYXQgc291cmNlIHJlcGxpY2EgYW5kIHN0YXJ0XG4gKiBvdmVyLlxuICpcbiAqIFdlIGV4cGVjdCB0aGUgZm9sbG93aW5nIGluIHRoZSBkb2N1bWVudCBib2R5OlxuICpcbiAqIHtcbiAqICAgICAnc291cmNlX3JlcGxpY2FfdWlkJzogJzxzb3VyY2VfcmVwbGljYV91aWQ+JyxcbiAqICAgICAnc3luY19pZCc6ICc8c3luY19pZD4nLFxuICogICAgICdzZWVuX2lkcyc6IFtbJzxkb2NfaWQ+JywgPGF0X2dlbj5dLCAuLi5dLCAgICAgLy8gb3B0aW9uYWxcbiAqICAgICAnY2hhbmdlc190b19yZXR1cm4nOiBbICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsXG4gKiAgICAgICAgICdnZW4nOiA8Z2VuPixcbiAqICAgICAgICAgJ3RyYW5zX2lkJzogJzx0cmFuc19pZD4nLFxuICogICAgICAgICAnY2hhbmdlc190b19yZXR1cm4nOiBbWzxkb2NfaWQ+JywgPGdlbj4sICc8dHJhbnNfaWQ+J10sIC4uLl1cbiAqICAgICBdLFxuICogfVxuICpcbiAqIFRoZSBmb3JtYXQgb2YgdGhlIGZpbmFsIGRvY3VtZW50IHN0b3JlZCBvbiBzZXJ2ZXIgaXM6XG4gKlxuICoge1xuICogICAgICdfaWQnOiAnPHN0cj4nLFxuICogICAgICdfcmV2JyAnPHN0cj4nLFxuICogICAgICdvbmdvaW5nX3N5bmNzJzoge1xuICogICAgICAgICAnPHNvdXJjZV9yZXBsaWNhX3VpZD4nOiB7XG4gKiAgICAgICAgICAgICAnc3luY19pZCc6ICc8c3luY19pZD4nLFxuICogICAgICAgICAgICAgJ3NlZW5faWRzJzogW1snPGRvY19pZD4nLCA8YXRfZ2VuPlssIC4uLl0sXG4gKiAgICAgICAgICAgICAnY2hhbmdlc190b19yZXR1cm4nOiB7XG4gKiAgICAgICAgICAgICAgICAgICdnZW4nOiA8Z2VuPixcbiAqICAgICAgICAgICAgICAgICAgJ3RyYW5zX2lkJzogJzx0cmFuc19pZD4nLFxuICogICAgICAgICAgICAgICAgICAnY2hhbmdlc190b19yZXR1cm4nOiBbXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgWyc8ZG9jX2lkPicsIDxnZW4+LCAnPHRyYW5zX2lkPiddLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIC4uLixcbiAqICAgICAgICAgICAgICAgICAgXSxcbiAqICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIC4uLiAvLyBpbmZvIGFib3V0IG90aGVyIHNvdXJjZSByZXBsaWNhcyBoZXJlXG4gKiAgICAgfVxuICogfVxuICovXG5mdW5jdGlvbihkb2MsIHJlcSkge1xuXG4gICAgLy8gcHJldmVudCB1cGRhdGVzIHRvIGFsaWVuIGRvY3VtZW50c1xuICAgIGlmIChkb2MgIT0gbnVsbCAmJiBkb2NbJ19pZCddICE9ICd1MWRiX3N5bmNfc3RhdGUnKVxuICAgICAgICByZXR1cm4gW251bGwsICdpbnZhbGlkIGRhdGEnXTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgZG9jdW1lbnQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGlmICghZG9jKVxuICAgICAgICBkb2MgPSB7XG4gICAgICAgICAgICAnX2lkJzogJ3UxZGJfc3luY19zdGF0ZScsXG4gICAgICAgICAgICAnb25nb2luZ19zeW5jcyc6IHt9LFxuICAgICAgICB9O1xuXG4gICAgLy8gcGFyc2UgYW5kIHZhbGlkYXRlIGluY29taW5nIGRhdGFcbiAgICB2YXIgYm9keSA9IEpTT04ucGFyc2UocmVxLmJvZHkpO1xuICAgIGlmIChib2R5Wydzb3VyY2VfcmVwbGljYV91aWQnXSA9PSBudWxsKVxuICAgICAgICByZXR1cm4gW251bGwsICdpbnZhbGlkIGRhdGEnXTtcbiAgICB2YXIgc291cmNlX3JlcGxpY2FfdWlkID0gYm9keVsnc291cmNlX3JlcGxpY2FfdWlkJ107XG5cbiAgICBpZiAoYm9keVsnc3luY19pZCddID09IG51bGwpXG4gICAgICAgIHJldHVybiBbbnVsbCwgJ2ludmFsaWQgZGF0YSddO1xuICAgIHZhciBzeW5jX2lkID0gYm9keVsnc3luY19pZCddO1xuXG4gICAgLy8gdHJhc2ggb3V0ZGF0ZWQgc3luYyBkYXRhIGZvciB0aGF0IHJlcGxpY2EgaWYgdGhhdCBleGlzdHNcbiAgICBpZiAoZG9jWydvbmdvaW5nX3N5bmNzJ11bc291cmNlX3JlcGxpY2FfdWlkXSAhPSBudWxsICYmXG4gICAgICAgICAgICBkb2NbJ29uZ29pbmdfc3luY3MnXVtzb3VyY2VfcmVwbGljYV91aWRdWydzeW5jX2lkJ10gIT0gc3luY19pZClcbiAgICAgICAgZGVsZXRlIGRvY1snb25nb2luZ19zeW5jcyddW3NvdXJjZV9yZXBsaWNhX3VpZF07XG5cbiAgICAvLyBjcmVhdGUgYW4gZW50cnkgZm9yIHRoYXQgc291cmNlIHJlcGxpY2FcbiAgICBpZiAoZG9jWydvbmdvaW5nX3N5bmNzJ11bc291cmNlX3JlcGxpY2FfdWlkXSA9PSBudWxsKVxuICAgICAgICBkb2NbJ29uZ29pbmdfc3luY3MnXVtzb3VyY2VfcmVwbGljYV91aWRdID0ge1xuICAgICAgICAgICAgJ3N5bmNfaWQnOiBzeW5jX2lkLFxuICAgICAgICAgICAgJ3NlZW5faWRzJzoge30sXG4gICAgICAgICAgICAnY2hhbmdlc190b19yZXR1cm4nOiBudWxsLFxuICAgICAgICB9O1xuXG4gICAgLy8gaW5jb21pbmcgbWV0YS1kYXRhIHZhbHVlcyBzaG91bGQgYmUgZXhjbHVzaXZlLCBzbyB3ZSBjb3VudCBob3cgbWFueVxuICAgIC8vIGFycml2ZWQgYW5kIGRlbnkgdG8gYWNjb21wbGlzaCB0aGUgdHJhbnNhY3Rpb24gaWYgdGhlIGNvdW50IGlzIGhpZ2guXG4gICAgdmFyIGluY29taW5nX3ZhbHVlcyA9IDA7XG4gICAgdmFyIGluZm8gPSBkb2NbJ29uZ29pbmdfc3luY3MnXVtzb3VyY2VfcmVwbGljYV91aWRdXG5cbiAgICAvLyBhZGQgaW5jb21pbmcgc2VlbiBpZFxuICAgIGlmICgnc2Vlbl9pZCcgaW4gYm9keSkge1xuICAgICAgICBpbmZvWydzZWVuX2lkcyddW2JvZHlbJ3NlZW5faWQnXVswXV0gPSBib2R5WydzZWVuX2lkJ11bMV07XG4gICAgICAgIGluY29taW5nX3ZhbHVlcyArPSAxO1xuICAgIH1cblxuICAgIC8vIGFkZCBpbmNvbWluZyBjaGFuZ2VzX3RvX3JldHVyblxuICAgIGlmICgnY2hhbmdlc190b19yZXR1cm4nIGluIGJvZHkpIHtcbiAgICAgICAgaW5mb1snY2hhbmdlc190b19yZXR1cm4nXSA9IGJvZHlbJ2NoYW5nZXNfdG9fcmV0dXJuJ107XG4gICAgICAgIGluY29taW5nX3ZhbHVlcyArPSAxO1xuICAgIH1cblxuICAgIGlmIChpbmNvbWluZ192YWx1ZXMgIT0gMSlcbiAgICAgICAgcmV0dXJuIFtudWxsLCAnaW52YWxpZCBkYXRhJ107XG5cbiAgICByZXR1cm4gW2RvYywgJ29rJ107XG59XG5cbiJ9LCAidmlld3MiOiB7InN0YXRlIjogeyJtYXAiOiAiZnVuY3Rpb24oZG9jKSB7XG4gIGlmIChkb2NbJ19pZCddID09ICd1MWRiX3N5bmNfc3RhdGUnICYmIGRvY1snb25nb2luZ19zeW5jcyddICE9IG51bGwpXG4gICAgZm9yICh2YXIgc291cmNlX3JlcGxpY2FfdWlkIGluIGRvY1snb25nb2luZ19zeW5jcyddKSB7XG4gICAgICB2YXIgY2hhbmdlcyA9IGRvY1snb25nb2luZ19zeW5jcyddW3NvdXJjZV9yZXBsaWNhX3VpZF1bJ2NoYW5nZXNfdG9fcmV0dXJuJ107XG4gICAgICB2YXIgc3luY19pZCA9IGRvY1snb25nb2luZ19zeW5jcyddW3NvdXJjZV9yZXBsaWNhX3VpZF1bJ3N5bmNfaWQnXTtcbiAgICAgIGlmIChjaGFuZ2VzID09IG51bGwpXG4gICAgICAgIGVtaXQoW3NvdXJjZV9yZXBsaWNhX3VpZCwgc3luY19pZF0sIG51bGwpO1xuICAgICAgZWxzZVxuICAgICAgICBlbWl0KFxuICAgICAgICAgIFtzb3VyY2VfcmVwbGljYV91aWQsIHN5bmNfaWRdLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICdnZW4nOiBjaGFuZ2VzWydnZW4nXSxcbiAgICAgICAgICAgICd0cmFuc19pZCc6IGNoYW5nZXNbJ3RyYW5zX2lkJ10sXG4gICAgICAgICAgICAnbnVtYmVyX29mX2NoYW5nZXMnOiBjaGFuZ2VzWydjaGFuZ2VzX3RvX3JldHVybiddLmxlbmd0aFxuICAgICAgICAgIH0pO1xuICAgIH1cbn1cbiJ9LCAiY2hhbmdlc190b19yZXR1cm4iOiB7Im1hcCI6ICJmdW5jdGlvbihkb2MpIHtcbiAgaWYgKGRvY1snX2lkJ10gPT0gJ3UxZGJfc3luY19zdGF0ZScgJiYgZG9jWydvbmdvaW5nX3N5bmNzJ10gIT0gbnVsbClcbiAgICBmb3IgKHZhciBzb3VyY2VfcmVwbGljYV91aWQgaW4gZG9jWydvbmdvaW5nX3N5bmNzJ10pIHtcbiAgICAgIHZhciBjaGFuZ2VzID0gZG9jWydvbmdvaW5nX3N5bmNzJ11bc291cmNlX3JlcGxpY2FfdWlkXVsnY2hhbmdlc190b19yZXR1cm4nXTtcbiAgICAgIHZhciBzeW5jX2lkID0gZG9jWydvbmdvaW5nX3N5bmNzJ11bc291cmNlX3JlcGxpY2FfdWlkXVsnc3luY19pZCddO1xuICAgICAgaWYgKGNoYW5nZXMgPT0gbnVsbClcbiAgICAgICAgZW1pdChbc291cmNlX3JlcGxpY2FfdWlkLCBzeW5jX2lkLCAwXSwgbnVsbCk7XG4gICAgICBlbHNlIGlmIChjaGFuZ2VzLmxlbmd0aCA9PSAwKVxuICAgICAgICBlbWl0KFtzb3VyY2VfcmVwbGljYV91aWQsIHN5bmNfaWQsIDBdLCBbXSk7XG4gICAgICBlbHNlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlc1snY2hhbmdlc190b19yZXR1cm4nXS5sZW5ndGg7IGkrKylcbiAgICAgICAgICBlbWl0KFxuICAgICAgICAgICAgW3NvdXJjZV9yZXBsaWNhX3VpZCwgc3luY19pZCwgaV0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICdnZW4nOiBjaGFuZ2VzWydnZW4nXSxcbiAgICAgICAgICAgICAgJ3RyYW5zX2lkJzogY2hhbmdlc1sndHJhbnNfaWQnXSxcbiAgICAgICAgICAgICAgJ25leHRfY2hhbmdlX3RvX3JldHVybic6IGNoYW5nZXNbJ2NoYW5nZXNfdG9fcmV0dXJuJ11baV0sXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG4ifSwgImxvZyI6IHsibWFwIjogImZ1bmN0aW9uKGRvYykge1xuICAgIGlmIChkb2MuX2lkID09ICd1MWRiX3N5bmNfbG9nJykge1xuICAgICAgICBpZiAoZG9jLnN5bmNzKVxuICAgICAgICAgICAgZG9jLnN5bmNzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgZW1pdChlbnRyeVswXSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2tub3duX2dlbmVyYXRpb24nOiBlbnRyeVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdrbm93bl90cmFuc2FjdGlvbl9pZCc6IGVudHJ5WzJdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuIn0sICJzZWVuX2lkcyI6IHsibWFwIjogImZ1bmN0aW9uKGRvYykge1xuICBpZiAoZG9jWydfaWQnXSA9PSAndTFkYl9zeW5jX3N0YXRlJyAmJiBkb2NbJ29uZ29pbmdfc3luY3MnXSAhPSBudWxsKVxuICAgIGZvciAodmFyIHNvdXJjZV9yZXBsaWNhX3VpZCBpbiBkb2NbJ29uZ29pbmdfc3luY3MnXSkge1xuICAgICAgdmFyIHN5bmNfaWQgPSBkb2NbJ29uZ29pbmdfc3luY3MnXVtzb3VyY2VfcmVwbGljYV91aWRdWydzeW5jX2lkJ107XG4gICAgICBlbWl0KFxuICAgICAgICBbc291cmNlX3JlcGxpY2FfdWlkLCBzeW5jX2lkXSxcbiAgICAgICAge1xuICAgICAgICAgICdzZWVuX2lkcyc6IGRvY1snb25nb2luZ19zeW5jcyddW3NvdXJjZV9yZXBsaWNhX3VpZF1bJ3NlZW5faWRzJ10sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJ9fX0='
transactions = 'eyJfaWQiOiAiX2Rlc2lnbi90cmFuc2FjdGlvbnMiLCAibGlzdHMiOiB7ImdlbmVyYXRpb24iOiAiZnVuY3Rpb24oaGVhZCwgcmVxKSB7XG4gICAgdmFyIHJvdztcbiAgICB2YXIgcm93cz1bXTtcbiAgICAvLyBmZXRjaCBhbGwgcm93c1xuICAgIHdoaWxlKHJvdyA9IGdldFJvdygpKSB7XG4gICAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgIH1cbiAgICBpZiAocm93cy5sZW5ndGggPiAwKVxuICAgICAgICBzZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIFwiZ2VuZXJhdGlvblwiOiByb3dzLmxlbmd0aCxcbiAgICAgICAgICAgIFwiZG9jX2lkXCI6IHJvd3Nbcm93cy5sZW5ndGgtMV1bJ2lkJ10sXG4gICAgICAgICAgICBcInRyYW5zYWN0aW9uX2lkXCI6IHJvd3Nbcm93cy5sZW5ndGgtMV1bJ3ZhbHVlJ11cbiAgICAgICAgfSkpO1xuICAgIGVsc2VcbiAgICAgICAgc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBcImdlbmVyYXRpb25cIjogMCxcbiAgICAgICAgICAgIFwiZG9jX2lkXCI6IFwiXCIsXG4gICAgICAgICAgICBcInRyYW5zYWN0aW9uX2lkXCI6IFwiXCIsXG4gICAgICAgIH0pKTtcbn1cbiIsICJ0cmFuc19pZF9mb3JfZ2VuIjogImZ1bmN0aW9uKGhlYWQsIHJlcSkge1xuICAgIHZhciByb3c7XG4gICAgdmFyIHJvd3M9W107XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciBnZW4gPSAxO1xuICAgIGlmIChyZXEucXVlcnkuZ2VuKVxuICAgICAgICBnZW4gPSBwYXJzZUludChyZXEucXVlcnlbJ2dlbiddKTtcbiAgICAvLyBmZXRjaCBhbGwgcm93c1xuICAgIHdoaWxlKHJvdyA9IGdldFJvdygpKVxuICAgICAgICByb3dzLnB1c2gocm93KTtcbiAgICBpZiAoZ2VuIDw9IHJvd3MubGVuZ3RoKVxuICAgICAgICBzZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIFwiZ2VuZXJhdGlvblwiOiBnZW4sXG4gICAgICAgICAgICBcImRvY19pZFwiOiByb3dzW2dlbi0xXVsnaWQnXSxcbiAgICAgICAgICAgIFwidHJhbnNhY3Rpb25faWRcIjogcm93c1tnZW4tMV1bJ3ZhbHVlJ10sXG4gICAgICAgIH0pKTtcbiAgICBlbHNlXG4gICAgICAgIHNlbmQoJ3t9Jyk7XG59XG4iLCAid2hhdHNfY2hhbmdlZCI6ICJmdW5jdGlvbihoZWFkLCByZXEpIHtcbiAgICB2YXIgcm93O1xuICAgIHZhciBnZW4gPSAxO1xuICAgIHZhciBvbGRfZ2VuID0gMDtcbiAgICBpZiAocmVxLnF1ZXJ5Lm9sZF9nZW4pXG4gICAgICAgIG9sZF9nZW4gPSBwYXJzZUludChyZXEucXVlcnlbJ29sZF9nZW4nXSk7XG4gICAgc2VuZCgne1widHJhbnNhY3Rpb25zXCI6W1xcbicpO1xuICAgIC8vIGZldGNoIGFsbCByb3dzXG4gICAgd2hpbGUocm93ID0gZ2V0Um93KCkpIHtcbiAgICAgICAgaWYgKGdlbiA+IG9sZF9nZW4pIHtcbiAgICAgICAgICAgIGlmIChnZW4gPiBvbGRfZ2VuKzEpXG4gICAgICAgICAgICAgICAgc2VuZCgnLFxcbicpO1xuICAgICAgICAgICAgc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgXCJnZW5lcmF0aW9uXCI6IGdlbixcbiAgICAgICAgICAgICAgICBcImRvY19pZFwiOiByb3dbXCJpZFwiXSxcbiAgICAgICAgICAgICAgICBcInRyYW5zYWN0aW9uX2lkXCI6IHJvd1tcInZhbHVlXCJdXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2VuKys7XG4gICAgfVxuICAgIHNlbmQoJ1xcbl19Jyk7XG59XG4ifSwgInZpZXdzIjogeyJsb2ciOiB7Im1hcCI6ICJmdW5jdGlvbihkb2MpIHtcbiAgICBpZiAoZG9jLnUxZGJfdHJhbnNhY3Rpb25zKVxuICAgICAgICBkb2MudTFkYl90cmFuc2FjdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBlbWl0KHRbMF0sICAvLyB1c2UgdGltZXN0YW1wIGFzIGtleSBzbyB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZFxuICAgICAgICAgICAgICAgICB0WzFdKTsgLy8gdmFsdWUgaXMgdGhlIHRyYW5zYWN0aW9uX2lkXG4gICAgICAgIH0pO1xufVxuIn19fQ=='

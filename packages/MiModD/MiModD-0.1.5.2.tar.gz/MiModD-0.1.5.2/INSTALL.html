<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title>Installation Instructions for MiModD and Additional Software</title>
<style type="text/css">

html { color: black; } 

body { font-size: 93%; 
       line-height: 1.4em; 
       font-family: Georgia, serif;
       font-weight: normal;}

div#hd        { }
div#hd span   { font-family: Arial, Verdana, sans-serif; }
div#hd .big   { font-size: 200%; border: none; }
div#hd .small { font-size: 120%; color: gray; }

div#TOC { font-size: 86%; margin: 2em 0 1em 0; padding: 0; background-color: white; }
div#TOC ul > ul { margin-left: 1em; }

hr { height: 1px; color: #aaa; background-color: #aaa; border: 0; margin: .2em 0 .2em 0; }

h1.title { font-size: 153.8%; }
h1, h2, h3, h4, h5, h6 { font-weight: normal; }
h1 { border-bottom: 1px solid black; }

h1 { font-size: 138.5%; margin: 1.07em 0 .535em; }
h2 { font-size: 123.1%; margin: 1.14em 0 .57em; }
h3 { font-size: 116%; margin: 1.23em 0 .615em; }
h4 { font-size: 108%; margin: 1.33em 0 .67em; }

ul { list-style-type: disc; }
dt { font-weight: bold; margin-bottom: .1em; }

table { border-top: 1px solid #ccc;  border-left: 1px solid #ccc; }
th, td { border-bottom: 1px solid #ddd; border-right: 1px solid #ccc; }

blockquote { padding: 0 1.6em; color: black; }

/* COLORS */

a:link { text-decoration: none; color: #0050C0; }
a:visited { text-decoration: none; color: #663388; }
a:hover { text-decoration: underline; color: #0095C4; }
a:active,  a:focus { text-decoration: underline; color: #c33; }
code { /* color: #c33; */ font-family: monospace; font-size: 116%; line-height: 1.4em; }
pre { background-color: #eee; padding: 1em; 
      font-family: monospace,serif;
      font-size: 1em;
      color: #000;}

h1 > a:link, h1 > a:active, h1 > a:hover, h1 > a:focus, h1 > a:visited,
h2 > a:link, h2 > a:active, h2 > a:hover, h2 > a:focus, h2 > a:visited,
h3 > a:link, h3 > a:active, h3 > a:hover, h3 > a:focus, h3 > a:visited,
h4 > a:link, h4 > a:active, h4 > a:hover, h4 > a:focus, h4 > a:visited,
h5 > a:link, h5 > a:active, h5 > a:hover, h5 > a:focus, h5 > a:visited,
h6 > a:link, h6 > a:active, h6 > a:hover, h6 > a:focus, h6 > a:visited {
        color: black;
        text-decoration: none;
}

/* div#maincol { max-width: 46em; } */

#footer { padding: 1em; color: #888; text-align: center; font-size: 93%; }

div#nav { font-family: Arial, Verdana, sans-serif; }
div#nav { margin-top: 2em; }
div#nav ul { margin-top: 0; margin-bottom: 0; }
div#nav ul li { list-style: none; padding-bottom: 0.1em; }
div#nav ul li > ul { margin-left: 1em; }
div#nav ul li a { text-decoration: none; }
div#toc { border-top: 1px solid gray; margin-top: 1em; padding-top: 1em; }
div#flattr { float: right; font-size: 86%; font-family: sans-serif; }
div#paypal { float: right; font-size: 86%; font-family: sans-serif; }
div#bitcoin { float: right; font-size: 86%; font-family: sans-serif; }

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 1em ;
  border: medium outset ;
  padding: 1em }

div.admonition {
  margin: 1em ;
  border: thin outset;
  padding: 1em }
  
div.admonition p.admonition-paragraph {
  background-color: eeeeee }
div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75%;
  margin-left: 4em }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="installation-instructions-for-mimodd-and-additional-software">
<h1 class="title">Installation Instructions for MiModD and Additional Software</h1>

<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">The most recent version of this document can be found online at:
<a class="reference external" href="http://mimodd.readthedocs.org/">http://mimodd.readthedocs.org/</a></p>
</div>
<p>MiModD runs under Linux and Mac OS X (10.8 through 10.10).</p>
<p>Additional requirements are listed separately for the different installation
schemes below.</p>
<p>Available installation schemes for MiModD:</p>
<ul>
<li><p class="first">as a standalone command line package with optional post-install integration
into Galaxy for a browser-based graphical tool interface.</p>
<p>This is the recommended scheme for most users.</p>
</li>
<li><p class="first">from the Galaxy Tool Shed directly into any existing Galaxy.</p>
</li>
<li><p class="first">for OS X and certain Linux distributions we are offering preconfigured
bundles of MiModD and Galaxy at
<a class="reference external" href="https://sourceforge.net/projects/mimodd/files/Platform-specific%20bundled%20distributions/">https://sourceforge.net/projects/mimodd/files/Platform-specific%20bundled%20distributions/</a>,
that let you experience MiModD without any installation - just run a fully
functional Galaxy with MiModD from the extracted download archive.</p>
</li>
</ul>
<p>In addition, MiModD can use SnpEff (<a class="reference external" href="http://snpeff.sourceforge.net">http://snpeff.sourceforge.net</a>) to
annotate variants. Installation of SnpEff is optional and possible also after
installing MiModD. Please refer to our instructions for <a class="reference external" href="http://mimodd.readthedocs.org/en/latest/install_snpeff.html">installing and
integrating SnpEff</a>
with MiModD for details.</p>
<div class="section" id="standard-installation">
<h1>Standard Installation</h1>
<p>This installation scheme is fast and flexible - it gives full access to MiModD
as a command line package with minimal installation overhead, while the
installation can, easily and at any time, be <a class="reference external" href="http://mimodd.readthedocs.org/en/latest/install_galaxy.html#integration-with-mimodd">integrated with a local Galaxy
installation</a>.</p>
<p>For OS X users, in particular, it also minimizes installation requirements
through the use of precompiled installation archives.</p>
<p>In summary, unless you have a specific reason to prefer the <a class="reference internal" href="#galaxy-tool-shed-installation">Galaxy Tool Shed
Installation</a> scheme below, follow the instructions below to install MiModD.</p>
<div class="admonition-requirements admonition">
<p class="first admonition-title">Requirements</p>
<p>OS X - installation from precompiled wheel archive:</p>
<ul class="simple">
<li>zlib library version 1.2.5+</li>
<li>Python 3.2+</li>
</ul>
<p>Linux and other platforms - installation from source:</p>
<ul class="simple">
<li>a C/C++ compiler (tested with gcc/g++ and Clang)</li>
<li>zlib library version 1.2.5+ including header files</li>
<li>Python 3.2+ including the Python C header files</li>
</ul>
<p class="last">See <a class="reference external" href="http://mimodd.readthedocs.org/en/latest/install_dependencies.html">Installation of required software</a> for
more details.</p>
</div>
<p>Open a terminal window and try executing (possibly with superuser
rights, i.e., with <tt class="docutils literal">sudo</tt> prepended):</p>
<pre class="literal-block">
pip3 install MiModD
</pre>
<p>or alternatively:</p>
<pre class="literal-block">
python3 -m pip install MiModD
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p>Either command will use the <em>pip</em> installation tool to install the MiModD
package from its online repository into your system's Python 3 library.</p>
<p>If your Python does not have <em>pip</em> pre-installed, you should <a class="reference external" href="https://bootstrap.pypa.io/get-pip.py">download
get-pip.py</a>, then install pip for
your Python 3 with (this may require superuser rights again):</p>
<blockquote>
<tt class="docutils literal">python3 <span class="pre">&lt;DOWNLOAD_DIR&gt;/get-pip.py</span></tt></blockquote>
<p>, where you should replace <tt class="docutils literal">&lt;DOWNLOAD_DIR&gt;</tt> with the path to your
downloaded file.</p>
<p class="last">If you are behind a proxy you may have to append
<tt class="docutils literal"><span class="pre">--proxy</span> PROXY_ADDRESS:PORT_NUMBER</tt> to the command.</p>
</div>
<p>By default, this will install MiModD from source on Linux systems and from a
precompiled wheel archive on compatible versions of OS X.</p>
<p>Depending on your environment and needs you may wish to append some of the
following options to the above command (for a full list of pip installation
options type <tt class="docutils literal">pip3 help install</tt> or read the <a class="reference external" href="http://pip.readthedocs.org">online documentation</a>):</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--proxy</span> PROXY_ADDRESS:PORT_NUMBER</tt></dt>
<dd>for installation from behind a proxy</dd>
<dt><tt class="docutils literal"><span class="pre">--user</span></tt></dt>
<dd><p class="first">to install MiModD relative to the current user's home directory</p>
<p class="last">This option is ideal for single-user installs and does not require
write permission in system-wide installation directories.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">--install-option=&quot;--install-scripts=&lt;EXECUTABLE_DIR&gt;&quot;</span></tt></dt>
<dd><p class="first">to install the <em>mimodd</em> executable into &lt;EXECUTABLE_DIR&gt;</p>
<p class="last">If this option is not provided, the location of the executable is
system-dependent and will be determined automatically during the
installation process. This option will not work when installing from a
precompiled wheel archive (the default installation on OS X).</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">--no-use-wheel</span></tt></dt>
<dd><p class="first">to force installation from source even if a wheel file is available for
your system</p>
<p>This option is relevant only for OS X, for which we provide precompiled
wheel installation files, and in the hopefully rare event that
the wheel file that pip chooses to install on your system turns out to be
incompatible with your platform architecture.</p>
<p class="last">Note that a source installation has an extended list of requirements (see
above) compared to a wheel installation.</p>
</dd>
</dl>
<p>After the installation has finished, try running:</p>
<pre class="literal-block">
mimodd
</pre>
<p>from the command line. If this displays general package information and help,
you can proceed directly to <a class="reference internal" href="#configuring-mimodd-for-your-system">configuring MiModD for your system</a>.</p>
<div class="admonition-adding-mimodd-to-path admonition" id="path-finding">
<p class="first admonition-title">Adding <em>mimodd</em> to $PATH</p>
<p>If you get a <em>command not found</em> or similar error message with the
<tt class="docutils literal">mimodd</tt> command, you need to make sure that your system can discover the
executable file from the $PATH environment variable.</p>
<p>For this, you first need to locate the executable file. Unless MiModD was
installed from a precompiled archive, the installer output should contain
the path to the executable on one of its last lines reading:</p>
<p><em>changing mode of &lt;EXECUTABLE_DIR&gt;/mimodd to 755</em></p>
<p>, where <em>&lt;EXECUTABLE_DIR&gt;</em> will be replaced with the actual installation
directory.</p>
<p>If you do not see this line, you can locate the MiModD package by executing:</p>
<p><tt class="docutils literal">python3 <span class="pre">-m</span> MiModD.config</tt></p>
<p>, which will report the package location in the top part of its output.</p>
<p>Then truncate this (possibly long) path from the right side up to the
right-most occurence of <tt class="docutils literal">lib/</tt> and replace the <tt class="docutils literal">lib/</tt> with <tt class="docutils literal">bin/</tt> to obtain the
path to the executable. So for, e.g., a reported package path of</p>
<p><tt class="docutils literal"><span class="pre">/usr/local/lib/python3.4/dist-packages/MiModD</span></tt></p>
<p>the executable path is</p>
<p><tt class="docutils literal">/usr/local/bin/</tt></p>
<p>After locating the executable you can either:</p>
<ul class="last">
<li><p class="first">append the directory to your $PATH variable (<a class="reference external" href="http://www.cyberciti.biz/faq/unix-linux-adding-path">here</a> is a link to a
nice and comprehensive explanation of how to do this) or</p>
</li>
<li><p class="first">copy or symlink the executable to a different directory already in $PATH
(use <tt class="docutils literal">echo $PATH</tt> to see which directories are included).</p>
<p>As an example, here is how you would create, for a <em>mimodd</em> executable
that got installed into a directory <em>/home/me/bin</em>, a symbolic link in
<em>/usr/local/bin</em> (very likely this would require a <tt class="docutils literal">sudo</tt> prepended):</p>
<p><tt class="docutils literal">ln <span class="pre">-s</span> /home/me/bin/mimodd /usr/local/bin/mimodd</tt></p>
</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="galaxy-tool-shed-installation">
<h1>Galaxy Tool Shed Installation</h1>
<div class="admonition-requirements admonition">
<p class="first admonition-title">Requirements</p>
<ul class="last simple">
<li>a C/C++ compiler (tested with gcc/g++ and Clang)</li>
</ul>
</div>
<p>Direct installation from Tool Sheds is an increasingly popular way of adding
new tools to existing instances of Galaxy. Its main advantage is that Tool Shed
installs are encapsulated in and managed by Galaxy and do not require changes
to system directories. This approach is often chosen by administrators of
larger Galaxy servers for which system stability is a primary
concern.</p>
<p>MiModD is available from the <a class="reference external" href="https://toolshed.g2.bx.psu.edu">main Galaxy Tool Shed</a>. For one-click installation of all
components use the <a class="reference external" href="https://toolshed.g2.bx.psu.edu/view/wolma/suite_mimodd_0_1_5">suite_mimodd_0_1_5</a> installer.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">The Tool Shed Installation scheme never uses precompiled installation
archives, but instead compiles all dependencies (including Python3) from
source so you will need a C/C++ compiler even on OS X systems.</p>
</div>
<p>The installation process is the same as for any other Tool Shed tool, and is
described <a class="reference external" href="https://wiki.galaxyproject.org/Admin/Tools/AddToolFromToolShedTutorial">here</a>.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">After the installation, the complete Galaxy interface for all MiModD tools
will be added to your Galaxy's Tools bar, but the order of the tools will
be more or less random. This is one of the disadvantages of the Tool Shed
installation scheme and you will have to manually edit your Galaxy's
<tt class="docutils literal">integrated_tool_panel.xml</tt> file to sort the items on the Tool bar.</p>
</div>
<p>Like for the standard installation, you should configure MiModD before using
the package. However, for a Tool Shed installation of MiModD we recommend the
environment variable-based configuration described below.</p>
</div>
<hr class="docutils" />
<div class="section" id="configuring-mimodd-for-your-system">
<h1>Configuring MiModD for your system</h1>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">You can change all settings at any time, but you should definitely set
them according to your system specifications before you first start using
MiModD.</p>
</div>
<p>The simplest way to configure MiModD is from the command line using its own
config subcommand.</p>
<p>Alternatively, you can change settings through a special environmental variable
recognized by MiModD. This configuration through an environment variable is
convenient in situations in which you do not have easy access to the <em>mimodd</em>
command, as is the case if you have installed the package from the Galaxy Tool
Shed.</p>
<div class="section" id="the-config-subcommand">
<span id="config"></span><h2>The config subcommand</h2>
<p>From the command line use:</p>
<pre class="literal-block">
mimodd config
</pre>
<p>to see the current configuration settings of MiModD.</p>
<p>For a freshly installed copy of MiModD the output should be similar to this:</p>
<pre class="literal-block">
CURRENT MIMODD SETTINGS
-----------------------
PARAMETER : VALUE
.......................
TMPFILES_PATH : /var/tmp/
MULTITHREADING_LEVEL : 4
MAX_MEMORY : 2
SNPEFF_PATH : not available
</pre>
<p>The <tt class="docutils literal">config</tt> subcommand is also the standard tool to <strong>change</strong> the settings.
Its general invocation pattern for this purpose is:</p>
<pre class="literal-block">
mimodd config [--tmpfiles PATH] [--snpeff PATH] [-t THREADS] [-m MEMORY]
</pre>
<p>So to set a new <em>TMPFILES_PATH</em> and to set <em>MAX_MEM</em> to 8 GB, you could use:</p>
<pre class="literal-block">
mimodd config --tmpfiles /var/tmp/mimodd_tmp -m 8
</pre>
<p>Depending on your installation of MiModD, changes to the configuration file may
require superuser rights, so you will have to prepend <tt class="docutils literal">sudo</tt> to the above.
Proceed to <a class="reference internal" href="#configuration-parameters">Configuration parameters</a> to learn more about the settings that
can be changed by the options.</p>
</div>
<div class="section" id="configuration-through-an-environment-variable">
<h2>Configuration through an environment variable</h2>
<p>As an alternative to command line configuration, you can provide new settings
for the <a class="reference internal" href="#configuration-parameters">configuration parameters</a> also through the MiModD-specific
environment variable <tt class="docutils literal">$MIMODD_CONFIG_UPDATE</tt>.</p>
<p>The value of this variable has to be set to a <tt class="docutils literal">:</tt>-separated list of
<em>parameter=value</em> entries, for example:</p>
<pre class="literal-block">
export MIMODD_CONFIG_UPDATE=MAX_MEMORY=8:MULTITHREADING_LEVEL=4
</pre>
<p>The presence of the environment variable will be detected by MiModD at its next
run from the same terminal, and will be used to update its internal config
file accordingly.</p>
<p>You can also pass the variable exclusively to Galaxy by prepending
it to the start script and <strong>this is the recommended approach to configure a
Galaxy Tool Shed installation of MiModD</strong>:</p>
<pre class="literal-block">
MIMODD_CONFIG_UPDATE=MULTITHREADING_LEVEL=3:TMPFILES_PATH=home/galaxy/tmp/ sh run.sh
</pre>
<p>With this, the MiModD config file will get updated when the first MiModD tool
gets executed from within the Galaxy instance.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p>Changes made through $MIMODD_CONFIG_UPDATE are persistent so the variable
has to be found only once.</p>
<p class="last">To store the change <em>mimodd</em> needs to be executed with write privileges for
the MiModD package directory. This should not be an issue with Tool Shed
installations of MiModD, but can make this configuration scheme problematic
in combination with Standard Installations in system directories.</p>
</div>
</div>
<div class="section" id="configuration-parameters">
<h2>Configuration parameters</h2>
<p>listed as pairs of</p>
<dl class="docutils">
<dt>PARAMETER <span class="classifier-delimiter">:</span> <span class="classifier"><tt class="docutils literal">config options</tt></span></dt>
<dd>where PARAMETER can be used in the $MIMODD_CONFIG_UPDATE
variable and the <em>config options</em> are used to set the same parameter using
the <tt class="docutils literal">mimodd config</tt> command.</dd>
<dt>TMPFILES_PATH <span class="classifier-delimiter">:</span> <span class="classifier"><tt class="docutils literal"><span class="pre">--tmpfiles</span></tt>, <tt class="docutils literal"><span class="pre">--tmpfiles-path</span></tt></span></dt>
<dd><p class="first">the directory in which MiModD will store temporary files [default: /var/tmp]</p>
<p class="last">In a typical analysis pipeline, MiModD may produce several GB of data
in this directory and remove them automatically again when the data is not
any longer needed. Under exceptional circumstances, however, MiModD might
fail to delete data files, so this directory is the first place you should
look at if you notice reduced disk space. Also, any users of MiModD will
require write permission in this directory.</p>
</dd>
<dt>MULTITHREADING_LEVEL <span class="classifier-delimiter">:</span> <span class="classifier"><tt class="docutils literal"><span class="pre">-t</span></tt>, <tt class="docutils literal"><span class="pre">--threads</span></tt></span></dt>
<dd><p class="first">the maximum number of cores that a single MiModD command is supposed to use
at any time [default: 4]</p>
<p class="last">Many MiModD commands take advantage of multiprocessing to speed up analyses.
These commands try to respect this setting if possible although some may
use slightly more than their allocated CPU share.</p>
</dd>
<dt>MAX_MEMORY <span class="classifier-delimiter">:</span> <span class="classifier"><tt class="docutils literal"><span class="pre">-m</span></tt>, <tt class="docutils literal"><span class="pre">--memory</span></tt></span></dt>
<dd><p class="first">the maximum memory in GB that any single MiModD command should use [default: 2]</p>
<p class="last">WGS data files are often very large and some MiModD tools can operate on
them more efficiently when allowed to hold a larger portion of such files
in memory at once. Most of the time MiModD will consume less than 1 GB
though.
The setting is adhered to relatively strictly by most tools with the
exception of the SNAP aligner-based tools <em>mimodd snap index</em>, <em>mimodd
snap</em>, <em>mimodd snap_batch</em> and the Galaxy <em>SNAP Read Alignment</em> tool.
Due to the nature of their underlying alignment algorithm these tools will
require a fixed amount of memory that depends on the size of the reference
genome and which may be significantly more than the configured setting.</p>
</dd>
</dl>
<div class="tip">
<p class="first admonition-title">Tip</p>
<p>MULTITHREADING_LEVEL and MAX_MEMORY will have a big effect on the
performance of MiModD, but also on the responsiveness of your system
during execution of MiModD commannds. As a rule of thumb, if you do not
have special requirements, we recommend to set both parameters to between
50 and 75 % of the available resources on your system, i.e., if you have
8 threads and 16 GB of RAM on your system, you might set
MULTITHREADING_LEVEL to 4-6 and MAX_MEM to 8-12.</p>
<p class="last">See also the section on <a class="reference external" href="http://mimodd.readthedocs.org/en/latest/hardware.html">MiModD Hardware Requirements</a> in the User
Guide for more notes on performance.</p>
</div>
<dl class="docutils">
<dt>SNPEFF_PATH <span class="classifier-delimiter">:</span> <span class="classifier"><tt class="docutils literal"><span class="pre">--snpeff</span></tt>, <tt class="docutils literal"><span class="pre">--snpeff-path</span></tt></span></dt>
<dd><p class="first">the path to the optional SnpEff variant annotation tool</p>
<p class="last">This parameter should be set to the directory that you installed SnpEff
into (e.g., ~/snpEff if you followed the recommended installation steps).
If you do not have SnpEff installed, keep the default setting, to have all
SnpEff-dependent functionality of MiModD deactivated.</p>
</dd>
</dl>
</div>
</div>
</div>
</body>
</html>


<div xmlns:py="http://genshi.edgewall.org/" id="calendarevents_calendar_container">
    <script src="${tg.url('/_pluggable/calendarevents/js/jquery-1.7.1.min.js')}" />
    <script src="${tg.url('/_pluggable/calendarevents/js/fullcalendar.min.js')}" />
    <script>var CalJQ = $.noConflict();</script>
    <div id="calendarevents_calendar">

    </div>
    <script>
        CalJQ(document).ready(function() {
            CalJQ('#calendarevents_calendar').fullCalendar({
                year: ${start_from.year},
                month: ${start_from.month-1},
                date: ${start_from.day},
                allDaySlot: ${'true' if all_day_slot else 'false'},
                slotMinutes: ${slot_minutes},
                firstHour: ${first_hour},
                axisFormat: "${time_format}",
                timeFormat: "${time_format}",
                columnFormat: "${column_format}",
                defaultView: "${view}",
                eventSources: ${values}['event_sources'],
                eventClick: function( event, jsEvent, view ) {
                    ${cal.events_type_info.events['eventClick']}("${h.plug_url('calendarevents', '/event/')}", event, view);
                },
                dayClick: function(date, allDay, jsEvent, view) {
                    ${cal.events_type_info.events['dayClick']}("${h.plug_url('calendarevents', '/event/')}", date, allDay, view);
                }
            });
        });
    </script>
</div>
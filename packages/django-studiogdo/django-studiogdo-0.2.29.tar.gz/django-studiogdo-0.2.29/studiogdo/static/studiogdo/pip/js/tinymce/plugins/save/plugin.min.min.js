tinymce.PluginManager.add("save",function(f){function e(){var a;return a=tinymce.DOM.getParent(f.id,"form"),!f.getParam("save_enablewhendirty",!0)||f.isDirty()?(tinymce.triggerSave(),f.getParam("save_onsavecallback")?void (f.execCallback("save_onsavecallback",f)&&(f.startContent=tinymce.trim(f.getContent({format:"raw"})),f.nodeChanged())):void (a?(f.isNotDirty=!0,(!a.onsubmit||a.onsubmit())&&("function"==typeof a.submit?a.submit():f.windowManager.alert("Error: Form submit field collision.")),f.nodeChanged()):f.windowManager.alert("Error: No form element found."))):void 0}function h(){var a=tinymce.trim(f.startContent);return f.getParam("save_oncancelcallback")?void f.execCallback("save_oncancelcallback",f):(f.setContent(a),f.undoManager.clear(),void f.nodeChanged())}function g(){var a=this;f.on("nodeChange",function(){a.disabled(f.getParam("save_enablewhendirty",!0)&&!f.isDirty())})}f.addCommand("mceSave",e),f.addCommand("mceCancel",h),f.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:g}),f.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:g}),f.addShortcut("ctrl+s","","mceSave")});
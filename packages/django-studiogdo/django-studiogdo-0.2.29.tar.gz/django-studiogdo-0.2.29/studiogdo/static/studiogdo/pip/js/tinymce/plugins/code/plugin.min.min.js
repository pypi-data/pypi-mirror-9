tinymce.PluginManager.add("code",function(d){function c(){var a=d.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:d.getParam("code_dialog_width",600),minHeight:d.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){d.focus(),d.undoManager.transact(function(){d.setContent(e.data.code)}),d.selection.setCursorLocation(),d.nodeChanged()}});a.find("#code").value(d.getContent({source_view:!0}))}d.addCommand("mceCodeEditor",c),d.addButton("code",{icon:"code",tooltip:"Source code",onclick:c}),d.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:c})});
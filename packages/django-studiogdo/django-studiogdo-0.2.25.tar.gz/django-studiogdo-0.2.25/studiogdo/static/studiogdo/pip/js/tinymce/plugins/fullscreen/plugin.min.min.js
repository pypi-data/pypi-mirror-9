tinymce.PluginManager.add("fullscreen",function(t){function s(){var g,f,j=window,i=document,h=i.body;return h.offsetWidth&&(g=h.offsetWidth,f=h.offsetHeight),j.innerWidth&&j.innerHeight&&(g=j.innerWidth,f=j.innerHeight),{w:g,h:f}}function r(){function h(){k.setStyle(a,"height",s().h-(b.clientHeight-a.clientHeight))}var d,b,a,g,f=document.body,e=document.documentElement;l=!l,b=t.getContainer(),d=b.style,a=t.getContentAreaContainer().firstChild,g=a.style,l?(q=g.width,p=g.height,g.width=g.height="100%",n=d.width,m=d.height,d.width=d.height="",k.addClass(f,"mce-fullscreen"),k.addClass(e,"mce-fullscreen"),k.addClass(b,"mce-fullscreen"),k.bind(window,"resize",h),h(),o=h):(g.width=q,g.height=p,n&&(d.width=n),m&&(d.height=m),k.removeClass(f,"mce-fullscreen"),k.removeClass(e,"mce-fullscreen"),k.removeClass(b,"mce-fullscreen"),k.unbind(window,"resize",o)),t.fire("FullscreenStateChanged",{state:l})}var q,p,o,n,m,l=!1,k=tinymce.DOM;return t.settings.inline?void 0:(t.on("init",function(){t.addShortcut("Ctrl+Alt+F","",r)}),t.on("remove",function(){o&&k.unbind(window,"resize",o)}),t.addCommand("mceFullScreen",r),t.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Alt+F",selectable:!0,onClick:r,onPostRender:function(){var a=this;t.on("FullscreenStateChanged",function(b){a.active(b.state)})},context:"view"}),t.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:r,onPostRender:function(){var a=this;t.on("FullscreenStateChanged",function(b){a.active(b.state)})}}),{isFullscreen:function(){return l}})});
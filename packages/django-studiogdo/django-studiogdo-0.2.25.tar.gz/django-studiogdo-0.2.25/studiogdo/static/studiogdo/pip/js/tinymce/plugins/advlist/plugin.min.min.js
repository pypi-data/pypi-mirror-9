tinymce.PluginManager.add("advlist",function(i){function h(e,d){var f=[];return tinymce.each(d.split(/[ ,]/),function(b){f.push({text:b.replace(/\-/g," ").replace(/\b\w/g,function(c){return c.toUpperCase()}),data:"default"==b?"":b})}),f}function n(a,d){i.undoManager.transact(function(){var g,c=i.dom,b=i.selection;g=c.getParent(b.getNode(),"ol,ul"),g&&g.nodeName==a&&d!==!1||i.execCommand("UL"==a?"InsertUnorderedList":"InsertOrderedList"),d=d===!1?j[a]:d,j[a]=d,g=c.getParent(b.getNode(),"ol,ul"),g&&(c.setStyle(g,"listStyleType",d?d:null),g.removeAttribute("data-mce-style")),i.focus()})}function m(a){var d=i.dom.getStyle(i.dom.getParent(i.selection.getNode(),"ol,ul"),"listStyleType")||"";a.control.items().each(function(b){b.active(b.settings.data===d)})}var l,k,j={};l=h("OL",i.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),k=h("UL",i.getParam("advlist_bullet_styles","default,circle,disc,square")),i.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:l,onshow:m,onselect:function(b){n("OL",b.control.settings.data)},onclick:function(){n("OL",!1)}}),i.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:k,onshow:m,onselect:function(b){n("UL",b.control.settings.data)},onclick:function(){n("UL",!1)}})});
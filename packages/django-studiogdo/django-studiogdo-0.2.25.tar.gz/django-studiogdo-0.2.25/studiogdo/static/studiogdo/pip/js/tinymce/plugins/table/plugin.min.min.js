!function(h,g){function l(f,e){for(var o,n=[],m=0;m<f.length;++m){if(o=i[f[m]]||j(f[m]),!o){throw"module definition dependecy not found: "+f[m]}n.push(o)}e.apply(null,n)}function k(b,f,c){if("string"!=typeof b){throw"invalid module definition, module id must be defined and be a string"}if(f===g){throw"invalid module definition, dependencies must be specified"}if(c===g){throw"invalid module definition, definition function must be specified"}l(f,function(){i[b]=c.apply(null,arguments)})}function j(a){for(var n=h,m=a.split(/[.\/]/),f=0;f<m.length;++f){if(!n[m[f]]){return}n=n[m[f]]}return n}var i={};k("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env"],function(b,n){function m(d,c){return parseInt(d.getAttribute(c)||1,10)}var f=b.each;return function(ao,an){function am(){var o=0;T=[],R=0,f(["thead","tbody","tfoot"],function(p){var q=a.select("> "+p+" tr",an);f(q,function(s,r){r+=o,f(a.select("> td, > th",s),function(t,y){var x,w,v,u;if(T[r]){for(;T[r][y];){y++}}for(v=m(t,"rowspan"),u=m(t,"colspan"),w=r;r+v>w;w++){for(T[w]||(T[w]=[]),x=y;y+u>x;x++){T[w][x]={part:p,real:w==r&&x==y,elm:t,rowspan:v,colspan:u}}}R=Math.max(R,y+1)})}),o+=q.length})}function al(p,o){return p=p.cloneNode(o),p.removeAttribute("id"),p}function ak(p,o){var q;return q=T[o],q?q[p]:void 0}function aj(p,o,q){p&&(q=parseInt(q,10),1===q?p.removeAttribute(o,1):p.setAttribute(o,q,1))}function ai(o){return o&&(a.hasClass(o.elm,"mce-item-selected")||o==e)}function ah(){var o=[];return f(an.rows,function(p){f(p.cells,function(q){return a.hasClass(q,"mce-item-selected")||e&&q==e.elm?(o.push(p),!1):void 0})}),o}function ag(){var o=a.createRng();o.setStartAfter(an),o.setEndAfter(an),c.setRng(o),a.remove(an)}function af(o){var q,p={};return ao.settings.table_clone_elements!==!1&&(p=b.makeMap((ao.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),b.walk(o,function(r){var s;return 3==r.nodeType?(f(a.getParents(r.parentNode,null,o).reverse(),function(t){p[t.nodeName]&&(t=al(t,!1),q?s&&s.appendChild(t):q=s=t,s=t)}),s&&(s.innerHTML=n.ie?"&nbsp;":'<br data-mce-bogus="1" />'),!1):void 0},"childNodes"),o=al(o,!1),aj(o,"rowSpan",1),aj(o,"colSpan",1),q?o.appendChild(q):(!n.ie||n.ie>10)&&(o.innerHTML='<br data-mce-bogus="1" />'),o}function ae(){var p,o=a.createRng();return f(a.select("tr",an),function(q){0===q.cells.length&&a.remove(q)}),0===a.select("tr",an).length?(o.setStartBefore(an),o.setEndBefore(an),c.setRng(o),void a.remove(an)):(f(a.select("thead,tbody,tfoot",an),function(q){0===q.rows.length&&a.remove(q)}),am(),void (P&&(p=T[Math.min(T.length-1,P.y)],p&&(c.select(p[Math.min(p.length-1,P.x)].elm,!0),c.collapse(!0)))))}function ac(w,v,u,t){var s,r,q,p,o;for(s=T[v][w].elm.parentNode,q=1;u>=q;q++){if(s=a.getNext(s,"tr")){for(r=w;r>=0;r--){if(o=T[v+q][r].elm,o.parentNode==s){for(p=1;t>=p;p++){a.insertAfter(af(o),o)}break}}if(-1==r){for(p=1;t>=p;p++){s.insertBefore(af(s.cells[0]),s.cells[0])}}}}}function aa(){f(T,function(p,o){f(p,function(q,u){var t,s,r;if(ai(q)&&(q=q.elm,t=m(q,"colspan"),s=m(q,"rowspan"),t>1||s>1)){for(aj(q,"rowSpan",1),aj(q,"colSpan",1),r=0;t-1>r;r++){a.insertAfter(af(q),q)}ac(u,o,s-1,t)}})})}function Y(D,C,B){var A,z,y,x,w,r,p,H,G,F,E;if(D?(A=ad(D),z=A.x,y=A.y,x=z+(C-1),w=y+(B-1)):(P=N=null,f(T,function(q,o){f(q,function(s,t){ai(s)&&(P||(P={x:t,y:o}),N={x:t,y:o})})}),P&&(z=P.x,y=P.y,x=N.x,w=N.y)),H=ak(z,y),G=ak(x,w),H&&G&&H.part==G.part){for(aa(),am(),H=ak(z,y).elm,aj(H,"colSpan",x-z+1),aj(H,"rowSpan",w-y+1),p=y;w>=p;p++){for(r=z;x>=r;r++){T[p]&&T[p][r]&&(D=T[p][r].elm,D!=H&&(F=b.grep(D.childNodes),f(F,function(o){H.appendChild(o)}),F.length&&(F=b.grep(H.childNodes),E=0,f(F,function(o){"BR"==o.nodeName&&a.getAttrib(o,"data-mce-bogus")&&E++<F.length-1&&H.removeChild(o)})),a.remove(D)))}}ae()}}function W(z){var y,x,w,v,u,t,s,r,o;if(f(T,function(p,q){return f(p,function(A){return ai(A)&&(A=A.elm,u=A.parentNode,t=al(u,!1),y=q,z)?!1:void 0}),z?!y:void 0}),y!==g){for(v=0;v<T[0].length;v++){if(T[y][v]&&(x=T[y][v].elm,x!=w)){if(z){if(y>0&&T[y-1][v]&&(r=T[y-1][v].elm,o=m(r,"rowSpan"),o>1)){aj(r,"rowSpan",o+1);continue}}else{if(o=m(x,"rowspan"),o>1){aj(x,"rowSpan",o+1);continue}}s=af(x),aj(s,"colSpan",x.colSpan),t.appendChild(s),w=x}}t.hasChildNodes()&&(z?u.parentNode.insertBefore(t,u):a.insertAfter(t,u))}}function U(p){var o,q;f(T,function(r){return f(r,function(t,s){return ai(t)&&(o=s,p)?!1:void 0}),p?!o:void 0}),f(T,function(v,u){var t,s,r;v[o]&&(t=v[o].elm,t!=q&&(r=m(t,"colspan"),s=m(t,"rowspan"),1==r?p?(t.parentNode.insertBefore(af(t),t),ac(o,u,s-1,r)):(a.insertAfter(af(t),t),ac(o,u,s-1,r)):aj(t,"colSpan",t.colSpan+1),q=t))})}function S(){var o=[];f(T,function(p){f(p,function(r,q){ai(r)&&-1===b.inArray(o,q)&&(f(T,function(t){var s,u=t[q].elm;s=m(u,"colSpan"),s>1?aj(u,"colSpan",s-1):a.remove(u)}),o.push(q))})}),ae()}function Q(){function p(r){var q,s;f(r.cells,function(t){var u=m(t,"rowSpan");u>1&&(aj(t,"rowSpan",u-1),q=ad(t),ac(q.x,q.y,1,1))}),q=ad(r.cells[0]),f(T[q.y],function(u){var t;u=u.elm,u!=s&&(t=m(u,"rowSpan"),1>=t?a.remove(u):aj(u,"rowSpan",t-1),s=u)})}var o;o=ah(),f(o.reverse(),function(q){p(q)}),ae()}function O(){var o=ah();return a.remove(o),ae(),o}function M(){var o=ah();return f(o,function(p,q){o[q]=al(p,!0)}),o}function d(p,o){var s=ah(),r=s[o?0:s.length-1],q=r.cells.length;p&&(f(T,function(u){var t;return q=0,f(u,function(v){v.real&&(q+=v.colspan),v.elm.parentNode==r&&(t=1)}),t?!1:void 0}),o||p.reverse(),f(p,function(t){var w,v,u=t.cells.length;for(w=0;u>w;w++){v=t.cells[w],aj(v,"colSpan",1),aj(v,"rowSpan",1)}for(w=u;q>w;w++){t.appendChild(af(t.cells[u-1]))}for(w=q;u>w;w++){a.remove(t.cells[w])}o?r.parentNode.insertBefore(t,r):a.insertAfter(t,r)}),a.removeClass(a.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"))}function ad(p){var o;return f(T,function(r,q){return f(r,function(t,s){return t.elm==p?(o={x:s,y:q},!1):void 0}),!o}),o}function ab(o){P=ad(o)}function Z(){var p,o;return p=o=0,f(T,function(r,q){f(r,function(v,u){var t,s;ai(v)&&(v=T[q][u],u>p&&(p=u),q>o&&(o=q),v.real&&(t=v.colspan-1,s=v.rowspan-1,t&&u+t>p&&(p=u+t),s&&q+s>o&&(o=q+s)))})}),{x:p,y:o}}function X(y){var x,w,v,u,t,s,r,q,p,o;if(N=ad(y),P&&N){for(x=Math.min(P.x,N.x),w=Math.min(P.y,N.y),v=Math.max(P.x,N.x),u=Math.max(P.y,N.y),t=v,s=u,o=w;s>=o;o++){y=T[o][x],y.real||x-(y.colspan-1)<x&&(x-=y.colspan-1)}for(p=x;t>=p;p++){y=T[w][p],y.real||w-(y.rowspan-1)<w&&(w-=y.rowspan-1)}for(o=w;u>=o;o++){for(p=x;v>=p;p++){y=T[o][p],y.real&&(r=y.colspan-1,q=y.rowspan-1,r&&p+r>t&&(t=p+r),q&&o+q>s&&(s=o+q))}}for(a.removeClass(a.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),o=w;s>=o;o++){for(p=x;t>=p;p++){T[o][p]&&a.addClass(T[o][p].elm,"mce-item-selected")}}}}function V(p,o){var s,r,q;s=ad(p),r=s.y*R+s.x;do{if(r+=o,q=ak(r%R,Math.floor(r/R)),!q){break}if(q.elm!=p){return c.select(q.elm,!0),a.isEmpty(q.elm)&&c.collapse(!0),!0}}while(q.elm==p);return !1}var T,R,P,N,e,c=ao.selection,a=c.dom;an=an||a.getParent(c.getStart(),"table"),am(),e=a.getParent(c.getStart(),"th,td"),e&&(P=ad(e),N=Z(),e=ak(P.x,P.y)),b.extend(this,{deleteTable:ag,split:aa,merge:Y,insertRow:W,insertCol:U,deleteCols:S,deleteRows:Q,cutRows:O,copyRows:M,pasteRows:d,getPos:ad,setStartCell:ab,setEndCell:X,moveRelIdx:V,refresh:am})}}),k("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools"],function(m,f,p){function o(d,c){return parseInt(d.getAttribute(c)||1,10)}var n=p.each;return function(r){function q(){function c(I){function H(R,Q){var P=R?"previousSibling":"nextSibling",O=r.dom.getParent(Q,"tr"),N=O[P];if(N){return w(r,Q,N,R),I.preventDefault(),!0}var M=r.dom.getParent(O,"table"),u=O.parentNode,t=u.nodeName.toLowerCase();if("tbody"===t||t===(R?"tfoot":"thead")){var s=G(R,M,u,"tbody");if(null!==s){return E(R,s,Q)}}return D(R,O,P,M)}function G(t,s,P,O){var N=r.dom.select(">"+O,s),M=N.indexOf(P);if(t&&0===M||!t&&M===N.length-1){return F(t,s)}if(-1===M){var u="thead"===P.tagName.toLowerCase()?0:N.length-1;return N[u]}return N[M+(t?-1:1)]}function F(t,s){var M=t?"thead":"tfoot",u=r.dom.select(">"+M,s);return 0!==u.length?u[0]:null}function E(s,M,u){var t=C(M,s);return t&&w(r,u,t,s),I.preventDefault(),!0}function D(s,P,O,N){var M=N[O];if(M){return B(M),!0}var u=r.dom.getParent(N,"td,th");if(u){return H(s,u,I)}var t=C(P,!s);return B(t),I.preventDefault(),!1}function C(t,s){var u=t&&t[s?"lastChild":"firstChild"];return u&&"BR"===u.nodeName?r.dom.getParent(u,"td,th"):u}function B(s){r.selection.setCursorLocation(s,0)}function A(){return K==m.UP||K==m.DOWN}function z(t){var s=t.selection.getNode(),u=t.dom.getParent(s,"tr");return null!==u}function y(t){for(var s=0,u=t;u.previousSibling;){u=u.previousSibling,s+=o(u,"colspan")}return s}function x(t,s){var M=0,u=0;return n(t.children,function(N,O){return M+=o(N,"colspan"),u=O,M>s?!1:void 0}),u}function w(t,s,Q,P){var O=y(r.dom.getParent(s,"td,th")),N=x(Q,O),M=Q.childNodes[N],u=C(M,P);B(u||M)}function v(t){var s=r.selection.getNode(),M=r.dom.getParent(s,"td,th"),u=r.dom.getParent(t,"td,th");return M&&M!==u&&L(M,u)}function L(t,s){return r.dom.getParent(t,"TABLE")===r.dom.getParent(s,"TABLE")}var K=I.keyCode;if(A()&&z(r)){var J=r.selection.getNode();setTimeout(function(){v(J)&&H(!I.shiftKey&&K===m.UP,J,I)},0)}}r.on("KeyDown",function(s){c(s)})}function e(){function c(t,s){var w,v=s.ownerDocument,u=v.createRange();return u.setStartBefore(s),u.setEnd(t.endContainer,t.endOffset),w=v.createElement("body"),w.appendChild(u.cloneContents()),0===w.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}r.on("KeyDown",function(s){var v,u,t=r.dom;(37==s.keyCode||38==s.keyCode)&&(v=r.selection.getRng(),u=t.getParent(v.startContainer,"table"),u&&r.getBody().firstChild==u&&c(v,u)&&(v=t.createRng(),v.setStartBefore(u),v.setEndBefore(u),r.selection.setRng(v),s.preventDefault()))})}function d(){r.on("KeyDown SetContent VisualAid",function(){var c;for(c=r.getBody().lastChild;c;c=c.previousSibling){if(3==c.nodeType){if(c.nodeValue.length>0){break}}else{if(1==c.nodeType&&("BR"==c.tagName||!c.getAttribute("data-mce-bogus"))){break}}}c&&"TABLE"==c.nodeName&&(r.settings.forced_root_block?r.dom.add(r.getBody(),r.settings.forced_root_block,r.settings.forced_root_block_attrs,f.ie&&f.ie<11?"&nbsp;":'<br data-mce-bogus="1" />'):r.dom.add(r.getBody(),"br",{"data-mce-bogus":"1"}))}),r.on("PreProcess",function(s){var c=s.node.lastChild;c&&("BR"==c.nodeName||1==c.childNodes.length&&("BR"==c.firstChild.nodeName||"\xa0"==c.firstChild.nodeValue))&&c.previousSibling&&"TABLE"==c.previousSibling.nodeName&&r.dom.remove(c)})}function b(){function s(B,A,z,y){var x,w,v,u=3,t=B.dom.getParent(A.startContainer,"TABLE");return t&&(x=t.parentNode),w=A.startContainer.nodeType==u&&0===A.startOffset&&0===A.endOffset&&y&&("TR"==z.nodeName||z==x),v=("TD"==z.nodeName||"TH"==z.nodeName)&&!y,w||v}function c(){var t=r.selection.getRng(),w=r.selection.getNode(),v=r.dom.getParent(t.startContainer,"TD,TH");if(s(r,t,w,v)){v||(v=w);for(var u=v.lastChild;u.lastChild;){u=u.lastChild}3==u.nodeType&&(t.setEnd(u,u.data.length),r.selection.setRng(t))}}r.on("KeyDown",function(){c()}),r.on("MouseDown",function(t){2!=t.button&&c()})}function a(){r.on("keydown",function(c){if((c.keyCode==m.DELETE||c.keyCode==m.BACKSPACE)&&!c.isDefaultPrevented()){var u=r.dom.getParent(r.selection.getStart(),"table");if(u){for(var t=r.dom.select("td,th",u),s=t.length;s--;){if(!r.dom.hasClass(t[s],"mce-item-selected")){return}}c.preventDefault(),r.execCommand("mceTableDelete")}}})}a(),f.webkit&&(q(),b()),f.gecko&&(e(),d()),f.ie>10&&(e(),d())}}),k("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(e,d,f){return function(r){function q(s){r.getBody().style.webkitUserSelect="",(s||a)&&(r.dom.removeClass(r.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),a=!1)}function p(t){var w,v,u=t.target;if(!c&&n&&(o||u!=n)&&("TD"==u.nodeName||"TH"==u.nodeName)){v=b.getParent(u,"table"),v==m&&(o||(o=new e(r,v),o.setStartCell(n),r.getBody().style.webkitUserSelect="none"),o.setEndCell(u),a=!0),w=r.selection.getSel();try{w.removeAllRanges?w.removeAllRanges():w.empty()}catch(s){}t.preventDefault()}}var o,n,m,c,b=r.dom,a=!0;return r.on("MouseDown",function(s){2==s.button||c||(q(),n=b.getParent(s.target,"td,th"),m=b.getParent(n,"table"))}),r.on("mouseover",p),r.on("remove",function(){b.unbind(r.getDoc(),"mouseover",p)}),r.on("MouseUp",function(){function u(z,B){var A=new d(z,z);do{if(3==z.nodeType&&0!==f.trim(z.nodeValue).length){return void (B?x.setStart(z,0):x.setEnd(z,z.nodeValue.length))}if("BR"==z.nodeName){return void (B?x.setStartBefore(z):x.setEndBefore(z))}}while(z=B?A.next():A.prev())}var x,w,v,t,s,y=r.selection;if(n){if(o&&(r.getBody().style.webkitUserSelect=""),w=b.select("td.mce-item-selected,th.mce-item-selected"),w.length>0){x=b.createRng(),t=w[0],x.setStartBefore(t),x.setEndAfter(t),u(t,1),v=new d(t,b.getParent(w[0],"table"));do{if("TD"==t.nodeName||"TH"==t.nodeName){if(!b.hasClass(t,"mce-item-selected")){break}s=t}}while(t=v.next());u(s),y.setRng(x)}r.nodeChanged(),n=o=m=null}}),r.on("KeyUp Drop SetContent",function(s){q("setcontent"==s.type),n=o=m=null,c=!1}),r.on("ObjectResizeStart ObjectResized",function(s){c="objectresized"!=s.type}),{clear:q}}}),k("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(e,d){var f=e.each;return function(v){function u(){var m=v.settings.color_picker_callback;return m?function(){var n=this;m.call(v,function(w){n.value(w).fire("change")},n.value())}:void 0}function t(m){return{title:"Advanced",type:"form",defaults:{onchange:function(){c(m,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:u()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:u()}]}]}}function s(m){return m?m.replace(/px$/,""):""}function r(m){return/^[0-9]+$/.test(m)&&(m+="px"),m}function q(m){f("left center right".split(" "),function(n){v.formatter.remove("align"+n,{},m)})}function p(m){f("top middle bottom".split(" "),function(n){v.formatter.remove("valign"+n,{},m)})}function o(m,x,w){function n(y,z){return z=z||[],e.each(y,function(B){var A={text:B.text||B.title};B.menu?A.menu=n(B.menu):(A.value=B.value,x&&x(A)),z.push(A)}),z}return n(m,w||[])}function c(n,m,y){var x=m.toJSON(),w=n.parseStyle(x.style);y?(m.find("#borderColor").value(w["border-color"]||"")[0].fire("change"),m.find("#backgroundColor").value(w["background-color"]||"")[0].fire("change")):(w["border-color"]=x.borderColor,w["background-color"]=x.backgroundColor),m.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(w))))}function b(n,m,x){var w=n.parseStyle(n.getAttrib(x,"style"));w["border-color"]&&(m.borderColor=w["border-color"]),w["background-color"]&&(m.backgroundColor=w["background-color"]),m.style=n.serializeStyle(w)}var a=this;a.tableProps=function(){a.table(!0)},a.table=function(B){function A(){var n;c(D,this),C=e.extend(C,this.toJSON()),e.each("backgroundColor borderColor".split(" "),function(E){delete C[E]}),C["class"]===!1&&delete C["class"],v.undoManager.transact(function(){z||(z=v.plugins.table.insertTable(C.cols||1,C.rows||1)),v.dom.setAttribs(z,{cellspacing:C.cellspacing,cellpadding:C.cellpadding,border:C.border,style:C.style,"class":C["class"]}),D.getAttrib(z,"width")?D.setAttrib(z,"width",s(C.width)):D.setStyle(z,"width",r(C.width)),D.setStyle(z,"height",r(C.height)),n=D.select("caption",z)[0],n&&!C.caption&&D.remove(n),!n&&C.caption&&(n=D.create("caption"),n.innerHTML=d.ie?"\xa0":'<br data-mce-bogus="1"/>',z.insertBefore(n,z.firstChild)),q(z),C.align&&v.formatter.apply("align"+C.align,{},z),v.focus(),v.addVisual()})}var z,y,x,w,m,D=v.dom,C={};B===!0?(z=D.getParent(v.selection.getStart(),"table"),z&&(C={width:s(D.getStyle(z,"width")||D.getAttrib(z,"width")),height:s(D.getStyle(z,"height")||D.getAttrib(z,"height")),cellspacing:z?D.getAttrib(z,"cellspacing"):"",cellpadding:z?D.getAttrib(z,"cellpadding"):"",border:z?D.getAttrib(z,"border"):"",caption:!!D.select("caption",z)[0],"class":D.getAttrib(z,"class")},f("left center right".split(" "),function(n){v.formatter.matchNode(z,"align"+n)&&(C.align=n)}))):(y={label:"Cols",name:"cols"},x={label:"Rows",name:"rows"}),v.settings.table_class_list&&(C["class"]&&(C["class"]=C["class"].replace(/\s*mce\-item\-table\s*/g,"")),w={name:"class",type:"listbox",label:"Class",values:o(v.settings.table_class_list,function(n){n.value&&(n.textStyle=function(){return v.formatter.getCssText({block:"table",classes:[n.value]})})})}),m={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:[y,x,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},w]},v.settings.table_advtab!==!1?(b(D,C,z),v.windowManager.open({title:"Table properties",data:C,bodyType:"tabpanel",body:[{title:"General",type:"form",items:m},t(D)],onsubmit:A})):v.windowManager.open({title:"Table properties",data:C,body:m,onsubmit:A})},a.merge=function(n,m){v.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var w=this.toJSON();v.undoManager.transact(function(){n.merge(m,w.cols,w.rows)})}})},a.cell=function(){function m(){c(y,this),B=e.extend(B,this.toJSON()),v.undoManager.transact(function(){f(x,function(n){v.dom.setAttribs(n,{scope:B.scope,style:B.style,"class":B["class"]}),v.dom.setStyles(n,{width:r(B.width),height:r(B.height)}),B.type&&n.nodeName.toLowerCase()!=B.type&&(n=y.rename(n,B.type)),q(n),B.align&&v.formatter.apply("align"+B.align,{},n),p(n),B.valign&&v.formatter.apply("valign"+B.valign,{},n)}),v.focus()})}var z,B,A,y=v.dom,x=[];if(x=v.dom.select("td.mce-item-selected,th.mce-item-selected"),z=v.dom.getParent(v.selection.getStart(),"td,th"),!x.length&&z&&x.push(z),z=z||x[0]){B={width:s(y.getStyle(z,"width")||y.getAttrib(z,"width")),height:s(y.getStyle(z,"height")||y.getAttrib(z,"height")),scope:y.getAttrib(z,"scope"),"class":y.getAttrib(z,"class")},B.type=z.nodeName.toLowerCase(),f("left center right".split(" "),function(n){v.formatter.matchNode(z,"align"+n)&&(B.align=n)}),f("top middle bottom".split(" "),function(n){v.formatter.matchNode(z,"valign"+n)&&(B.valign=n)}),v.settings.table_cell_class_list&&(A={name:"class",type:"listbox",label:"Class",values:o(v.settings.table_cell_class_list,function(n){n.value&&(n.textStyle=function(){return v.formatter.getCssText({block:"td",classes:[n.value]})})})});var w={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},A]};v.settings.table_cell_advtab!==!1?(b(y,B,z),v.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:B,body:[{title:"General",type:"form",items:w},t(y)],onsubmit:m})):v.windowManager.open({title:"Cell properties",data:B,body:w,onsubmit:m})}},a.row=function(){function C(){var n,F,E;c(m,this),x=e.extend(x,this.toJSON()),v.undoManager.transact(function(){var G=x.type;f(D,function(H){v.dom.setAttribs(H,{scope:x.scope,style:x.style,"class":x["class"]}),v.dom.setStyles(H,{height:r(x.height)}),G!=H.parentNode.nodeName.toLowerCase()&&(n=m.getParent(H,"table"),F=H.parentNode,E=m.select(G,n)[0],E||(E=m.create(G),n.firstChild?n.insertBefore(E,n.firstChild):n.appendChild(E)),E.appendChild(H),F.hasChildNodes()||m.remove(F)),q(H),x.align&&v.formatter.apply("align"+x.align,{},H)}),v.focus()})}var B,A,z,y,x,w,m=v.dom,D=[];B=v.dom.getParent(v.selection.getStart(),"table"),A=v.dom.getParent(v.selection.getStart(),"td,th"),f(B.rows,function(n){f(n.cells,function(E){return m.hasClass(E,"mce-item-selected")||E==A?(D.push(n),!1):void 0})}),z=D[0],z&&(x={height:s(m.getStyle(z,"height")||m.getAttrib(z,"height")),scope:m.getAttrib(z,"scope"),"class":m.getAttrib(z,"class")},x.type=z.parentNode.nodeName.toLowerCase(),f("left center right".split(" "),function(n){v.formatter.matchNode(z,"align"+n)&&(x.align=n)}),v.settings.table_row_class_list&&(y={name:"class",type:"listbox",label:"Class",values:o(v.settings.table_row_class_list,function(n){n.value&&(n.textStyle=function(){return v.formatter.getCssText({block:"tr",classes:[n.value]})})})}),w={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},y]},v.settings.table_row_advtab!==!1?(b(m,x,z),v.windowManager.open({title:"Row properties",data:x,bodyType:"tabpanel",body:[{title:"General",type:"form",items:w},t(m)],onsubmit:C})):v.windowManager.open({title:"Row properties",data:x,body:w,onsubmit:C}))}}}),k("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(v,u,t,s,r,q,p,o){function n(D){function C(e){return function(){D.execCommand(e)}}function B(E,e){var I,H,G,F;for(G='<table id="__mce"><tbody>',I=0;e>I;I++){for(G+="<tr>",H=0;E>H;H++){G+="<td>"+(p.ie?" ":"<br>")+"</td>"}G+="</tr>"}return G+="</tbody></table>",D.undoManager.transact(function(){D.insertContent(G),F=D.dom.get("__mce"),D.dom.setAttrib(F,"id",null),D.dom.setAttribs(F,D.settings.table_default_attributes||{}),D.dom.setStyles(F,D.settings.table_default_styles||{})}),F}function A(f,e){function E(){f.disabled(!D.dom.getParent(D.selection.getStart(),e)),D.selection.selectorChanged(e,function(F){f.disabled(!F)})}D.initialized?E():D.on("init",E)}function z(){A(this,"table")}function y(){A(this,"td,th")}function x(){var f="";f='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var e=0;10>e;e++){f+="<tr>";for(var E=0;10>E;E++){f+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*e+E)+'" href="#" data-mce-x="'+E+'" data-mce-y="'+e+'"></a></td>'}f+="</tr>"}return f+="</table>",f+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function w(M,L,K){var J,I,H,G,F,E=K.getEl().getElementsByTagName("table")[0],e=K.isRtl()||"tl-tr"==K.parent().rel;for(E.nextSibling.innerHTML=M+1+" x "+(L+1),e&&(M=9-M),I=0;10>I;I++){for(J=0;10>J;J++){G=E.rows[I].childNodes[J].firstChild,F=(e?J>=M:M>=J)&&L>=I,D.dom.toggleClass(G,"mce-active",F),F&&(H=G)}}return H.parentNode}var d,c=this,b=new s(D);D.settings.table_grid===!1?D.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:b.table}):D.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),b.table())},onshow:function(){w(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");D.dom.removeClass(e,"mce-active"),D.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:x(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(f){var e,F,E=f.target;"A"==E.tagName.toUpperCase()&&(e=parseInt(E.getAttribute("data-mce-x"),10),F=parseInt(E.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(e=9-e),(e!==this.lastX||F!==this.lastY)&&(w(e,F,f.control),this.lastX=e,this.lastY=F))},onclick:function(f){var e=this;"A"==f.target.tagName.toUpperCase()&&(f.preventDefault(),f.stopPropagation(),e.parent().cancel(),D.undoManager.transact(function(){B(e.lastX+1,e.lastY+1)}),D.addVisual())}}]}),D.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:z,onclick:b.tableProps}),D.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:z,cmd:"mceTableDelete"}),D.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:C("mceTableCellProps"),onPostRender:y},{text:"Merge cells",onclick:C("mceTableMergeCells"),onPostRender:y},{text:"Split cell",onclick:C("mceTableSplitCells"),onPostRender:y}]}),D.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:C("mceTableInsertRowBefore"),onPostRender:y},{text:"Insert row after",onclick:C("mceTableInsertRowAfter"),onPostRender:y},{text:"Delete row",onclick:C("mceTableDeleteRow"),onPostRender:y},{text:"Row properties",onclick:C("mceTableRowProps"),onPostRender:y},{text:"-"},{text:"Cut row",onclick:C("mceTableCutRow"),onPostRender:y},{text:"Copy row",onclick:C("mceTableCopyRow"),onPostRender:y},{text:"Paste row before",onclick:C("mceTablePasteRowBefore"),onPostRender:y},{text:"Paste row after",onclick:C("mceTablePasteRowAfter"),onPostRender:y}]}),D.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:C("mceTableInsertColBefore"),onPostRender:y},{text:"Insert column after",onclick:C("mceTableInsertColAfter"),onPostRender:y},{text:"Delete column",onclick:C("mceTableDeleteCol"),onPostRender:y}]});var a=[];m("inserttable tableprops deletetable | cell row column".split(" "),function(e){a.push("|"==e?{text:"-"}:D.menuItems[e])}),D.addButton("table",{type:"menubutton",title:"Table",menu:a}),p.isIE||D.on("click",function(e){e=e.target,"TABLE"===e.nodeName&&(D.selection.select(e),D.nodeChanged())}),c.quirks=new u(D),D.on("Init",function(){c.cellSelection=new t(D)}),m({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(f){var e;e=D.dom.getParent(D.selection.getStart(),"th,td"),D.dom.select("td.mce-item-selected,th.mce-item-selected").length?f.merge():b.merge(f,e)},mceTableInsertRowBefore:function(e){e.insertRow(!0)},mceTableInsertRowAfter:function(e){e.insertRow()},mceTableInsertColBefore:function(e){e.insertCol(!0)},mceTableInsertColAfter:function(e){e.insertCol()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){d=e.cutRows()},mceTableCopyRow:function(e){d=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(d,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(d)},mceTableDelete:function(e){e.deleteTable()}},function(e,f){D.addCommand(f,function(){var E=new v(D);E&&(e(E),D.execCommand("mceRepaint"),c.cellSelection.clear())})}),m({mceInsertTable:b.table,mceTableProps:function(){b.table(!0)},mceTableRowProps:b.row,mceTableCellProps:b.cell},function(f,e){D.addCommand(e,function(E,F){f(F)})}),D.settings.table_tab_navigation!==!1&&D.on("keydown",function(e){var G,F,E;9==e.keyCode&&(G=D.dom.getParent(D.selection.getStart(),"th,td"),G&&(e.preventDefault(),F=new v(D),E=e.shiftKey?-1:1,D.undoManager.transact(function(){!F.moveRelIdx(G,E)&&E>0&&(F.insertRow(),F.refresh(),F.moveRelIdx(G,E))})))}),c.insertTable=B}var m=r.each;o.add("table",n)})}(this);
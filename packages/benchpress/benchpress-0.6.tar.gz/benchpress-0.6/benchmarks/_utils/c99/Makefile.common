ROOT=../..

BENCH_SRC   = $(wildcard src/*.c)
BENCHMARK   = $(subst .c,, $(subst src/,,$(BENCH_SRC)))

CC=gcc
DEBUG=
CFLAGS=-Wall -Wextra -O3 -x c -std=c99 $(DEBUG)
UTILS=$(ROOT)/_utils/c99/src/bp_util.c
INCLUDE=-I$(ROOT)/_utils/c99/include
LIBS=-lm
EXTRAS+=

$(BENCHMARK): $(BENCH_SRC)
	$(CC) $(CFLAGS) $(INCLUDE) $(LIBS) $(EXTRAS) $(UTILS) $< -o bin/$@ 

clean:
	rm -rf *.o *~
	find bin/ -type f -name "*" -exec rm  {} \;

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuring Security &mdash; FireWorks 0.99 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.99',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="FireWorks 0.99 documentation" href="index.html" />
    <link rel="next" title="Modifying the FW Config" href="config_tutorial.html" />
    <link rel="prev" title="Plotting workflows" href="plotting.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="config_tutorial.html" title="Modifying the FW Config"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting workflows"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">FireWorks 0.99 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuring-security">
<h1>Configuring Security<a class="headerlink" href="#configuring-security" title="Permalink to this headline">¶</a></h1>
<p>The FireWorks tutorials so far have not configured any security on your LaunchPad. We strongly suggest that you password-protect your Mongo database. We&#8217;ll walk you through this process in this tutorial. Note that if you are using a cloud service to host MongoDB, you should use the instructions provided by that service to configure database security.</p>
<p>There are several other actions you can take for added security, such as restricting the IPs that can connect to your Mongo instance. Additional details can be found in the <a class="reference external" href="http://docs.mongodb.org/manual/administration/security/">MongoDB official documentation</a>.</p>
<div class="section" id="create-an-authenticated-user-in-the-admin-database">
<h2>Create an authenticated user in the admin database<a class="headerlink" href="#create-an-authenticated-user-in-the-admin-database" title="Permalink to this headline">¶</a></h2>
<p>On your FireServer (which hosts your Mongo database), you must set up at least one user for the admin database. Note that this involves a server restart, so you should not do this during production runs.</p>
<ol class="arabic">
<li><p class="first">First, connect to your Mongo instance (MongoDB must already be running in the background):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mongo</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using a non-default port, make sure to specify it.</p>
</div>
</li>
<li><p class="first">Connect to the admin database and add your user in the Mongo shell:</p>
<div class="highlight-python"><div class="highlight"><pre>use admin;
db.addUser(&#39;admin_user&#39;, &#39;admin_password&#39;);
db.auth(&#39;admin_user&#39;, &#39;admin_password&#39;)
use fireworks
db.addUser(&#39;FW_user&#39;, &#39;FW_password&#39;);
use admin
db.shutdownServer();
exit
</pre></div>
</div>
</li>
<li><p class="first">Restart MongoDB, but use the <tt class="docutils literal"><span class="pre">--auth</span></tt> option to enable authentication:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mongod</span> <span class="o">--</span><span class="n">auth</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using the <tt class="docutils literal"><span class="pre">--dbpath</span></tt> option, make sure to set it.</p>
</div>
</li>
</ol>
<p>Your admin user is now configured, and your Mongo instance is now protected from unauthorized access by outsiders without your credentials. Next we must set up your LaunchPad configuration file so that you can authenticate yourself when running Firework scripts.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Your <em>admin_user</em> and <em>admin_password</em> can be used to set passwords for all databases in your Mongo installation, including databases that are unrelated to FireWorks. The <em>FW_user</em> and <em>FW_password</em> are used specifically to log in to the <strong>fireworks</strong> database.</p>
</div>
</div>
<div class="section" id="add-username-and-password-keys-to-your-launchpad-file">
<h2>Add username and password keys to your LaunchPad file<a class="headerlink" href="#add-username-and-password-keys-to-your-launchpad-file" title="Permalink to this headline">¶</a></h2>
<p>Your LaunchPad file contains the location of the LaunchPad as well as any credentials needed to connect. To connect to an authenticated database:</p>
<ol class="arabic">
<li><p class="first">Locate your <tt class="docutils literal"><span class="pre">my_launchpad.yaml</span></tt> file (perhaps from when you completed the <a class="reference internal" href="worker_tutorial.html"><em>Worker tutorial</em></a>). If you never created such a file, you can find a template in <tt class="docutils literal"><span class="pre">&lt;INSTALL_DIR&gt;/fw_tutorials/worker/launchpad.yaml</span></tt>. You might copy it to <tt class="docutils literal"><span class="pre">my_launchpad.yaml</span></tt> and edit it as necessary.</p>
</li>
<li><p class="first">Add your username and password to your launchpad file by adding or editing the following lines:</p>
<div class="highlight-python"><div class="highlight"><pre>username: &lt;YOUR_FW_USERNAME&gt;
password: &lt;YOUR_FW_PASSWORD&gt;
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure you use the username/password for your FireWorks database, not your database admin username and password.</p>
</div>
<ol class="arabic">
<li><p class="first"><strong>Make sure you store your LaunchPad file in a secure location with protected filesystem access.</strong> It contains your password as plain text!</p>
</li>
<li><p class="first">Whenever running any Firework scripts, make sure to specify the <tt class="docutils literal"><span class="pre">-l</span></tt> option and link to your configuration file. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>lpad -l my_launchpad.yaml get_fws
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre>rlaunch -l my_launchpad.yaml singleshot
</pre></div>
</div>
</li>
</ol>
<p>To save typing, you can set things up so that the <tt class="docutils literal"><span class="pre">-l</span></tt> option is automatically set to the correct value. This is especially useful if you want to store your LaunchPad file in a separate directory from the directory that you are running scripts. For details, see the tutorial on <a class="reference internal" href="config_tutorial.html#configfile-label"><em>Specifying default locations for the config files</em></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuring Security</a><ul>
<li><a class="reference internal" href="#create-an-authenticated-user-in-the-admin-database">Create an authenticated user in the admin database</a></li>
<li><a class="reference internal" href="#add-username-and-password-keys-to-your-launchpad-file">Add username and password keys to your LaunchPad file</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="plotting.html"
                        title="previous chapter">Plotting workflows</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="config_tutorial.html"
                        title="next chapter">Modifying the FW Config</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/security_tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="config_tutorial.html" title="Modifying the FW Config"
             >next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting workflows"
             >previous</a> |</li>
        <li><a href="index.html">FireWorks 0.99 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, Anubhav Jain.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53488807-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
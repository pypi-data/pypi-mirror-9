<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>acl - ACL database interface &mdash; Trigger 1.5 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Trigger 1.5 documentation" href="../../index.html" />
    <link rel="up" title="Command-line Tools" href="../cli.html" />
    <link rel="next" title="acl_script - Modify ACLs from the command-line" href="acl_script.html" />
    <link rel="prev" title="Command-line Tools" href="../cli.html" />
 
<style type="text/css">
    span.changelog-support {color: #4070A0;}
    span.changelog-bug {color: #A04040;}
    span.changelog-feature {color: #40A056;}
    a.changelog-release {font-weight: bold;}
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="acl_script.html" title="acl_script - Modify ACLs from the command-line"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../cli.html" title="Command-line Tools"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Trigger 1.5 documentation</a> &raquo;</li>
          <li><a href="../cli.html" accesskey="U">Command-line Tools</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="acl-acl-database-interface">
<h1>acl - ACL database interface<a class="headerlink" href="#acl-acl-database-interface" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#about" id="id1">About</a></li>
<li><a class="reference internal" href="#usage" id="id2">Usage</a></li>
<li><a class="reference internal" href="#examples" id="id3">Examples</a><ul>
<li><a class="reference internal" href="#managing-acl-associations" id="id4">Managing ACL associations</a></li>
<li><a class="reference internal" href="#searching-for-an-acl-or-device" id="id5">Searching for an ACL or device</a></li>
<li><a class="reference internal" href="#working-with-the-load-queue" id="id6">Working with the load queue</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="about">
<h2><a class="toc-backref" href="#id1">About</a><a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p><strong>acl</strong> is used to interface with the access-control list (ACL) database and
task queue. This is a simple command to manage explicit ACL associations within
the ACL database (acls.db), to search for both implicit and explicit ACL
associations, and to manage the ACL task queue.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id2">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Here is the usage output:</p>
<div class="highlight-python"><div class="highlight"><pre>Usage:
    acl [--exact | --device-name-only] (&lt;acl_name&gt; | &lt;device&gt;)
    acl (--add | --remove) &lt;acl_name&gt; [&lt;device&gt; [&lt;device&gt; ...]]
    acl (--clear | --inject) [--quiet] [&lt;acl_name&gt; [&lt;acl_name&gt; ...]]
    acl (--list | --listmanual)
    acl --staged

Interface with the access-control list (ACL) database and task queue.  This is
a simple command to manage explicit ACL associations within the ACL database
(acls.db), to search for both implicit and explicit ACL associations, and to
manage the ACL task queue.

Options:
  --version             show program&#39;s version number and exit
  -h, --help            show this help message and exit
  -s, --staged          list currently staged ACLs
  -l, --list            list ACLs currently in integrated (automated) queue
  -m, --listmanual      list entries currently in manual queue
  -i, --inject          inject into load queue
  -c, --clear           clear from load queue
  -x, --exact           match entire name, not just start
  -d, --device-name-only
                        don&#39;t match on ACL
  -a &lt;acl_name&gt;, --add=&lt;acl_name&gt;
                        add an acl to explicit ACL database, example: &#39;acl -a
                        acl-name device1 device2&#39;
  -r &lt;acl_name&gt;, --remove=&lt;acl_name&gt;
                        remove an acl from explicit ACL database, example:
                        &#39;acl -r acl1-name -r acl2-name device&#39;
  -q, --quiet           be quiet! (For use with scripts/cron)
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="managing-acl-associations">
<h3><a class="toc-backref" href="#id4">Managing ACL associations</a><a class="headerlink" href="#managing-acl-associations" title="Permalink to this headline">¶</a></h3>
<div class="section" id="adding-an-acl-association">
<h4>Adding an ACL association<a class="headerlink" href="#adding-an-acl-association" title="Permalink to this headline">¶</a></h4>
<p>When adding an association, you must provide the full ACL name. You may,
however, use the short name of any devices to which you&#8217;d like to associate
that ACL:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl -a jathan-special test1-abc test2-abc
added acl jathan-special to test1-abc.net.aol.com
added acl jathan-special to test2-abc.net.aol.com
</pre></div>
</div>
<p>If you try to add an association for a device that does not exist, it will complain:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl -a foo godzilla-router
skipping godzilla-router: invalid device

Please use --help to find the right syntax.
</pre></div>
</div>
</div>
<div class="section" id="removing-an-acl-association">
<h4>Removing an ACL association<a class="headerlink" href="#removing-an-acl-association" title="Permalink to this headline">¶</a></h4>
<p>Removing associations are subject to the same restrictions as additions, however in this example we&#8217;ve referenced the devices by FQDN:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl -r jathan-special test1-abc.net.aol.com test2-abc.net.aol.com
removed acl jathan-special from test1-abc.net.aol.com
removed acl jathan-special from test2-abc.net.aol.com
</pre></div>
</div>
<p>Confirm the removal and observe that it returns nothing:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl jathan-special
%
</pre></div>
</div>
<p>If you try to remove an ACL that is not associated, it will complain:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl -r foo test1-abc
test1-abc.net.aol.com does not have acl foo
</pre></div>
</div>
</div>
</div>
<div class="section" id="searching-for-an-acl-or-device">
<h3><a class="toc-backref" href="#id5">Searching for an ACL or device</a><a class="headerlink" href="#searching-for-an-acl-or-device" title="Permalink to this headline">¶</a></h3>
<p>You may search by full or partial names of ACLs or devices. When you search for
results, ACLs are checked first. If there are no matches then device names are
checked second. In either case, the pattern must match the beginning of the name
of the ACL or device.</p>
<p>You may search for the exact name of the ACL we just added:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl jathan-special
test1-abc.net.aol.com                   jathan-special
test2-abc.net.aol.com                   jathan-special
</pre></div>
</div>
<p>A partial ACL name will get you the same results in this case:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl jathan
test1-abc.net.aol.com                   jathan-special
test2-abc.net.aol.com                   jathan-special
</pre></div>
</div>
<p>A partial name will return all matching objects with  names starting with the pattern. Because there are no ACLs starting with <tt class="docutils literal"><span class="pre">'test1'</span></tt> matching devices are returned instead:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl test1
test1-abc.net.aol.com                   jathan-special abc123 xyz246
test1-def.net.aol.com                   8 9 10
test1-xyz.net.aol.com                   8 9 10
</pre></div>
</div>
<p>If you want to search for an exact ACL match, use the <tt class="docutils literal"><span class="pre">-x</span></tt> flag:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl -x jathan
No results for [&#39;jathan&#39;]
</pre></div>
</div>
<p>Or if you want to match devices names only, use the <tt class="docutils literal"><span class="pre">-d</span></tt> flag:</p>
<div class="highlight-python"><div class="highlight"><pre>% acl -d jathan-special
No results for [&#39;jathan-special&#39;]
</pre></div>
</div>
</div>
<div class="section" id="working-with-the-load-queue">
<h3><a class="toc-backref" href="#id6">Working with the load queue</a><a class="headerlink" href="#working-with-the-load-queue" title="Permalink to this headline">¶</a></h3>
<p>Not finished yet...</p>
<div class="section" id="integrated-queue">
<h4>Integrated queue<a class="headerlink" href="#integrated-queue" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="manual-queue">
<h4>Manual queue<a class="headerlink" href="#manual-queue" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">acl - ACL database interface</a><ul>
<li><a class="reference internal" href="#about">About</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#managing-acl-associations">Managing ACL associations</a><ul>
<li><a class="reference internal" href="#adding-an-acl-association">Adding an ACL association</a></li>
<li><a class="reference internal" href="#removing-an-acl-association">Removing an ACL association</a></li>
</ul>
</li>
<li><a class="reference internal" href="#searching-for-an-acl-or-device">Searching for an ACL or device</a></li>
<li><a class="reference internal" href="#working-with-the-load-queue">Working with the load queue</a><ul>
<li><a class="reference internal" href="#integrated-queue">Integrated queue</a></li>
<li><a class="reference internal" href="#manual-queue">Manual queue</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../cli.html"
                        title="previous chapter">Command-line Tools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="acl_script.html"
                        title="next chapter">acl_script - Modify ACLs from the command-line</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/usage/scripts/acl.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="acl_script.html" title="acl_script - Modify ACLs from the command-line"
             >next</a> |</li>
        <li class="right" >
          <a href="../cli.html" title="Command-line Tools"
             >previous</a> |</li>
        <li><a href="../../index.html">Trigger 1.5 documentation</a> &raquo;</li>
          <li><a href="../cli.html" >Command-line Tools</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2015, AOL Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>trigger.netdevices — Network device metadata library &mdash; Trigger 1.5 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Trigger 1.5 documentation" href="../index.html" />
    <link rel="next" title="trigger.netscreen — Juniper NetScreen firewall parser" href="netscreen.html" />
    <link rel="prev" title="trigger.gorc — Determine commands to run upon login" href="gorc.html" />
 
<style type="text/css">
    span.changelog-support {color: #4070A0;}
    span.changelog-bug {color: #A04040;}
    span.changelog-feature {color: #40A056;}
    a.changelog-release {font-weight: bold;}
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="netscreen.html" title="trigger.netscreen — Juniper NetScreen firewall parser"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gorc.html" title="trigger.gorc — Determine commands to run upon login"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Trigger 1.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-trigger.netdevices">
<span id="trigger-netdevices-network-device-metadata-library"></span><h1><a class="reference internal" href="#module-trigger.netdevices" title="trigger.netdevices"><tt class="xref py py-mod docutils literal"><span class="pre">trigger.netdevices</span></tt></a> &#8212; Network device metadata library<a class="headerlink" href="#module-trigger.netdevices" title="Permalink to this headline">¶</a></h1>
<p>The heart and soul of Trigger, NetDevices is an abstract interface to network
device metadata and ACL associations.</p>
<p>Parses <a class="reference internal" href="../usage/configuration.html#std:setting-NETDEVICES_SOURCE"><tt class="xref std std-setting docutils literal"><span class="pre">NETDEVICES_SOURCE</span></tt></a> and makes available a dictionary of
<a class="reference internal" href="#trigger.netdevices.NetDevice" title="trigger.netdevices.NetDevice"><tt class="xref py py-obj docutils literal"><span class="pre">NetDevice</span></tt></a> objects, which is keyed by the FQDN of every
network device.</p>
<p>Other interfaces are non-public.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">trigger.netdevices</span> <span class="kn">import</span> <span class="n">NetDevices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nd</span> <span class="o">=</span> <span class="n">NetDevices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dev</span> <span class="o">=</span> <span class="n">nd</span><span class="p">[</span><span class="s">&#39;test1-abc.net.aol.com&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dev</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span> <span class="n">dev</span><span class="o">.</span><span class="n">make</span>
<span class="go">(&lt;Vendor: Juniper&gt;, &#39;MX960-BASE-AC&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dev</span><span class="o">.</span><span class="n">bounce</span><span class="o">.</span><span class="n">next_ok</span><span class="p">(</span><span class="s">&#39;green&#39;</span><span class="p">)</span>
<span class="go">datetime.datetime(2010, 4, 9, 9, 0, tzinfo=&lt;UTC&gt;)</span>
</pre></div>
</div>
<dl class="function">
<dt id="trigger.netdevices.device_match">
<tt class="descclassname">trigger.netdevices.</tt><tt class="descname">device_match</tt><big>(</big><em>name</em>, <em>production_only=True</em><big>)</big><a class="headerlink" href="#trigger.netdevices.device_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a matching <a class="reference internal" href="#trigger.netdevices.NetDevice" title="trigger.netdevices.NetDevice"><tt class="xref py py-class docutils literal"><span class="pre">NetDevice</span></tt></a> object based on
partial name. Return <tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt> if no match or if multiple matches is
cancelled:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">device_match</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="go">2 possible matches found for &#39;test&#39;:</span>
<span class="go">  [ 1] test1-abc.net.aol.com</span>
<span class="go">  [ 2] test2-abc.net.aol.com</span>
<span class="go">  [ 0] Exit</span>

<span class="go">Enter a device number: 2</span>
<span class="go">&lt;NetDevice: test2-abc.net.aol.com&gt;</span>
</pre></div>
</div>
<p>If there is only a single match, that device object is returned without
a prompt:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">device_match</span><span class="p">(</span><span class="s">&#39;fw&#39;</span><span class="p">)</span>
<span class="go">Matched &#39;fw1-xyz.net.aol.com&#39;.</span>
<span class="go">&lt;NetDevice: fw1-xyz.net.aol.com&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="trigger.netdevices.NetDevice">
<em class="property">class </em><tt class="descclassname">trigger.netdevices.</tt><tt class="descname">NetDevice</tt><big>(</big><em>data=None</em>, <em>with_acls=None</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>An object that represents a distinct network device and its metadata.</p>
<p>Almost all of the attributes are populated by
<tt class="xref py py-obj docutils literal"><span class="pre">_populate()</span></tt> and are mostly dependent upon the source
data. This is prone to implementation problems and should be revisited in
the long-run as there are certain fields that are baked into the core
functionality of Trigger.</p>
<p>Users usually won&#8217;t create these objects directly! Rely instead upon
<tt class="xref py py-obj docutils literal"><span class="pre">NetDevices</span></tt> to do this for you.</p>
<dl class="method">
<dt id="trigger.netdevices.NetDevice.allowable">
<tt class="descname">allowable</tt><big>(</big><em>action</em>, <em>when=None</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.allowable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether it&#8217;s okay to perform the specified <tt class="docutils literal"><span class="pre">action</span></tt>.</p>
<p>False means a bounce window conflict. For now <tt class="docutils literal"><span class="pre">'load-acl'</span></tt> is the
only valid action and moratorium status is not checked.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>action</strong> &#8211; The action to check.</li>
<li><strong>when</strong> &#8211; A datetime object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.can_ssh_async">
<tt class="descname">can_ssh_async</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.can_ssh_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I enabled to use SSH async?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.can_ssh_pty">
<tt class="descname">can_ssh_pty</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.can_ssh_pty" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I enabled to use SSH pty?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.dump">
<tt class="descname">dump</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints details for a device.</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.has_ssh">
<tt class="descname">has_ssh</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.has_ssh" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I even listening on SSH?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_brocade_vdx">
<tt class="descname">is_brocade_vdx</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_brocade_vdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a Brocade VDX switch?</p>
<p>This is used to account for the disparity between the Brocade FCX
switches (which behave like Foundry devices) and the Brocade VDX
switches (which behave differently from classic Foundry devices).</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_cisco_asa">
<tt class="descname">is_cisco_asa</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_cisco_asa" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a Cisco ASA Firewall?</p>
<p>This is used to account for slight differences in the commands that
may be used between Cisco&#8217;s ASA and IOS platforms. Cisco ASA is still
very IOS-like, but there are still several gotcha&#8217;s between the
platforms.</p>
<p>Will return True if vendor is Cisco and platform is Firewall. This
is to allow operability if using .csv NetDevices and pretty safe to
assume considering ASA (was PIX) are Cisco&#8217;s flagship(if not only)
Firewalls.</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_firewall">
<tt class="descname">is_firewall</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_firewall" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a firewall?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_ioslike">
<tt class="descname">is_ioslike</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_ioslike" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I an IOS-like device (as determined by <a class="reference internal" href="../usage/configuration.html#std:setting-IOSLIKE_VENDORS"><tt class="xref std std-setting docutils literal"><span class="pre">IOSLIKE_VENDORS</span></tt></a>)?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_netscaler">
<tt class="descname">is_netscaler</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_netscaler" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a NetScaler?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_netscreen">
<tt class="descname">is_netscreen</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_netscreen" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a NetScreen running ScreenOS?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_pica8">
<tt class="descname">is_pica8</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_pica8" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a Pica8?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_reachable">
<tt class="descname">is_reachable</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_reachable" title="Permalink to this definition">¶</a></dt>
<dd><p>Do I respond to a ping?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_router">
<tt class="descname">is_router</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_router" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a router?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.is_switch">
<tt class="descname">is_switch</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.is_switch" title="Permalink to this definition">¶</a></dt>
<dd><p>Am I a switch?</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevice.next_ok">
<tt class="descname">next_ok</tt><big>(</big><em>action</em>, <em>when=None</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevice.next_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next time at or after the specified time (default now)
that it will be ok to perform the specified action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>action</strong> &#8211; The action to check.</li>
<li><strong>when</strong> &#8211; A datetime object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trigger.netdevices.Vendor">
<em class="property">class </em><tt class="descclassname">trigger.netdevices.</tt><tt class="descname">Vendor</tt><big>(</big><em>manufacturer=None</em><big>)</big><a class="headerlink" href="#trigger.netdevices.Vendor" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a manufacturer name to Trigger&#8217;s canonical name.</p>
<p>Given a manufacturer name like &#8216;CISCO SYSTEMS&#8217;, this will attempt to map it
to the canonical vendor name specified in <tt class="docutils literal"><span class="pre">settings.VENDOR_MAP</span></tt>. If this
can&#8217;t be done, attempt to split the name up (&#8216;CISCO, &#8216;SYSTEMS&#8217;) and see if
any of the words map. An exception is raised as a last resort.</p>
<p>This exposes a normalized name that can be used in the event of a
multi-word canonical name.</p>
<dl class="method">
<dt id="trigger.netdevices.Vendor.determine_vendor">
<tt class="descname">determine_vendor</tt><big>(</big><em>manufacturer</em><big>)</big><a class="headerlink" href="#trigger.netdevices.Vendor.determine_vendor" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to turn the provided vendor name into the cname.</p>
</dd></dl>

<dl class="attribute">
<dt id="trigger.netdevices.Vendor.normalized">
<tt class="descname">normalized</tt><a class="headerlink" href="#trigger.netdevices.Vendor.normalized" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the normalized name for the vendor.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trigger.netdevices.NetDevices">
<em class="property">class </em><tt class="descclassname">trigger.netdevices.</tt><tt class="descname">NetDevices</tt><big>(</big><em>production_only=True</em>, <em>with_acls=None</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an immutable Singleton dictionary of
<a class="reference internal" href="#trigger.netdevices.NetDevice" title="trigger.netdevices.NetDevice"><tt class="xref py py-obj docutils literal"><span class="pre">NetDevice</span></tt></a> objects.</p>
<p>By default it will only return devices for which
<tt class="docutils literal"><span class="pre">adminStatus=='PRODUCTION'</span></tt>.</p>
<p>There are hardly any use cases where <tt class="docutils literal"><span class="pre">NON-PRODUCTION</span></tt> devices are needed,
and it can cause real bugs of two sorts:</p>
<blockquote>
<div><ol class="arabic simple">
<li>trying to contact unreachable devices and reporting spurious failures,</li>
<li>hot spares with the same <tt class="docutils literal"><span class="pre">nodeName</span></tt>.</li>
</ol>
</div></blockquote>
<p>You may override this by passing <tt class="docutils literal"><span class="pre">production_only=False</span></tt>.</p>
<dl class="class">
<dt id="trigger.netdevices.NetDevices._actual">
<em class="property">class </em><tt class="descname">_actual</tt><big>(</big><em>production_only</em>, <em>with_acls</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the real class that stays active upon instantiation. All
attributes are inherited by NetDevices from this object. This means you
do NOT reference <tt class="docutils literal"><span class="pre">_actual</span></tt> itself, and instead call the methods from
the parent object.</p>
<p>Right:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">nd</span> <span class="o">=</span> <span class="n">NetDevices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nd</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;fw&#39;</span><span class="p">)</span>
<span class="go">[&lt;NetDevice: fw1-xyz.net.aol.com&gt;]</span>
</pre></div>
</div>
<p>Wrong:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">nd</span><span class="o">.</span><span class="n">_actual</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;fw&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">unbound method match() must be called with _actual</span>
<span class="go">instance as first argument (got str instance instead)</span>
</pre></div>
</div>
<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.all">
<tt class="descname">all</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all NetDevice objects.</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.find">
<tt class="descname">find</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either the exact nodename, or a unique dot-delimited
prefix.  For example, if there is a node &#8216;test1-abc.net.aol.com&#8217;,
then any of find(&#8216;test1-abc&#8217;) or find(&#8216;test1-abc.net&#8217;) or
find(&#8216;test1-abc.net.aol.com&#8217;) will match, but not find(&#8216;test1&#8217;).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<em>string</em>) &#8211; Hostname prefix to find.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">NetDevice object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.get_devices_by_type">
<tt class="descname">get_devices_by_type</tt><big>(</big><em>devtype</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.get_devices_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of NetDevice objects with deviceType matching type.</p>
<p>Known deviceTypes: [&#8216;FIREWALL&#8217;, &#8216;ROUTER&#8217;, &#8216;SWITCH&#8217;]</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.list_firewalls">
<tt class="descname">list_firewalls</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.list_firewalls" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of NetDevice objects with deviceType of FIREWALL</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.list_routers">
<tt class="descname">list_routers</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.list_routers" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of NetDevice objects with deviceType of ROUTER</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.list_switches">
<tt class="descname">list_switches</tt><big>(</big><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.list_switches" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of NetDevice objects with deviceType of SWITCH</p>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.match">
<tt class="descname">match</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to match values to all keys in &#64;kwargs by dynamically
building a list comprehension. Will throw errors if the keys don&#8217;t
match legit NetDevice attributes.</p>
<p>Keys and values are case IN-senstitive. Matches against non-string
values will FAIL.</p>
<p>Example by reference:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">nd</span> <span class="o">=</span> <span class="n">NetDevices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;onCallName&#39;</span><span class="p">:</span><span class="s">&#39;Data Center&#39;</span><span class="p">,</span> <span class="s">&#39;model&#39;</span><span class="p">:</span><span class="s">&#39;FCSLB&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mydevices</span> <span class="o">=</span> <span class="n">nd</span><span class="p">(</span><span class="o">**</span><span class="n">myargs</span><span class="p">)</span>
</pre></div>
</div>
<p>Example by keyword arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mydevices</span> <span class="o">=</span> <span class="n">nd</span><span class="p">(</span><span class="n">oncallname</span><span class="o">=</span><span class="s">&#39;data center&#39;</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s">&#39;fcslb&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of NetDevice objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trigger.netdevices.NetDevices._actual.search">
<tt class="descname">search</tt><big>(</big><em>token</em>, <em>field='nodeName'</em><big>)</big><a class="headerlink" href="#trigger.netdevices.NetDevices._actual.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of NetDevice objects where other is in
<tt class="docutils literal"><span class="pre">dev.nodeName</span></tt>. The getattr call in the search will allow a
<tt class="docutils literal"><span class="pre">AttributeError</span></tt> from a bogus field lookup so that you
don&#8217;t get an empty list thinking you performed a legit query.</p>
<p>For example, this:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; field = &#39;bacon&#39;
&gt;&gt;&gt; [x for x in nd.all() if &#39;ash&#39; in getattr(x, field)]
Traceback (most recent call last):
File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
AttributeError: &#39;NetDevice&#39; object has no attribute &#39;bacon&#39;
</pre></div>
</div>
<p>Is better than this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nd</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="k">if</span> <span class="s">&#39;ash&#39;</span> <span class="ow">in</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)]</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Because then you know that &#8216;bacon&#8217; isn&#8217;t a field you can search on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>token</strong> (<em>string</em>) &#8211; Token to search match on in &#64;field</li>
<li><strong>field</strong> (<em>string</em>) &#8211; The field to match on when searching</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of NetDevice objects</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="gorc.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">trigger.gorc</span></tt> &#8212; Determine commands to run upon login</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="netscreen.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">trigger.netscreen</span></tt> &#8212; Juniper NetScreen firewall parser</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/netdevices.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="netscreen.html" title="trigger.netscreen — Juniper NetScreen firewall parser"
             >next</a> |</li>
        <li class="right" >
          <a href="gorc.html" title="trigger.gorc — Determine commands to run upon login"
             >previous</a> |</li>
        <li><a href="../index.html">Trigger 1.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2015, AOL Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>